"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[1896],{1896:(z,A,r)=>{r.r(A),r.d(A,{CoreCpMainMenu:()=>Yt});var S=r(6900),l=r(6610),f=r(7222),M=r(3627),y=r(3342),_=r(7153),c=r(8189),v=r(5459),$=r(8550),W=r(4429),K=r(5762),P=r(9675),e=r(7788);let j=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-user"]],decls:1,vars:0,template:function(n,o){1&n&&e.nrm(0,"router-outlet")},dependencies:[P.n3],encapsulation:2})}return i})();var I=r(6482),k=r(5113),b=r(9722),w=r(5154),E=r(2882),x=r(8339),U=r(9344),X=r(6182),H=r(4587),N=r(8351),Z=r(1536),J=r(7912),R=r(4252),Q=r(7647),u=r(4434),m=r(1041);function h(i,d){if(1&i){const t=e.RV6();e.j41(0,"li")(1,"mat-checkbox",1),e.bIt("change",function(){const o=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onActionSelect(o))}),e.EFF(2),e.k0s()()}if(2&i){const t=d.$implicit,n=e.XpG();e.R7$(),e.Y8G("checked",n.fieldsStatus.get(t.id))("disabled",n.optionDisabled),e.R7$(),e.SpI(" ",t.title," ")}}let g=(()=>{class i{constructor(t,n,o,s,p,a){this.coreEnumService=t,this.categoryService=n,this.cdr=o,this.publicHelper=s,this.translate=p,this.cmsToastrService=a,this.dataModelResult=new c.N$V,this.dataModelSelect=[],this.dataIdsSelect=[],this.loading=new u.o,this.formControl=new f.MJ,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new e.bkB,this.optionSelectAdded=new e.bkB,this.optionSelectRemoved=new e.bkB,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(C=>{this.loading.message=C})}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){const t=new c.O2i;t.rowPerPage=50,t.accessLoad=!0;const n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(n,o,this.constructor.name)}),this.categoryService.ServiceGetAll(t).subscribe({next:o=>{o.isSuccess?(this.dataModelResult=o,this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(n)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(n=>{this.dataIdsSelect.push(n)}):typeof t==typeof Array(c.fNb)&&t.forEach(n=>{this.dataIdsSelect.push(n.id)}),this.dataIdsSelect.forEach(n=>this.fieldsStatus.set(n,!0))}onActionButtonReload(){this.DataGetAll()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.i9D),e.rXU(c.jmw),e.rXU(e.gRc),e.rXU(w.A),e.rXU(E.c$),e.rXU(b.k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-usergroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(n,o){1&n&&(e.j41(0,"ul"),e.DNE(1,h,3,3,"li",0),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngForOf",o.dataModelResult.listItems))},dependencies:[l.Sq,m.So]})}return i})();var B=r(3308),D=r(5804),q=r(965),re=r(8887),ce=r(3793),de=r(2831),pe=r(3527),te=r(2497),ue=r(8278);const me=["*"];function fe(i,d){if(1&i&&(e.j41(0,"label",8),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.Mz_("for","app-cms-site-selector-",t.id,""),e.R7$(),e.JRh(t.optionLabel)}}function he(i,d){if(1&i&&(e.j41(0,"mat-option",9)(1,"span"),e.EFF(2),e.k0s()()),2&i){const t=d.$implicit,n=e.XpG();e.Y8G("value",t)("disabled",n.optionDisabled),e.R7$(2),e.JRh(n.displayOption(t))}}function Me(i,d){if(1&i){const t=e.RV6();e.j41(0,"mat-icon",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionSelectClear())}),e.EFF(1,"close"),e.k0s()}}let oe=(()=>{class i{static#e=this.nextId=0;constructor(t,n,o,s,p,a){this.coreEnumService=t,this.cmsToastrService=n,this.cdr=o,this.publicHelper=s,this.translate=p,this.categoryService=a,this.id=++i.nextId,this.dataModelResult=new c.N$V,this.dataModelSelect=new c.QxU,this.formControl=new f.MJ,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new e.bkB,this.optionReload=()=>this.onActionButtonReload(),this.loading=new u.o,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(C=>{this.loading.message=C})}set optionSelectForce(t){this.onActionSelectForce(t)}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,q.Z)(""),(0,re.B)(1500),(0,ce.F)(),(0,de.n)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){var n=this;return(0,B.A)(function*(){const o=new c.O2i;o.rowPerPage=20,o.accessLoad=!0;let s=new c.ycK;s.propertyName="Title",s.value=t,s.searchType=c._GO.Contains,s.clauseType=c.jL_.Or,o.filters.push(s),t&&"number"==typeof+t&&+t>0&&(s=new c.ycK,s.propertyName="Id",s.value=t,s.searchType=c._GO.Equal,s.clauseType=c.jL_.Or,o.filters.push(s));const p=n.constructor.name+"main";return n.translate.get("MESSAGE.Receiving_information").subscribe(a=>{n.publicHelper.processService.processStart(p,a,n.constructor.name)}),yield(0,D._)(n.categoryService.ServiceGetAll(o)).then(a=>(n.dataModelResult=a,n.optionSelectFirstItem&&(!n.dataModelSelect||!n.dataModelSelect.id||n.dataModelSelect.id<=0)&&n.dataModelResult.listItems.length>0&&(n.optionSelectFirstItem=!1,setTimeout(()=>{n.formControl.setValue(n.dataModelResult.listItems[0])},1e3),n.onActionSelect(n.dataModelResult.listItems[0])),n.publicHelper.processService.processStop(p),a.listItems))})()}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe((0,pe.T)(n=>(n.find(o=>o.id===t.id)||n.push(t),n)))}onActionSelectForce(t){if("number"==typeof t&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(n=>n.id===t)){const n=this.dataModelResult.listItems.find(o=>o.id===t);return this.dataModelSelect=n,void this.formControl.setValue(n)}this.categoryService.ServiceGetOneById(t).subscribe({next:n=>{n.isSuccess?(this.filteredOptions=this.push(n.item),this.dataModelSelect=n.item,this.formControl.setValue(n.item),this.optionChange.emit(n.item)):this.cmsToastrService.typeErrorMessage(n.errorMessage)}})}else{if(typeof t==typeof c.QxU)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new c.QxU,this.loadOptions()}static#t=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.i9D),e.rXU(b.k),e.rXU(e.gRc),e.rXU(w.A),e.rXU(E.c$),e.rXU(c.e7S))};static#o=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-cpmainmenu-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:me,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(n,o){if(1&n){const s=e.RV6();e.NAR(),e.j41(0,"div",1),e.nrm(1,"app-progress-spinner",2),e.DNE(2,fe,2,3,"label",3),e.nrm(3,"input",4),e.j41(4,"mat-autocomplete",5,0),e.bIt("optionSelected",function(a){return e.eBV(s),e.Njj(o.onActionSelect(a.option.value))}),e.DNE(6,he,3,3,"mat-option",6),e.nI1(7,"async"),e.k0s(),e.DNE(8,Me,2,0,"mat-icon",7),e.SdG(9),e.k0s()}if(2&n){const s=e.sdS(5);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("ngIf",(null==o.optionLabel?null:o.optionLabel.length)>0),e.R7$(),e.FS9("placeholder",o.optionPlaceholder),e.Mz_("id","app-cms-site-selector-",o.id,""),e.Y8G("formControl",o.formControl)("matAutocomplete",s),e.BMQ("disabled",!!o.optionDisabled||null),e.R7$(),e.Y8G("displayWith",o.displayFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(7,11,o.filteredOptions)),e.R7$(2),e.Y8G("ngIf",null==o.dataModelSelect?null:o.dataModelSelect.id)}},dependencies:[l.Sq,l.bT,f.me,f.BC,f.l_,te.$3,ue.wT,te.pN,U.yw,X.An,H.fg,J._,l.Jj],encapsulation:2})}return i})();const _e=["vform"],ge=i=>({direction:i}),Ce=()=>["fa"];function Se(i,d){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",34),e.mxI("modelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.recordStatus,o)||(s.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ie(i,d){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(),e.SpI(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.R7$(2),e.JRh(e.bMT(4,2,"MESSAGE.required"))}}function be(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",35),e.EFF(2),e.k0s(),e.j41(3,"input",36,3),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.title,o)||(s.dataModel.title=o),e.Njj(o)}),e.k0s(),e.j41(5,"em"),e.EFF(6),e.k0s(),e.DNE(7,Ie,5,4,"mat-error",37),e.k0s()}if(2&i){const t=e.sdS(4),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle),e.R7$(),e.FS9("placeholder",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle),e.R50("ngModel",n.dataModel.title),e.Y8G("disabled",!(null!=n.fieldsInfo.title&&n.fieldsInfo.title.accessEditField)),e.R7$(3),e.SpI("",t.value.length," / 100"),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function Re(i,d){1&i&&(e.j41(0,"mat-error"),e.EFF(1," TitleResourceLanguage is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ee(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",38),e.EFF(2),e.k0s(),e.j41(3,"input",39,4),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.title,o)||(s.dataModel.title=o),e.Njj(o)}),e.k0s(),e.j41(5,"em"),e.EFF(6),e.k0s(),e.DNE(7,Re,5,3,"mat-error",37),e.k0s()}if(2&i){const t=e.sdS(4),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.fieldTitle),e.R7$(),e.FS9("placeholder",null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.fieldTitle),e.R50("ngModel",n.dataModel.title),e.Y8G("disabled",!(null!=n.fieldsInfo.titleResourceLanguage&&n.fieldsInfo.titleResourceLanguage.accessEditField)),e.R7$(3),e.SpI("",t.value.length," / 100"),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function Te(i,d){if(1&i&&(e.j41(0,"option",40),e.EFF(1),e.k0s()),2&i){const t=d.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function ve(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",41),e.EFF(2),e.k0s(),e.j41(3,"input",42,5),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.routeAddressLink,o)||(s.dataModel.routeAddressLink=o),e.Njj(o)}),e.k0s(),e.j41(5,"em"),e.EFF(6),e.k0s()()}if(2&i){const t=e.sdS(4),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.routeAddressLink?null:n.fieldsInfo.routeAddressLink.fieldTitle),e.R7$(),e.FS9("placeholder",null==n.fieldsInfo.routeAddressLink?null:n.fieldsInfo.routeAddressLink.fieldTitle),e.R50("ngModel",n.dataModel.routeAddressLink),e.Y8G("disabled",!(null!=n.fieldsInfo.routeAddressLink&&n.fieldsInfo.routeAddressLink.accessEditField)),e.R7$(3),e.SpI("",t.value.length," / 100")}}function Ae(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",43)(1,"div",44)(2,"h5",45),e.EFF(3),e.k0s()(),e.j41(4,"div",46)(5,"div",47)(6,"input",48),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.routeAddressBlankPage,o)||(s.dataModel.routeAddressBlankPage=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",49),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.routeAddressBlankPage?null:t.fieldsInfo.routeAddressBlankPage.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.routeAddressBlankPage)}}function ye(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",50),e.EFF(2),e.k0s(),e.j41(3,"input",51,6),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.color,o)||(s.dataModel.color=o),e.Njj(o)}),e.k0s(),e.nrm(5,"ngx-ntk-mat-color-toggle",52)(6,"ngx-ntk-mat-color-picker",53,7),e.k0s()}if(2&i){const t=e.sdS(7),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.routeAddressLink?null:n.fieldsInfo.routeAddressLink.fieldTitle),e.R7$(),e.xc7("background",n.dataModel.color),e.FS9("placeholder",null==n.fieldsInfo.color?null:n.fieldsInfo.color.fieldTitle),e.Y8G("ngxMatColorPicker",t),e.R50("ngModel",n.dataModel.color),e.Y8G("disabled",!(null!=n.fieldsInfo.color&&n.fieldsInfo.color.accessEditField)),e.R7$(2),e.Y8G("for",t),e.R7$(),e.Y8G("touchUi",!0)("color","primary")}}function De(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",54),e.EFF(2),e.k0s(),e.j41(3,"input",55,8),e.bIt("iconPickerSelect",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onIconPickerSelect(o))}),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.icon,o)||(s.dataModel.icon=o),e.Njj(o)}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.JRh(null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle),e.Y8G("iconPicker",t.dataModel.icon)("ipIconPack",e.lJ4(7,Ce))("ipPosition","top"),e.R50("ngModel",t.dataModel.icon),e.Y8G("disabled",!(null!=t.fieldsInfo.icon&&t.fieldsInfo.icon.accessEditField))}}function Fe(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",56),e.EFF(2),e.k0s(),e.j41(3,"input",57,9),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.showInMenuOrder,o)||(s.dataModel.showInMenuOrder=o),e.Njj(o)}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.JRh(null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle),e.R50("ngModel",t.dataModel.showInMenuOrder),e.Y8G("disabled",!(null!=t.fieldsInfo.showInMenuOrder&&t.fieldsInfo.showInMenuOrder.accessEditField))}}function Ge(i,d){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Description is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function je(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",58),e.EFF(2),e.k0s(),e.j41(3,"textarea",59,10),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.description,o)||(s.dataModel.description=o),e.Njj(o)}),e.EFF(5,"            "),e.k0s(),e.j41(6,"em"),e.EFF(7),e.k0s(),e.DNE(8,Ge,5,3,"mat-error",37),e.k0s()}if(2&i){const t=e.sdS(4),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.description?null:n.fieldsInfo.description.fieldTitle),e.R7$(),e.FS9("placeholder",null==n.fieldsInfo.description?null:n.fieldsInfo.description.fieldTitle),e.R50("ngModel",n.dataModel.description),e.R7$(4),e.SpI("",t.value.length," / 500"),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function ke(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",60)(1,"button",61),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",62),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}if(2&i){e.XpG();const t=e.sdS(9);e.R7$(2),e.JRh(e.bMT(3,3,"ACTION.BACK")),e.R7$(2),e.Y8G("disabled",!t.form.valid),e.R7$(),e.SpI(" ",e.bMT(6,5,"ACTION.NEXT")," ")}}function we(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",43)(1,"div",44)(2,"h5",63),e.EFF(3),e.k0s()(),e.j41(4,"div",46)(5,"div",47)(6,"input",64),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.showInMenu,o)||(s.dataModel.showInMenu=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",65),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.showInMenu?null:t.fieldsInfo.showInMenu.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.showInMenu)}}function Le(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",43)(1,"div",44)(2,"h5",66),e.EFF(3),e.k0s()(),e.j41(4,"div",46)(5,"div",47)(6,"input",67),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.showInAccessAdminAllowToProfessionalData,o)||(s.dataModel.showInAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",68),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.showInAccessAdminAllowToProfessionalData?null:t.fieldsInfo.showInAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.showInAccessAdminAllowToProfessionalData)}}function Oe(i,d){if(1&i&&(e.j41(0,"div",60)(1,"button",69),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",70),e.EFF(5),e.nI1(6,"translate"),e.k0s()()),2&i){e.XpG();const t=e.sdS(9);e.R7$(2),e.SpI(" ",e.bMT(3,3,"ACTION.BEFOR")," "),e.R7$(2),e.Y8G("disabled",!t.form.valid),e.R7$(),e.SpI(" ",e.bMT(6,5,"ACTION.SAVE")," ")}}function Pe(i,d){1&i&&(e.j41(0,"mat-icon"),e.EFF(1,"call_end"),e.k0s())}function Ne(i,d){1&i&&(e.j41(0,"mat-icon"),e.EFF(1,"call_end"),e.k0s())}function Be(i,d){1&i&&(e.j41(0,"mat-icon"),e.EFF(1,"forum"),e.k0s())}function Ve(i,d){1&i&&(e.j41(0,"mat-icon"),e.EFF(1,"forum"),e.k0s())}let ee=(()=>{class i extends k.n{constructor(t,n,o,s,p,a,C,O,T,G){super(s,new c.QxU,C,T),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreCpMainMenuService=s,this.coreCpMainMenuCmsUserGroupService=p,this.cmsToastrService=a,this.publicHelper=C,this.cdr=O,this.translate=T,this.tokenHelper=G,this.requestId=0,this.appLanguage="fa",this.dataModelResult=new c.YyC,this.dataModel=new c.QxU,this.formInfo=new c.IL9,this.dataModelEnumMenuPlaceTypeResult=new c.N$V,this.fileManagerOpenForm=!1,this.dataCoreCpMainMenuIds=[],this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(V=>{this.loading.message=V}),t&&(this.requestId=+t.id||0),this.tokenHelper.getCurrentToken().then(V=>{this.tokenInfo=V})}ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreCpMainMenuService.setAccessLoad(),this.coreCpMainMenuService.setAccessDataType(c.FYP.Editor),this.coreCpMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.dataAccessModel=n.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Getting_access_category_from_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(t,s,this.constructor.name)});const n=new c.O2i,o=new c.ycK;o.propertyName="CmsCpMainMenu_Id",o.value=this.requestId,n.filters.push(o),this.coreCpMainMenuCmsUserGroupService.ServiceGetAll(n).subscribe({next:s=>{this.dataCoreCpMainMenuCmsUserGroupModel=s.listItems;const p=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(a=>{p.push(a.cmsUserGroup_Id)}),this.dataCoreCpMainMenuIds=p,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.formAlert=a}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.dataModel.color=this.dataModel.color?.toString(),this.coreCpMainMenuService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,n){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{n.selectedIndex=t.previouslySelectedIndex},10)))}onActionSelectorModuleSelect(t){this.dataModel.linkModuleId=null,t&&t.id>0&&(this.dataModel.linkModuleId=t.id)}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id>0&&(this.dataModel.linkParentId=t.id)}onActionSelectorUserCategorySelect(t){this.dataCoreCpMainMenuModel=t}onActionSelectorUserCategorySelectAdded(t){const n=new c.bI;n.cmsUserGroup_Id=t.id,n.cmsCpMainMenu_Id=this.dataModel.id,this.coreCpMainMenuCmsUserGroupService.ServiceAdd(n).subscribe({next:o=>{o.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}onActionSelectorUserCategorySelectRemoved(t){const n=new c.bI;n.cmsUserGroup_Id=t.id,n.cmsCpMainMenu_Id=this.dataModel.id,this.coreCpMainMenuCmsUserGroupService.ServiceDeleteEntity(n).subscribe({next:o=>{o.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}onIconPickerSelect(t){this.dataModel.icon=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(I.Vh),e.rXU(I.CP),e.rXU(c.i9D),e.rXU(c.e7S),e.rXU(c.nTF),e.rXU(b.k),e.rXU(w.A),e.rXU(e.gRc),e.rXU(E.c$),e.rXU(x._))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-user-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(_e,5),2&n){let s;e.mGM(s=e.lsd())&&(o.formGroup=s.first)}},features:[e.Vt3],decls:50,vars:51,consts:[["vform","ngForm"],["stepper",""],["MenuPlaceType","ngModel"],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionLoadingChange","optionDisabled","optionLoading","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["id","dataModel.menuPlaceType","name","dataModel.menuPlaceType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"value"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","3","maxlength","100","id","dataModel.routeAddressLink",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","text","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.showInMenu",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInMenu","name","dataModel.showInMenu",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInMenu",1,"custom-control-label"],["data-trigger-switch","dataModel.showInAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInAccessAdminAllowToProfessionalData","name","dataModel.showInAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInAccessAdminAllowToProfessionalData",1,"custom-control-label"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(n,o){if(1&n){const s=e.RV6();e.j41(0,"div",11),e.nrm(1,"app-progress-spinner",12),e.j41(2,"div",13)(3,"p",14),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",15,0),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(o.onFormSubmit())}),e.j41(10,"mat-vertical-stepper",16,1),e.bIt("selectionChange",function(a){e.eBV(s);const C=e.sdS(11);return e.Njj(o.onStepClick(a,C))}),e.j41(12,"mat-step",17),e.nI1(13,"translate"),e.DNE(14,Se,1,5,"app-cms-enum-record-status-selector",18),e.j41(15,"app-core-cpmainmenu-selector",19),e.nI1(16,"translate"),e.bIt("optionChange",function(a){return e.eBV(s),e.Njj(o.onActionSelectorSelect(a))}),e.mxI("optionLoadingChange",function(a){return e.eBV(s),e.DH7(o.loading,a)||(o.loading=a),e.Njj(a)}),e.k0s(),e.DNE(17,be,8,6,"div",20),e.j41(18,"div",21)(19,"label",22),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",23),e.mxI("ngModelChange",function(a){return e.eBV(s),e.DH7(o.dataModel.titleML,a)||(o.dataModel.titleML=a),e.Njj(a)}),e.k0s()(),e.DNE(23,Ee,8,6,"div",20),e.j41(24,"div",21)(25,"select",24,2),e.mxI("ngModelChange",function(a){return e.eBV(s),e.DH7(o.dataModel.menuPlaceType,a)||(o.dataModel.menuPlaceType=a),e.Njj(a)}),e.DNE(27,Te,2,2,"option",25),e.k0s()(),e.DNE(28,ve,7,5,"div",20)(29,Ae,8,2,"div",26)(30,ye,8,10,"div",20)(31,De,5,8,"div",20)(32,Fe,5,4,"div",20)(33,je,9,5,"div",20)(34,ke,7,7,"div",27),e.k0s(),e.j41(35,"mat-step",28),e.nI1(36,"translate"),e.j41(37,"p"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.DNE(40,we,8,2,"div",26)(41,Le,8,2,"div",26),e.j41(42,"app-core-module-selector",19),e.nI1(43,"translate"),e.bIt("optionChange",function(a){return e.eBV(s),e.Njj(o.onActionSelectorModuleSelect(a))}),e.mxI("optionLoadingChange",function(a){return e.eBV(s),e.DH7(o.loading,a)||(o.loading=a),e.Njj(a)}),e.k0s(),e.j41(44,"app-core-usergroup-selectionlist",29),e.bIt("optionChange",function(a){return e.eBV(s),e.Njj(o.onActionSelectorUserCategorySelect(a))})("optionSelectAdded",function(a){return e.eBV(s),e.Njj(o.onActionSelectorUserCategorySelectAdded(a))})("optionSelectRemoved",function(a){return e.eBV(s),e.Njj(o.onActionSelectorUserCategorySelectRemoved(a))}),e.k0s(),e.DNE(45,Oe,7,7,"div",27),e.k0s(),e.DNE(46,Pe,2,0,"ng-template",30)(47,Ne,2,0,"ng-template",31)(48,Be,2,0,"ng-template",32)(49,Ve,2,0,"ng-template",33),e.k0s()()()()}2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(49,ge,o.tokenInfo.direction)),e.R7$(4),e.FS9("label",e.bMT(13,37,"TITLE.Menu_Profile")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkParentId)("optionPlaceholder",e.bMT(16,39,"TITLE.Parent_Menu")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.title?null:o.fieldsInfo.title.accessWatchField),e.R7$(3),e.JRh(e.bMT(21,41,"TITLE.TitleML")),e.R7$(2),e.R50("ngModel",o.dataModel.titleML),e.Y8G("disabled",!0),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.menuPlaceType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumMenuPlaceTypeResult.listItems),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.routeAddressBlankPage?null:o.fieldsInfo.routeAddressBlankPage.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.color?null:o.fieldsInfo.color.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.icon?null:o.fieldsInfo.icon.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.showInMenuOrder?null:o.fieldsInfo.showInMenuOrder.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.description?null:o.fieldsInfo.description.accessWatchField),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)),e.R7$(),e.FS9("label",e.bMT(36,43,"TITLE.ACEESS")),e.R7$(3),e.JRh(e.bMT(39,45,"TITLE.Specify_access_to_this_content")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.showInMenu?null:o.fieldsInfo.showInMenu.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.showInAccessAdminAllowToProfessionalData?null:o.fieldsInfo.showInAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkModuleId)("optionPlaceholder",e.bMT(43,47,"TITLE.MODULE")),e.R7$(2),e.Y8G("optionSelectForce",o.dataCoreCpMainMenuIds)("optionDisabled",!1),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.Sq,l.bT,l.B3,f.qT,f.xH,f.y7,f.me,f.Zm,f.wz,f.BC,f.cb,f.xh,f.tU,f.vS,f.cV,U.TL,U.yw,X.An,H.fg,N.V5,N.M6,N.F7,N.FR,N.xJ,Z.m,J._,R.r,Q.S,g,_.M0,_.rY,_.UT,y.hf,oe,E.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var $e=r(9915),Y=r(5312),xe=r(8784);const Ue=["vform"],Xe=i=>({direction:i});function He(i,d){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",17),e.mxI("modelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.dataModel.recordStatus,o)||(s.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ye(i,d){if(1&i&&(e.j41(0,"mat-error"),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.R7$(2),e.JRh(e.bMT(4,2,"MESSAGE.required"))}}function We(i,d){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Description is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ke(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",20),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",21),e.nrm(6,"i",22),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&i){e.XpG();const t=e.sdS(9);e.R7$(3),e.SpI(" ",e.bMT(4,3,"ACTION.CANCEL")," "),e.R7$(2),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.SpI(" ",e.bMT(8,5,"ACTION.SAVE")," ")}}let ne=(()=>{class i extends xe.Q{constructor(t,n,o,s,p,a,C,O,T){super(s,new c.QxU,p,O),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreCpMainMenuService=s,this.publicHelper=p,this.cmsToastrService=a,this.cdr=C,this.translate=O,this.tokenHelper=T,this.requestParentId=0,this.fieldsInfo=new Map,this.dataModelResult=new c.N$V,this.dataModel=new c.QxU,this.formInfo=new c.IL9,this.dataModelEnumMenuPlaceTypeResult=new c.N$V,this.fileManagerOpenForm=!1,this.tokenInfo=new c.l$k,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(G=>{this.loading.message=G}),t&&(this.requestParentId=+t.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.tokenHelper.getCurrentToken().then(G=>{this.tokenInfo=G})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreCpMainMenuService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:n.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id>0&&(this.dataModel.linkParentId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(I.Vh),e.rXU(I.CP),e.rXU(c.i9D),e.rXU(c.e7S),e.rXU(w.A),e.rXU(b.k),e.rXU(e.gRc),e.rXU(E.c$),e.rXU(x._))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-user-add"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ue,5),2&n){let s;e.mGM(s=e.lsd())&&(o.formGroup=s.first)}},features:[e.Vt3],decls:31,vars:26,consts:[["vform","ngForm"],["Title",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionLoadingChange","optionDisabled","optionLoading","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,o){if(1&n){const s=e.RV6();e.j41(0,"div",3),e.nrm(1,"app-progress-spinner",4),e.j41(2,"div",5)(3,"p",6),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",7,0),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(o.onFormSubmit())}),e.DNE(10,He,1,5,"app-cms-enum-record-status-selector",8),e.j41(11,"app-core-cpmainmenu-selector",9),e.nI1(12,"translate"),e.bIt("optionChange",function(a){return e.eBV(s),e.Njj(o.onActionSelectorSelect(a))}),e.mxI("optionLoadingChange",function(a){return e.eBV(s),e.DH7(o.loading,a)||(o.loading=a),e.Njj(a)}),e.k0s(),e.j41(13,"div",10)(14,"label",11),e.EFF(15),e.k0s(),e.j41(16,"input",12,1),e.mxI("ngModelChange",function(a){return e.eBV(s),e.DH7(o.dataModel.title,a)||(o.dataModel.title=a),e.Njj(a)}),e.k0s(),e.j41(18,"em"),e.EFF(19),e.k0s(),e.DNE(20,Ye,5,4,"mat-error",13),e.k0s(),e.j41(21,"div",10)(22,"label",14),e.EFF(23),e.k0s(),e.j41(24,"textarea",15,2),e.mxI("ngModelChange",function(a){return e.eBV(s),e.DH7(o.dataModel.description,a)||(o.dataModel.description=a),e.Njj(a)}),e.EFF(26,"        "),e.k0s(),e.j41(27,"em"),e.EFF(28),e.k0s(),e.DNE(29,We,5,3,"mat-error",13),e.k0s(),e.DNE(30,Ke,9,7,"div",16),e.k0s()()()}if(2&n){const s=e.sdS(17),p=e.sdS(25);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(24,Xe,o.tokenInfo.direction)),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkParentId)("optionPlaceholder",e.bMT(12,22,"TITLE.Parent_Menu")),e.R7$(4),e.JRh(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.R7$(),e.FS9("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.R50("ngModel",o.dataModel.title),e.R7$(3),e.SpI("",s.value.length," / 100"),e.R7$(),e.Y8G("ngIf",null==s.errors?null:s.errors.required),e.R7$(3),e.JRh(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.R7$(),e.FS9("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.R50("ngModel",o.dataModel.description),e.R7$(4),e.SpI("",p.value.length," / 500"),e.R7$(),e.Y8G("ngIf",null==p.errors?null:p.errors.required),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[l.bT,l.B3,f.qT,f.me,f.BC,f.cb,f.xh,f.tU,f.vS,f.cV,U.TL,H.fg,Z.m,J._,oe,E.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var Je=r(6006),ie=r(2221),se=r(1184),Qe=r(8966),ze=r(4685),le=r(8058),F=r(8403),Ze=r(6145),qe=r(1908),et=r(3036),tt=r(3438),ot=r(8296),L=r(3769),nt=r(1704);const ae=i=>({background:i});function it(i,d){if(1&i){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionAdd())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&i&&(e.R7$(),e.JRh(e.bMT(2,1,"ACTION.ADD")))}function st(i,d){if(1&i){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionEdit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&i&&(e.R7$(),e.JRh(e.bMT(2,1,"ACTION.EDIT")))}function lt(i,d){if(1&i){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonReload())}),e.j41(1,"mat-icon",14),e.nI1(2,"translate"),e.EFF(3,"refresh"),e.k0s()()}2&i&&(e.R7$(),e.FS9("title",e.bMT(2,1,"ACTION.RELOAD")))}function at(i,d){if(1&i){const t=e.RV6();e.j41(0,"mat-tree-node",15),e.bIt("click",function(){const o=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onActionSelect(o))}),e.nrm(1,"button",16)(2,"i",17),e.EFF(3),e.k0s()}if(2&i){const t=d.$implicit,n=e.XpG();e.Y8G("ngStyle",e.eq3(3,ae,n.dataModelSelect.id>0&&n.dataModelSelect.id===t.id?"#d3d3da":"")),e.R7$(2),e.Y8G("ngClass",t.icon),e.R7$(),e.SpI(" \xa0\xa0\xa0\xa0 ",t.titleML," ")}}function rt(i,d){if(1&i){const t=e.RV6();e.j41(0,"mat-nested-tree-node")(1,"li")(2,"div",18),e.bIt("click",function(){const o=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onActionSelect(o))}),e.j41(3,"button",19),e.bIt("click",function(){const o=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onActionSelect(o))}),e.j41(4,"mat-icon",20),e.EFF(5),e.k0s()(),e.nrm(6,"i",17),e.EFF(7),e.k0s(),e.j41(8,"ul"),e.eu8(9,21),e.k0s()()()}if(2&i){const t=d.$implicit,n=e.XpG();e.R7$(2),e.Y8G("ngStyle",e.eq3(9,ae,n.dataModelSelect.id>0&&n.dataModelSelect.id===t.id?"#d3d3da":"")),e.R7$(),e.BMQ("aria-label","Toggle "+t.titleML),e.R7$(2),e.SpI(" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.R7$(),e.xc7("color",t.color),e.Y8G("ngClass",t.icon),e.R7$(),e.SpI(" \xa0\xa0\xa0\xa0 ",t.titleML," "),e.R7$(),e.AVh("category-tree-invisible",!n.treeControl.isExpanded(t))}}let ct=(()=>{class i{constructor(t,n,o,s,p,a,C,O){this.cmsToastrService=t,this.coreEnumService=n,this.categoryService=o,this.dialog=s,this.tokenHelper=p,this.translate=a,this.cdr=C,this.publicHelper=O,this.dataModelSelect=new c.QxU,this.dataModelResult=new c.N$V,this.filterModel=new c.O2i,this.loading=new u.o,this.treeControl=new ot.XO(T=>T.children),this.dataSource=new L.Zh,this.optionChange=new e.bkB,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(T,G)=>!!G.children&&G.children.length>0,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T}),this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=c.eKW.Ascending}set optionSelectForce(t){this.onActionSelectForce(t)}get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:n=>{n.isSuccess?(this.dataModelResult=n,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new c.QxU,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){let t=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id);const n=new I.ru;n.disableClose=!0,n.autoFocus=!0,n.data={parentId:t},this.dialog.open(ne,n).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&(this.dataModelSelect=s.model,this.onActionEdit())})}onActionEdit(){let t=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),0!==t?this.dialog.open(ee,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:Y.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.c.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)})}onActionDelete(){let t=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),0!==t||this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(b.k),e.rXU(c.i9D),e.rXU(c.e7S),e.rXU(I.bZ),e.rXU(x._),e.rXU(E.c$),e.rXU(e.gRc),e.rXU(w.A))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-cpmainmenu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:13,vars:13,consts:[[3,"optionLoading","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding","",3,"click","ngStyle"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click","ngStyle"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(n,o){1&n&&(e.j41(0,"app-cms-html-tree",0),e.qex(1,1),e.EFF(2),e.nI1(3,"translate"),e.bVm(),e.qex(4,2),e.DNE(5,it,3,3,"button",3)(6,st,3,3,"button",4)(7,lt,4,3,"button",5),e.bVm(),e.qex(8,6),e.j41(9,"mat-tree",7),e.DNE(10,at,4,5,"mat-tree-node",8)(11,rt,10,11,"mat-nested-tree-node",9),e.k0s(),e.bVm(),e.eu8(12,10),e.k0s()),2&n&&(e.Y8G("optionLoading",o.loading)("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),e.R7$(2),e.SpI(" ",e.bMT(3,11,"TABLE."+(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.moduleEntityName))," "),e.R7$(3),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessAddRow),e.R7$(),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)&&(null==o.dataModelSelect?null:o.dataModelSelect.id)>0),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(2),e.Y8G("dataSource",o.dataSource)("treeControl",o.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",o.hasChild))},dependencies:[l.YU,l.bT,l.B3,ie.iY,X.An,L.q1,L.yI,L.yF,L.pO,L.lQ,L.d6,L.wx,nt.E,E.D9],encapsulation:2})}return i})();var dt=r(9041),pt=r(6381),ut=r(9929);const mt=()=>[5,10,20,100],ft=i=>({display:i}),ht=i=>({background:i});function Mt(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",43)(1,"a",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonNewRow())}),e.nrm(2,"i",45)(3,"br"),e.k0s(),e.j41(4,"p",46),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.ADD")))}function _t(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",43)(1,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",46),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function gt(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",43)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",46),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ct(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle," ")}}function St(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",52),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.xc7("color",t.color),e.Y8G("ngClass",t.icon)}}function It(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function bt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Rt(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Et(i,d){if(1&i&&e.nrm(0,"select",55),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,ft,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function Tt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",53),e.nI1(2,"statusIconClass"),e.DNE(3,Et,1,5,"select",54),e.k0s()),2&i){const t=d.$implicit,n=e.XpG();e.R7$(),e.Y8G("ngClass",e.bMT(2,2,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function vt(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle,"")}}function At(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.SpI(" ",t.title," ")}}function yt(i,d){1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.TitleML"),""))}function Dt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.SpI(" ",t.titleML," ")}}function Ft(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.showInMenu?null:t.fieldsInfo.showInMenu.fieldTitle,"")}}function Gt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",53),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.showInMenu))}}function jt(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.showInAccessAdminAllowToProfessionalData?null:t.fieldsInfo.showInAccessAdminAllowToProfessionalData.fieldTitle,"")}}function kt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",53),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.showInAccessAdminAllowToProfessionalData))}}function wt(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.menuPlaceType?null:t.fieldsInfo.menuPlaceType.fieldTitle," ")}}function Lt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=d.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.menuPlaceType,n.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function Ot(i,d){if(1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function Pt(i,d){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=d.$implicit;e.R7$(),e.SpI(" ",t.showInMenuOrder," ")}}function Nt(i,d){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Bt(i,d){if(1&i&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Vt(i,d){1&i&&(e.j41(0,"mat-header-cell",51),e.EFF(1,". "),e.k0s())}function $t(i,d){1&i&&(e.j41(0,"mat-cell")(1,"mat-icon",58),e.EFF(2,"reorder"),e.k0s()())}function xt(i,d){1&i&&e.nrm(0,"mat-header-row")}function Ut(i,d){if(1&i){const t=e.RV6();e.j41(0,"mat-row",59),e.bIt("click",function(){const o=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=d.$implicit,n=d.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2)),e.Y8G("ngStyle",e.eq3(6,ht,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))("cdkDragData",t)}}const Xt=[{path:"",component:j,children:[{path:"",component:(()=>{class i extends $e.j{constructor(t,n,o,s,p,a,C,O,T,G){super(t,new c.QxU,T,s,C),this.contentService=t,this.cmsConfirmationDialogService=n,this.cmsToastrService=o,this.tokenHelper=s,this.coreEnumService=p,this.cdr=a,this.translate=C,this.pageInfo=O,this.publicHelper=T,this.dialog=G,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Icon","Id","RecordStatus","Title","TitleML","ShowInMenu","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","ShowInMenuOrder","position"],this.tabledisplayedColumnsMobileSource=["Icon","Id","RecordStatus","Title","TitleML","ShowInMenu","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","ShowInMenuOrder","position"],this.dataModelEnumMenuPlaceTypeResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(V=>{this.loading.message=V}),this.optionsSearch.parentMethods={onSubmit:V=>this.onSubmitOptionsSearch(V)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=c.eKW.Ascending}ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.QxU);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){const o=new c.ycK;o.propertyName="LinkParentId",o.value=this.categoryModelSelected.id,n.filters.push(o)}this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){const n=this.tableSource.data.findIndex(s=>s===t.item.data),o=new c.XpX;o.id=this.tableSource.data[n].id,o.centerId=this.tableSource.data[t.currentIndex].id,o.actionGo=n>t.currentIndex?c.evF.GoUp:c.evF.GoDown,this.contentService.ServiceEditStep(o).subscribe({next:s=>{s.isSuccess?((0,S.HD)(this.tableSource.data,n,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(s.errorMessage)},error:s=>{this.cmsToastrService.typeError(s)}})}onActionSelectorSelect(t){var n=this.filteModelContent.sortColumn,o=this.filteModelContent.sortType;this.filteModelContent=new c.O2i,this.filteModelContent.sortColumn=n,this.filteModelContent.sortType=o,this.filteModelContent.sortColumn="ShowInMenuOrder",this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(ne,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:Y.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.c.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.onActionButtonEditRow(o.model)}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ee,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:Y.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(null!=t&&t.id&&0!==t.id)if(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{n=s["MESSAGE.Please_Confirm"],o=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(s=>{if(s){const p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(p,a,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.cmsToastrService.typeErrorDeleteRowIsNull()}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{n.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{n.set(a,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(o,a)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(C=>{n.set(C,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(o)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(o,!1)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),p=new c.ycK;p.propertyName="RecordStatus",p.value=c.Xw7.Available,s.filters.push(p),this.contentService.ServiceGetCount(s).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(C=>{n.set(C,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(o)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.e7S),e.rXU(v.o),e.rXU(b.k),e.rXU(x._),e.rXU(c.i9D),e.rXU(e.gRc),e.rXU(E.c$),e.rXU(Je.P),e.rXU(w.A),e.rXU(I.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-user-list"]],features:[e.Vt3],decls:69,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","ShowInMenu"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ntk-row-odd","ntk-row-even","ngStyle","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"click","ngStyle","cdkDragData"]],template:function(n,o){if(1&n){const s=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(a){return e.eBV(s),e.DH7(o.viewGuideNotice,a)||(o.viewGuideNotice=a),e.Njj(a)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(s),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(s),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(s),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(s),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.j41(2,"app-core-cpmainmenu-tree",5),e.bIt("optionChange",function(a){return e.eBV(s),e.Njj(o.onActionSelectorSelect(a))}),e.k0s(),e.bVm(),e.eu8(3,6),e.qex(4,7),e.j41(5,"div",8)(6,"div",9)(7,"a",10)(8,"mat-slide-toggle",11),e.mxI("ngModelChange",function(a){return e.eBV(s),e.DH7(o.optionsSearch.data.show,a)||(o.optionsSearch.data.show=a),e.Njj(a)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",10)(12,"mat-slide-toggle",12),e.bIt("click",function(){return e.eBV(s),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",13)(16,"a",14),e.bIt("click",function(){return e.eBV(s),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(17,"i",15),e.k0s(),e.j41(18,"a",14),e.bIt("click",function(){return e.eBV(s),e.Njj(o.onActionButtonReload())}),e.nrm(19,"i",16),e.k0s()()(),e.bVm(),e.qex(20,17),e.DNE(21,Mt,7,3,"div",18),e.bVm(),e.qex(22,19),e.DNE(23,_t,7,3,"div",18)(24,gt,7,3,"div",18),e.bVm(),e.qex(25,20),e.j41(26,"app-cms-search-list",21),e.mxI("optionsChange",function(a){return e.eBV(s),e.DH7(o.optionsSearch,a)||(o.optionsSearch=a),e.Njj(a)}),e.k0s(),e.j41(27,"app-cms-statist-list",21),e.mxI("optionsChange",function(a){return e.eBV(s),e.DH7(o.optionsStatist,a)||(o.optionsStatist=a),e.Njj(a)}),e.k0s(),e.bVm(),e.qex(28,22),e.j41(29,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(s);const a=e.sdS(30);return e.Njj(o.onTableSortData(a))})("cdkDropListDropped",function(a){return e.eBV(s),e.Njj(o.onTableDropRow(a))}),e.qex(31,24),e.DNE(32,Ct,2,1,"mat-header-cell",25)(33,St,2,3,"mat-cell",26),e.bVm(),e.qex(34,27),e.DNE(35,It,2,1,"mat-header-cell",25)(36,bt,2,1,"mat-cell",26),e.bVm(),e.qex(37,28),e.DNE(38,Rt,2,1,"mat-header-cell",25)(39,Tt,4,4,"mat-cell",26),e.bVm(),e.qex(40,29),e.DNE(41,vt,2,1,"mat-header-cell",25)(42,At,2,1,"mat-cell",26),e.bVm(),e.qex(43,30),e.DNE(44,yt,3,3,"mat-header-cell",25)(45,Dt,2,1,"mat-cell",26),e.bVm(),e.qex(46,31),e.DNE(47,Ft,2,1,"mat-header-cell",25)(48,Gt,3,3,"mat-cell",26),e.bVm(),e.qex(49,32),e.DNE(50,jt,2,1,"mat-header-cell",25)(51,kt,3,3,"mat-cell",26),e.bVm(),e.qex(52,33),e.DNE(53,wt,2,1,"mat-header-cell",25)(54,Lt,3,4,"mat-cell",26),e.bVm(),e.qex(55,34),e.DNE(56,Ot,2,1,"mat-header-cell",25)(57,Pt,2,1,"mat-cell",26),e.bVm(),e.qex(58,35),e.DNE(59,Nt,3,3,"mat-header-cell",36)(60,Bt,6,1,"mat-cell",37),e.bVm(),e.qex(61,38),e.DNE(62,Vt,2,0,"mat-header-cell",25)(63,$t,3,0,"mat-cell",26),e.bVm(),e.DNE(64,xt,1,0,"mat-header-row",39)(65,Ut,1,8,"mat-row",40),e.k0s(),e.bVm(),e.qex(66,41),e.j41(67,"mat-paginator",42,1),e.bIt("page",function(a){return e.eBV(s),e.Njj(o.onTablePageingData(a))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!0)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.title),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(8),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessAddRow),e.R7$(2),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource)("cdkDropListData",o.tableSource),e.R7$(35),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,mt)))},dependencies:[l.YU,l.bT,l.B3,f.BC,f.vS,ie.iY,X.An,H.fg,se.kk,se.Cp,Qe.iy,ze.sG,le.B4,le.aE,F.Zl,F.tL,F.ji,F.cC,F.YV,F.iL,F.KS,F.$R,F.YZ,F.NB,Ze.l,qe.l,et.A,tt.x,S.O7,S.T1,S.Fb,ct,E.D9,dt.p,pt.T,ut.j],encapsulation:2})}return i})()},{path:"edit/:Id",component:ee}]}];let Ht=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({imports:[P.iI.forChild(Xt),P.iI]})}return i})(),Yt=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({providers:[c.XBe,c.i9D,c.e7S,c.nTF,c.Nsb,v.o],imports:[l.MD,Ht,f.YN,f.X1.withConfig({warnOnNgModelWithFormControl:"never"}),$.G,M.Qt,W.CoreModuleModule,K.CoreUserGroupCmsModule,_.JG,y.UA,S.ad]})}return i})()},7647:(z,A,r)=>{r.d(A,{S:()=>J});var S=r(3308),l=r(7788),f=r(7222),M=r(8189),y=r(5804),_=r(965),c=r(8887),v=r(3793),$=r(2831),W=r(3527),K=r(4434),P=r(9722),e=r(5154),j=r(2882),I=r(6610),k=r(2497),b=r(8278),w=r(9344),E=r(6182),x=r(4587),U=r(7912);const X=["*"];function H(R,Q){if(1&R&&(l.j41(0,"label",8),l.EFF(1),l.k0s()),2&R){const u=l.XpG();l.Mz_("for","app-cms-site-selector-",u.id,""),l.R7$(),l.JRh(u.optionLabel)}}function N(R,Q){if(1&R&&(l.j41(0,"mat-option",9)(1,"span"),l.EFF(2),l.k0s()()),2&R){const u=Q.$implicit,m=l.XpG();l.Y8G("value",u)("disabled",m.optionDisabled),l.R7$(2),l.JRh(m.displayOption(u))}}function Z(R,Q){if(1&R){const u=l.RV6();l.j41(0,"mat-icon",10),l.bIt("click",function(){l.eBV(u);const h=l.XpG();return l.Njj(h.onActionSelectClear())}),l.EFF(1,"close"),l.k0s()}}let J=(()=>{class R{static#e=this.nextId=0;constructor(u,m,h,g,B,D){this.coreEnumService=u,this.cmsToastrService=m,this.cdr=h,this.publicHelper=g,this.translate=B,this.categoryService=D,this.id=++R.nextId,this.dataModelResult=new M.N$V,this.dataModelSelect=new M.fq5,this.formControl=new f.MJ,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new l.bkB,this.optionReload=()=>this.onActionButtonReload(),this.loading=new K.o,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(q=>{this.loading.message=q})}set optionSelectForce(u){this.onActionSelectForce(u)}get optionLoading(){return this.loading}set optionLoading(u){this.loading=u}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,_.Z)(""),(0,c.B)(1500),(0,v.F)(),(0,$.n)(u=>"string"==typeof u||"number"==typeof u?this.DataGetAll(u||""):[]))}displayFn(u){return u?u.title:void 0}displayOption(u){return u?u.title:void 0}DataGetAll(u){var m=this;return(0,S.A)(function*(){const h=new M.O2i;h.rowPerPage=20,h.accessLoad=!0;let g=new M.ycK;g.propertyName="Title",g.value=u,g.searchType=M._GO.Contains,g.clauseType=M.jL_.Or,h.filters.push(g),u&&"number"==typeof+u&&+u>0&&(g=new M.ycK,g.propertyName="Id",g.value=u,g.searchType=M._GO.Equal,g.clauseType=M.jL_.Or,h.filters.push(g));const B=m.constructor.name+"main";return m.translate.get("MESSAGE.Receiving_information").subscribe(D=>{m.publicHelper.processService.processStart(B,D,m.constructor.name)}),yield(0,y._)(m.categoryService.ServiceGetAll(h)).then(D=>(m.dataModelResult=D,m.optionSelectFirstItem&&(!m.dataModelSelect||!m.dataModelSelect.id||m.dataModelSelect.id<=0)&&m.dataModelResult.listItems.length>0&&(m.optionSelectFirstItem=!1,setTimeout(()=>{m.formControl.setValue(m.dataModelResult.listItems[0])},1e3),m.onActionSelect(m.dataModelResult.listItems[0])),m.publicHelper.processService.processStop(B),D.listItems))})()}onActionSelect(u){this.optionDisabled||(this.dataModelSelect=u,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}onActionEmpty(){this.formControl.setValue(0),this.dataModelSelect=new M.fq5,this.optionChange.emit(this.dataModelSelect)}push(u){return this.filteredOptions.pipe((0,W.T)(m=>(m.find(h=>h.id===u.id)||m.push(u),m)))}onActionSelectForce(u){if("number"==typeof u&&u>0){if(this.dataModelSelect&&this.dataModelSelect.id===u)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(m=>m.id===u)){const m=this.dataModelResult.listItems.find(h=>h.id===u);return this.dataModelSelect=m,void this.formControl.setValue(m)}this.categoryService.ServiceGetOneById(u).subscribe({next:m=>{m.isSuccess?(this.filteredOptions=this.push(m.item),this.dataModelSelect=m.item,this.formControl.setValue(m.item),this.optionChange.emit(m.item)):this.cmsToastrService.typeErrorMessage(m.errorMessage)}})}else{if(typeof u==typeof M.fq5)return this.filteredOptions=this.push(u),this.dataModelSelect=u,void this.formControl.setValue(u);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new M.fq5,this.loadOptions()}static#t=this.\u0275fac=function(m){return new(m||R)(l.rXU(M.i9D),l.rXU(P.k),l.rXU(l.gRc),l.rXU(e.A),l.rXU(j.c$),l.rXU(M.XBe))};static#o=this.\u0275cmp=l.VBU({type:R,selectors:[["app-core-module-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:X,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(m,h){if(1&m){const g=l.RV6();l.NAR(),l.j41(0,"div",1),l.nrm(1,"app-progress-spinner",2),l.DNE(2,H,2,3,"label",3),l.nrm(3,"input",4),l.j41(4,"mat-autocomplete",5,0),l.bIt("optionSelected",function(D){return l.eBV(g),l.Njj(h.onActionSelect(D.option.value))}),l.DNE(6,N,3,3,"mat-option",6),l.nI1(7,"async"),l.k0s(),l.DNE(8,Z,2,0,"mat-icon",7),l.SdG(9),l.k0s()}if(2&m){const g=l.sdS(5);l.R7$(),l.Y8G("optionsInfoAreaId",h.constructor.name),l.R7$(),l.Y8G("ngIf",(null==h.optionLabel?null:h.optionLabel.length)>0),l.R7$(),l.FS9("placeholder",h.optionPlaceholder),l.Mz_("id","app-cms-site-selector-",h.id,""),l.Y8G("formControl",h.formControl)("matAutocomplete",g),l.BMQ("disabled",!!h.optionDisabled||null),l.R7$(),l.Y8G("displayWith",h.displayFn),l.R7$(2),l.Y8G("ngForOf",l.bMT(7,11,h.filteredOptions)),l.R7$(2),l.Y8G("ngIf",null==h.dataModelSelect?null:h.dataModelSelect.id)}},dependencies:[I.Sq,I.bT,f.me,f.BC,f.l_,k.$3,b.wT,k.pN,w.yw,E.An,x.fg,U._,I.Jj],encapsulation:2})}return R})()},4252:(z,A,r)=>{r.d(A,{r:()=>f});var S=r(7788),l=r(8351);let f=(()=>{class M{constructor(_){this.stepper=_}selectionChanged(){const _=this.stepper._getStepLabelId(this.stepper.selectedIndex),c=document.getElementById(_);c&&c.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}static#e=this.\u0275fac=function(c){return new(c||M)(S.rXU(l.M6))};static#t=this.\u0275dir=S.FsC({type:M,selectors:[["mat-vertical-stepper"]],hostBindings:function(c,v){1&c&&S.bIt("animationDone",function(){return v.selectionChanged()})}})}return M})()},9041:(z,A,r)=>{r.d(A,{p:()=>l});var S=r(7788);let l=(()=>{class f{transform(y,_){if(!_||0===_.length)return"";const c=_.find(v=>v.key===y||v.value===y);return c?c.description:""}static#e=this.\u0275fac=function(_){return new(_||f)};static#t=this.\u0275pipe=S.EJ8({name:"enums",type:f,pure:!0})}return f})()},1704:(z,A,r)=>{r.d(A,{E:()=>P});var S=r(4434),l=r(7788),f=r(6610);const M=[[["","cms-tree-body",""]],[["","cms-tree-header",""]],[["","cms-tree-action",""]],[["","cms-tree-footer",""]]],y=["[cms-tree-body]","[cms-tree-header]","[cms-tree-action]","[cms-tree-footer]"];function _(e,j){1&e&&(l.j41(0,"div",8)(1,"p",9),l.SdG(2,1),l.k0s()())}function c(e,j){1&e&&l.nrm(0,"div",10)}function v(e,j){1&e&&(l.j41(0,"div",11),l.SdG(1,2),l.k0s())}function $(e,j){1&e&&l.nrm(0,"div",12)}function W(e,j){1&e&&l.nrm(0,"div",10)}function K(e,j){1&e&&(l.j41(0,"div",6)(1,"p",13),l.SdG(2,3),l.k0s()())}let P=(()=>{class e{static#e=this.nextId=0;set optionLoading(I){this.loading=I}constructor(){this.id=++e.nextId,this.optionHeaderDisplay=!0,this.optionActionMainDisplay=!0,this.optionFooterDisplay=!0,this.loading=new S.o}ngOnInit(){}static#t=this.\u0275fac=function(k){return new(k||e)};static#o=this.\u0275cmp=l.VBU({type:e,selectors:[["app-cms-html-tree"]],inputs:{optionHeaderDisplay:"optionHeaderDisplay",optionActionMainDisplay:"optionActionMainDisplay",optionFooterDisplay:"optionFooterDisplay",optionLoading:"optionLoading"},ngContentSelectors:y,decls:10,vars:6,consts:[[1,"card","card-style"],[1,"row","justify-content-center","tree-parent"],["class","font-14 opacity-50",4,"ngIf"],["class","divider mb-1",4,"ngIf"],["class","col-12 pe-0 tree-child-hidden",4,"ngIf"],["class","divider mb-1 tree-child-hidden",4,"ngIf"],[1,"col-12","pe-0"],["class","col-12 pe-0",4,"ngIf"],[1,"font-14","opacity-50"],[1,"text-center","mb-2","mt-2","color-highlight","font-600"],[1,"divider","mb-1"],[1,"col-12","pe-0","tree-child-hidden"],[1,"divider","mb-1","tree-child-hidden"],[1,"text-center"]],template:function(k,b){1&k&&(l.NAR(M),l.j41(0,"div",0)(1,"div",1),l.DNE(2,_,3,0,"div",2)(3,c,1,0,"div",3)(4,v,2,0,"div",4)(5,$,1,0,"div",5),l.j41(6,"div",6),l.SdG(7),l.k0s(),l.DNE(8,W,1,0,"div",3)(9,K,3,0,"div",7),l.k0s()()),2&k&&(l.R7$(2),l.Y8G("ngIf",b.optionHeaderDisplay),l.R7$(),l.Y8G("ngIf",b.optionHeaderDisplay),l.R7$(),l.Y8G("ngIf",b.optionActionMainDisplay),l.R7$(),l.Y8G("ngIf",b.optionActionMainDisplay),l.R7$(3),l.Y8G("ngIf",b.optionFooterDisplay),l.R7$(),l.Y8G("ngIf",b.optionFooterDisplay))},dependencies:[f.bT],encapsulation:2})}return e})()}}]);