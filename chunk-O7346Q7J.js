import{a as Le}from"./chunk-ICVX26FH.js";import{a as Te}from"./chunk-2TNWDNI3.js";import"./chunk-VDSWZEFY.js";import{b as Ri}from"./chunk-4HNSVMZT.js";import{a as Se}from"./chunk-NBZFXPY5.js";import{$a as gi,Ad as ye,Cc as Me,Dd as gt,Id as Li,L as Rt,La as Z,M as At,Ma as $,Na as Pe,Nc as lt,O as ui,P as fi,Sc as be,Ta as Fe,Tc as Ie,Ub as qe,Vb as Ke,Wa as oe,Wb as Qe,Xb as mt,Yb as ze,Zb as Je,_a as Ci,aa as li,ab as _i,da as hi,ec as Xe,fc as Ye,gc as Ze,hc as $e,hd as we,ic as et,jc as tt,kc as it,kd as ve,lc as ot,mb as Ti,mc as nt,nb as V,nc as rt,p as ft,pd as Ct,s as ne,sa as He,sb as _e,t as Ve,tb as B,td as Ee,v as Be,vb as Q,x as re,xd as ct,y as Ne,yb as ht}from"./chunk-VSVRISAD.js";import{b as F,c as j,p as N}from"./chunk-ONWKERM2.js";import{Cd as St,Db as J,Dc as De,Dd as ie,Eb as X,Fb as Y,Fc as dt,Ge as We,Hd as K,Ib as te,Id as Ue,Ig as Pt,Jd as ee,Jg as Ft,Kb as m,Kg as jt,La as a,Lb as G,Lc as pi,Lg as Ut,Ma as p,Mb as C,Mg as Wt,Ng as qt,Og as Kt,Pg as Qt,Qb as R,Qd as W,Qg as zt,Rb as A,Sb as k,Ud as Mi,Vb as Ae,Wb as ke,Yb as M,Za as z,Zb as b,ab as w,bg as bi,cb as S,cg as Ii,da as si,dq as q,eb as Re,fd as Oe,gc as H,gd as Si,gg as wi,hd as Ge,ja as O,ka as ai,kd as mi,kg as vi,lb as c,lg as kt,mb as l,mg as xt,nb as _,ng as Dt,ob as v,og as Vt,pb as E,qb as de,qg as Bt,ra as f,rb as y,rg as Ei,sa as h,sg as Nt,td as je,tg as Ot,ub as I,ug as Gt,vd as U,vg as Ht,wb as g,xc as xe,zb as oi,zc as P,zd as Ce,zg as yi}from"./chunk-GWD2SGCU.js";var Ai=(()=>{let s=class s{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog"]],decls:1,vars:0,template:function(i,e){i&1&&_(0,"router-outlet")},dependencies:[Si],encapsulation:2});let o=s;return o})();var so=["vform"];function ao(o,s){if(o&1){let r=y();c(0,"div",18)(1,"button",19),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",20),m(3),M(4,"translate"),l(),c(5,"button",21),_(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(a(3),C(" ",b(4,2,"ACTION.CANCEL")," "),a(4),C(" ",b(8,4,"ACTION.SAVE")," "))}var ki=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new Pt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogFavoriteService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Pt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(Ce.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Dt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,e){if(i&1&&J(so,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,e){if(i&1){let d=y();c(0,"div",4),_(1,"app-progress-spinner",5),c(2,"div",6)(3,"p",7),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",8,0),I("ngSubmit",function(){return f(d),h(e.onFormSubmit())}),_(10,"app-cms-site-selector",9),M(11,"translate"),_(12,"app-cms-user-selector",9),M(13,"translate"),_(14,"app-cms-member-selector",9),M(15,"translate"),c(16,"div",10)(17,"label",11),m(18,"ModuleName"),l(),c(19,"input",12,1),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleName,n)||(e.dataModel.moduleName=n),h(n)}),l()(),c(21,"div",10)(22,"label",13),m(23,"ModuleEntityName"),l(),c(24,"input",14,2),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityName,n)||(e.dataModel.moduleEntityName=n),h(n)}),l()(),c(26,"div",10)(27,"label",15),m(28,"ModuleEntityId"),l(),c(29,"input",16,3),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityId,n)||(e.dataModel.moduleEntityId=n),h(n)}),l()(),w(31,ao,9,6,"div",17),l()()()}i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,18,"TITLE.SITE")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",b(13,20,"TITLE.USER")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",b(15,22,"TITLE.Member")),a(5),R("ngModel",e.dataModel.moduleName),a(5),R("ngModel",e.dataModel.moduleEntityName),a(5),R("ngModel",e.dataModel.moduleEntityId),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,re,Be,oe,ct,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var lo=["vform"];function co(o,s){if(o&1){let r=y();c(0,"div",5)(1,"button",10),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var xi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogFavoriteService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new Pt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Dt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(i,e){if(i&1&&J(lo,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),m(1),l(),c(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),c(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),c(9,"small",7),m(10),l()()(),c(11,"div",8),w(12,co,5,3,"div",9),l()),i&2&&(a(),C(" ",e.formInfo.formTitle," "),a(2),S("optionsInfoAreaId",e.constructorInfoAreaId),a(),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var mo=()=>[5,10,20,100],po=o=>({display:o});function uo(o,s){if(o&1){let r=y();c(0,"a",42),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",43),l()}}function fo(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function ho(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",48),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function So(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",50),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",51)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function Co(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewContent(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.CONTENT")))}function go(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.USER")))}function _o(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function Mo(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function bo(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function Io(o,s){if(o&1&&_(0,"select",57),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,po,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function wo(o,s){if(o&1&&(c(0,"mat-cell",55),M(1,"statusCellClass"),_(2,"i",55),M(3,"statusIconClass"),w(4,Io,1,5,"select",56),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function vo(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function Eo(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function yo(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkUserId==null?null:r.fieldsInfo.linkUserId.fieldTitle," ")}}function To(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkUserId))," ")}}function Lo(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkMemberId==null?null:r.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ro(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.linkMemberId," ")}}function Ao(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleName==null?null:r.fieldsInfo.moduleName.fieldTitle," ")}}function ko(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleName," ")}}function xo(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityName==null?null:r.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Do(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityName," ")}}function Vo(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityId==null?null:r.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Bo(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityId," ")}}function No(o,s){if(o&1&&(c(0,"mat-header-cell",54),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function Oo(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function Go(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function Ho(o,s){if(o&1&&(c(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function Po(o,s){o&1&&_(0,"mat-header-row")}function Fo(o,s){if(o&1){let r=y();c(0,"mat-row",60),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Di=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new Pt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(xi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonViewContent(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t);let i="/"+t.moduleName+"/"+t.moduleEntityName.substring(t.moduleName.length)+"/edit/"+t.moduleEntityId;t.moduleEntityName.indexOf(t.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Dt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-favorite-list"]],features:[z],decls:64,vars:23,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5),v(4,6),c(5,"div",7),_(6,"div",8)(7,"div",9),l(),E(),de(8,6),v(9,10),w(10,uo,2,0,"a",11),c(11,"a",12),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(12,"i",13),l(),c(13,"a",12),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(14,"i",14),l(),E(),de(15,15)(16,16),v(17,17),w(18,fo,7,3,"div",18)(19,ho,7,3,"div",18)(20,So,7,3,"div",18)(21,Co,7,3,"div",18)(22,go,7,3,"div",18),E(),v(23,19),c(24,"app-cms-search-list",20),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(25,"app-cms-statist-list",20),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(26,21),c(27,"mat-table",22,0),I("matSortChange",function(){f(d);let n=te(28);return h(e.onTableSortData(n))}),v(29,23),w(30,_o,2,1,"mat-header-cell",24)(31,Mo,2,1,"mat-cell",25),E(),v(32,26),w(33,bo,2,1,"mat-header-cell",24)(34,wo,5,7,"mat-cell",27),E(),v(35,28),w(36,vo,2,1,"mat-header-cell",24)(37,Eo,4,5,"mat-cell",25),E(),v(38,29),w(39,yo,2,1,"mat-header-cell",24)(40,To,4,5,"mat-cell",25),E(),v(41,30),w(42,Lo,2,1,"mat-header-cell",24)(43,Ro,2,1,"mat-cell",25),E(),v(44,31),w(45,Ao,2,1,"mat-header-cell",24)(46,ko,2,1,"mat-cell",25),E(),v(47,32),w(48,xo,2,1,"mat-header-cell",24)(49,Do,2,1,"mat-cell",25),E(),v(50,33),w(51,Vo,2,1,"mat-header-cell",24)(52,Bo,2,1,"mat-cell",25),E(),v(53,34),w(54,No,2,1,"mat-header-cell",24)(55,Oo,2,1,"mat-cell",25),E(),v(56,35),w(57,Go,3,3,"mat-header-cell",36)(58,Ho,6,1,"mat-cell",37),E(),w(59,Po,1,0,"mat-header-row",38)(60,Fo,1,6,"mat-row",39),l(),E(),v(61,40),c(62,"mat-paginator",41,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(10),S("ngIf",e.requestLinkSiteId>0),a(8),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(32),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(22,mo)))},dependencies:[xe,P,De,He,Fe,oe,qe,Ke,Qe,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,ht,lt,Ie,be],encapsulation:2});let o=s;return o})();var jo=["vform"];function Uo(o,s){if(o&1){let r=y();c(0,"div",18)(1,"button",19),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",20),m(3),M(4,"translate"),l(),c(5,"button",21),_(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(a(3),C(" ",b(4,2,"ACTION.CANCEL")," "),a(4),C(" ",b(8,4,"ACTION.SAVE")," "))}var Vi=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new Ft,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogLikeService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Ft,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(Ce.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(xt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,e){if(i&1&&J(jo,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,e){if(i&1){let d=y();c(0,"div",4),_(1,"app-progress-spinner",5),c(2,"div",6)(3,"p",7),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",8,0),I("ngSubmit",function(){return f(d),h(e.onFormSubmit())}),_(10,"app-cms-site-selector",9),M(11,"translate"),_(12,"app-cms-user-selector",9),M(13,"translate"),_(14,"app-cms-member-selector",9),M(15,"translate"),c(16,"div",10)(17,"label",11),m(18,"ModuleName"),l(),c(19,"input",12,1),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleName,n)||(e.dataModel.moduleName=n),h(n)}),l()(),c(21,"div",10)(22,"label",13),m(23,"ModuleEntityName"),l(),c(24,"input",14,2),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityName,n)||(e.dataModel.moduleEntityName=n),h(n)}),l()(),c(26,"div",10)(27,"label",15),m(28,"ModuleEntityId"),l(),c(29,"input",16,3),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityId,n)||(e.dataModel.moduleEntityId=n),h(n)}),l()(),w(31,Uo,9,6,"div",17),l()()()}i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,18,"TITLE.SITE")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",b(13,20,"TITLE.USER")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",b(15,22,"TITLE.Member")),a(5),R("ngModel",e.dataModel.moduleName),a(5),R("ngModel",e.dataModel.moduleEntityName),a(5),R("ngModel",e.dataModel.moduleEntityId),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,re,Be,oe,ct,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Wo=["vform"];function qo(o,s){if(o&1){let r=y();c(0,"div",7)(1,"button",12),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Bi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogLikeService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new Ft,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(xt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,e){if(i&1&&J(Wo,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),_(1,"app-progress-spinner",1),c(2,"div",2)(3,"p",3),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"div",4),_(9,"app-cms-json-list",5),l(),c(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),c(14,"small",9),m(15),l()()(),c(16,"div",10),w(17,qo,5,3,"div",11),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(3),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var Ko=()=>[5,10,20,100],Qo=o=>({display:o});function zo(o,s){if(o&1){let r=y();c(0,"a",43),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",44),l()}}function Jo(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function Xo(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",49),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function Yo(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",51),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function Zo(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.USER")))}function $o(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",54)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.MEMBER")))}function en(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function tn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function on(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function nn(o,s){if(o&1&&_(0,"select",58),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,Qo,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function rn(o,s){if(o&1&&(c(0,"mat-cell",56),M(1,"statusCellClass"),_(2,"i",56),M(3,"statusIconClass"),w(4,nn,1,5,"select",57),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function sn(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function an(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function ln(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkUserId==null?null:r.fieldsInfo.linkUserId.fieldTitle," ")}}function cn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkUserId))," ")}}function dn(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkMemberId==null?null:r.fieldsInfo.linkMemberId.fieldTitle," ")}}function mn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.linkMemberId," ")}}function pn(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleName==null?null:r.fieldsInfo.moduleName.fieldTitle," ")}}function un(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleName," ")}}function fn(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityName==null?null:r.fieldsInfo.moduleEntityName.fieldTitle," ")}}function hn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityName," ")}}function Sn(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityId==null?null:r.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Cn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityId," ")}}function gn(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function _n(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function Mn(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function bn(o,s){if(o&1&&(c(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function In(o,s){o&1&&_(0,"mat-header-row")}function wn(o,s){if(o&1){let r=y();c(0,"mat-row",61),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new Ft,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Bi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(xt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-like-list"]],features:[z],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,zo,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,Jo,7,3,"div",19)(23,Xo,7,3,"div",19)(24,Yo,7,3,"div",19)(25,Zo,7,3,"div",19)(26,$o,7,3,"div",19),E(),v(27,20),c(28,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(29,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(30,22),c(31,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(32);return h(e.onTableSortData(n))}),v(33,24),w(34,en,2,1,"mat-header-cell",25)(35,tn,2,1,"mat-cell",26),E(),v(36,27),w(37,on,2,1,"mat-header-cell",25)(38,rn,5,7,"mat-cell",28),E(),v(39,29),w(40,sn,2,1,"mat-header-cell",25)(41,an,4,5,"mat-cell",26),E(),v(42,30),w(43,ln,2,1,"mat-header-cell",25)(44,cn,4,5,"mat-cell",26),E(),v(45,31),w(46,dn,2,1,"mat-header-cell",25)(47,mn,2,1,"mat-cell",26),E(),v(48,32),w(49,pn,2,1,"mat-header-cell",25)(50,un,2,1,"mat-cell",26),E(),v(51,33),w(52,fn,2,1,"mat-header-cell",25)(53,hn,2,1,"mat-cell",26),E(),v(54,34),w(55,Sn,2,1,"mat-header-cell",25)(56,Cn,2,1,"mat-cell",26),E(),v(57,35),w(58,gn,2,1,"mat-header-cell",25)(59,_n,2,1,"mat-cell",26),E(),v(60,36),w(61,Mn,3,3,"mat-header-cell",37)(62,bn,6,1,"mat-cell",38),E(),w(63,In,1,0,"mat-header-row",39)(64,wn,1,6,"mat-row",40),l(),E(),v(65,41),c(66,"mat-paginator",42,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,26,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,28,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(32),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(30,Ko)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,ht,lt,Ie,be],encapsulation:2});let o=s;return o})();var vn=["vform"];function En(o,s){if(o&1){let r=y();c(0,"div",27)(1,"button",28),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",29),m(3),M(4,"translate"),l(),c(5,"button",30),_(6,"i",29),m(7),M(8,"translate"),l()()}o&2&&(a(3),C(" ",b(4,2,"ACTION.CANCEL")," "),a(4),C(" ",b(8,4,"ACTION.SAVE")," "))}var Oi=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new Ut,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogReportAbuseService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Ut,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(Ce.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Vt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,e){if(i&1&&J(vn,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:49,vars:27,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,e){if(i&1){let d=y();c(0,"div",7),_(1,"app-progress-spinner",8),c(2,"div",9)(3,"p",10),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",11,0),I("ngSubmit",function(){return f(d),h(e.onFormSubmit())}),_(10,"app-cms-site-selector",12),M(11,"translate"),_(12,"app-cms-user-selector",12),M(13,"translate"),_(14,"app-cms-member-selector",12),M(15,"translate"),c(16,"div",13)(17,"label",14),m(18,"ModuleName"),l(),c(19,"input",15,1),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleName,n)||(e.dataModel.moduleName=n),h(n)}),l()(),c(21,"div",13)(22,"label",16),m(23,"ModuleEntityName"),l(),c(24,"input",17,2),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityName,n)||(e.dataModel.moduleEntityName=n),h(n)}),l()(),c(26,"div",13)(27,"label",18),m(28,"ModuleEntityId"),l(),c(29,"input",19,3),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityId,n)||(e.dataModel.moduleEntityId=n),h(n)}),l()(),c(31,"div",13)(32,"label",20),m(33,"SubjectBody"),l(),c(34,"input",21,4),k("ngModelChange",function(n){return f(d),A(e.dataModel.subjectBody,n)||(e.dataModel.subjectBody=n),h(n)}),l()(),c(36,"div",13)(37,"label",22),m(38,"AdminResultProcess"),l(),c(39,"textarea",23,5),k("ngModelChange",function(n){return f(d),A(e.dataModel.adminResultProcess,n)||(e.dataModel.adminResultProcess=n),h(n)}),m(41,"        "),l()(),c(42,"div",13)(43,"label",24),m(44,"SubjectUrl"),l(),c(45,"textarea",25,6),k("ngModelChange",function(n){return f(d),A(e.dataModel.subjectUrl,n)||(e.dataModel.subjectUrl=n),h(n)}),m(47,"        "),l()(),w(48,En,9,6,"div",26),l()()()}i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,21,"TITLE.SITE")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",b(13,23,"TITLE.USER")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",b(15,25,"TITLE.Member")),a(5),R("ngModel",e.dataModel.moduleName),a(5),R("ngModel",e.dataModel.moduleEntityName),a(5),R("ngModel",e.dataModel.moduleEntityId),a(5),R("ngModel",e.dataModel.subjectBody),a(5),R("ngModel",e.dataModel.adminResultProcess),a(6),R("ngModel",e.dataModel.subjectUrl),a(3),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,Rt,At,re,Be,oe,ct,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var yn=["vform"];function Tn(o,s){if(o&1){let r=y();c(0,"div",5)(1,"button",10),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Gi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogReportAbuseService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new Ut,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(Ce.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Vt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,e){if(i&1&&J(yn,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),m(1),l(),c(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),c(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),c(9,"small",7),m(10),l()()(),c(11,"div",8),w(12,Tn,5,3,"div",9),l()),i&2&&(a(),C(" ",e.formInfo.formTitle," "),a(2),S("optionsInfoAreaId",e.constructorInfoAreaId),a(),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var Ln=()=>[5,10,20,100],Rn=o=>({display:o});function An(o,s){if(o&1){let r=y();c(0,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",46),l()}}function kn(o,s){if(o&1){let r=y();c(0,"div",47)(1,"a",48),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),c(4,"p",50),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function xn(o,s){if(o&1){let r=y();c(0,"div",47)(1,"a",51),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),c(4,"p",50),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function Dn(o,s){if(o&1){let r=y();c(0,"div",47)(1,"a",53),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",54)(3,"br"),l(),c(4,"p",50),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function Vn(o,s){if(o&1){let r=y();c(0,"div",47)(1,"a",48),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",55)(3,"br"),l(),c(4,"p",50),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.USER")))}function Bn(o,s){if(o&1){let r=y();c(0,"div",47)(1,"a",48),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",56)(3,"br"),l(),c(4,"p",50),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.MEMBER")))}function Nn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function On(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function Gn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function Hn(o,s){if(o&1&&_(0,"select",60),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,Rn,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Pn(o,s){if(o&1&&(c(0,"mat-cell",58),M(1,"statusCellClass"),_(2,"i",58),M(3,"statusIconClass"),w(4,Hn,1,5,"select",59),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Fn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function jn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function Un(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkUserId==null?null:r.fieldsInfo.linkUserId.fieldTitle," ")}}function Wn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkUserId))," ")}}function qn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkMemberId==null?null:r.fieldsInfo.linkMemberId.fieldTitle," ")}}function Kn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.linkMemberId," ")}}function Qn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleName==null?null:r.fieldsInfo.moduleName.fieldTitle," ")}}function zn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleName," ")}}function Jn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityName==null?null:r.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Xn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityName," ")}}function Yn(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityId==null?null:r.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Zn(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityId," ")}}function $n(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.subjectBody==null?null:r.fieldsInfo.subjectBody.fieldTitle," ")}}function er(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.subjectBody," ")}}function tr(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.adminResultProcess==null?null:r.fieldsInfo.adminResultProcess.fieldTitle," ")}}function ir(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.adminResultProcess," ")}}function or(o,s){if(o&1&&(c(0,"mat-header-cell",57),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function nr(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function rr(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function sr(o,s){if(o&1&&(c(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function ar(o,s){o&1&&_(0,"mat-header-row")}function lr(o,s){if(o&1){let r=y();c(0,"mat-row",63),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Hi=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new Ut,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Vt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-report-abuse-list"]],features:[z],decls:74,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,An,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,kn,7,3,"div",19)(23,xn,7,3,"div",19)(24,Dn,7,3,"div",19)(25,Vn,7,3,"div",19)(26,Bn,7,3,"div",19),E(),v(27,20),c(28,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(29,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(30,22),c(31,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(32);return h(e.onTableSortData(n))}),v(33,24),w(34,Nn,2,1,"mat-header-cell",25)(35,On,2,1,"mat-cell",26),E(),v(36,27),w(37,Gn,2,1,"mat-header-cell",25)(38,Pn,5,7,"mat-cell",28),E(),v(39,29),w(40,Fn,2,1,"mat-header-cell",25)(41,jn,4,5,"mat-cell",26),E(),v(42,30),w(43,Un,2,1,"mat-header-cell",25)(44,Wn,4,5,"mat-cell",26),E(),v(45,31),w(46,qn,2,1,"mat-header-cell",25)(47,Kn,2,1,"mat-cell",26),E(),v(48,32),w(49,Qn,2,1,"mat-header-cell",25)(50,zn,2,1,"mat-cell",26),E(),v(51,33),w(52,Jn,2,1,"mat-header-cell",25)(53,Xn,2,1,"mat-cell",26),E(),v(54,34),w(55,Yn,2,1,"mat-header-cell",25)(56,Zn,2,1,"mat-cell",26),E(),v(57,35),w(58,$n,2,1,"mat-header-cell",25)(59,er,2,1,"mat-cell",26),E(),v(60,36),w(61,tr,2,1,"mat-header-cell",25)(62,ir,2,1,"mat-cell",26),E(),v(63,37),w(64,or,2,1,"mat-header-cell",25)(65,nr,2,1,"mat-cell",26),E(),v(66,38),w(67,rr,3,3,"mat-header-cell",39)(68,sr,6,1,"mat-cell",40),E(),w(69,ar,1,0,"mat-header-row",41)(70,lr,1,6,"mat-row",42),l(),E(),v(71,43),c(72,"mat-paginator",44,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,26,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,28,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(38),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(30,Ln)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,ht,lt,Ie,be],encapsulation:2});let o=s;return o})();var cr=["vform"];function dr(o,s){if(o&1){let r=y();c(0,"div",17)(1,"button",18),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",19),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Pi=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new jt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogScoreService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new jt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(Ce.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(kt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,e){if(i&1&&J(cr,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){if(i&1){let d=y();c(0,"div",4),_(1,"app-progress-spinner",5),c(2,"div",6)(3,"p",7),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",null,0),_(10,"app-cms-site-selector",8),M(11,"translate"),_(12,"app-cms-user-selector",8),M(13,"translate"),_(14,"app-cms-member-selector",8),M(15,"translate"),c(16,"div",9)(17,"label",10),m(18,"ModuleName"),l(),c(19,"input",11,1),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleName,n)||(e.dataModel.moduleName=n),h(n)}),l()(),c(21,"div",9)(22,"label",12),m(23,"ModuleEntityName"),l(),c(24,"input",13,2),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityName,n)||(e.dataModel.moduleEntityName=n),h(n)}),l()(),c(26,"div",9)(27,"label",14),m(28,"ModuleEntityId"),l(),c(29,"input",15,3),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityId,n)||(e.dataModel.moduleEntityId=n),h(n)}),l()(),w(31,dr,5,3,"div",16),l()()()}i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,18,"TITLE.SITE")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",b(13,20,"TITLE.USER")),a(2),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",b(15,22,"TITLE.Member")),a(5),R("ngModel",e.dataModel.moduleName),a(5),R("ngModel",e.dataModel.moduleEntityName),a(5),R("ngModel",e.dataModel.moduleEntityId),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,re,Be,oe,ct,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var mr=["vform"];function pr(o,s){if(o&1){let r=y();c(0,"div",5)(1,"button",10),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Fi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogScoreService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new jt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(kt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(i,e){if(i&1&&J(mr,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),m(1),l(),c(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),c(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),c(9,"small",7),m(10),l()()(),c(11,"div",8),w(12,pr,5,3,"div",9),l()),i&2&&(a(),C(" ",e.formInfo.formTitle," "),a(2),S("optionsInfoAreaId",e.constructorInfoAreaId),a(),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var ur=()=>[5,10,20,100],fr=o=>({display:o});function hr(o,s){if(o&1){let r=y();c(0,"a",43),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",44),l()}}function Sr(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function Cr(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",49),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function gr(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",51),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function _r(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.USER")))}function Mr(o,s){if(o&1){let r=y();c(0,"div",45)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",54)(3,"br"),l(),c(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.MEMBER")))}function br(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function Ir(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function wr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function vr(o,s){if(o&1&&_(0,"select",58),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,fr,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Er(o,s){if(o&1&&(c(0,"mat-cell",56),M(1,"statusCellClass"),_(2,"i",56),M(3,"statusIconClass"),w(4,vr,1,5,"select",57),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function yr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tr(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function Lr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkUserId==null?null:r.fieldsInfo.linkUserId.fieldTitle," ")}}function Rr(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkUserId))," ")}}function Ar(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkMemberId==null?null:r.fieldsInfo.linkMemberId.fieldTitle," ")}}function kr(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.linkMemberId," ")}}function xr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleName==null?null:r.fieldsInfo.moduleName.fieldTitle," ")}}function Dr(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleName," ")}}function Vr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityName==null?null:r.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Br(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityName," ")}}function Nr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityId==null?null:r.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Or(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityId," ")}}function Gr(o,s){if(o&1&&(c(0,"mat-header-cell",55),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function Hr(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function Pr(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function Fr(o,s){if(o&1&&(c(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function jr(o,s){o&1&&_(0,"mat-header-row")}function Ur(o,s){if(o&1){let r=y();c(0,"mat-row",61),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ji=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new jt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(kt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-score-list"]],features:[z],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,hr,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,Sr,7,3,"div",19)(23,Cr,7,3,"div",19)(24,gr,7,3,"div",19)(25,_r,7,3,"div",19)(26,Mr,7,3,"div",19),E(),v(27,20),c(28,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(29,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(30,22),c(31,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(32);return h(e.onTableSortData(n))}),v(33,24),w(34,br,2,1,"mat-header-cell",25)(35,Ir,2,1,"mat-cell",26),E(),v(36,27),w(37,wr,2,1,"mat-header-cell",25)(38,Er,5,7,"mat-cell",28),E(),v(39,29),w(40,yr,2,1,"mat-header-cell",25)(41,Tr,4,5,"mat-cell",26),E(),v(42,30),w(43,Lr,2,1,"mat-header-cell",25)(44,Rr,4,5,"mat-cell",26),E(),v(45,31),w(46,Ar,2,1,"mat-header-cell",25)(47,kr,2,1,"mat-cell",26),E(),v(48,32),w(49,xr,2,1,"mat-header-cell",25)(50,Dr,2,1,"mat-cell",26),E(),v(51,33),w(52,Vr,2,1,"mat-header-cell",25)(53,Br,2,1,"mat-cell",26),E(),v(54,34),w(55,Nr,2,1,"mat-header-cell",25)(56,Or,2,1,"mat-cell",26),E(),v(57,35),w(58,Gr,2,1,"mat-header-cell",25)(59,Hr,2,1,"mat-cell",26),E(),v(60,36),w(61,Pr,3,3,"mat-header-cell",37)(62,Fr,6,1,"mat-cell",38),E(),w(63,jr,1,0,"mat-header-row",39)(64,Ur,1,6,"mat-row",40),l(),E(),v(65,41),c(66,"mat-paginator",42,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,26,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,28,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(32),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(30,ur)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,ht,lt,Ie,be],encapsulation:2});let o=s;return o})();var Wr=["vform"];function qr(o,s){if(o&1){let r=y();c(0,"div",12)(1,"label",25),m(2),l(),c(3,"input",26),k("ngModelChange",function(i){f(r);let e=g();return A(e.dataModel.expireDateTime,i)||(e.dataModel.expireDateTime=i),h(i)}),l(),_(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,6),l()}if(o&2){let r=te(6),t=g();a(2),G(t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.fieldTitle),a(),oi("placeholder",t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.fieldTitle),oi("disabled",!(t.fieldsInfo.expireDateTime!=null&&t.fieldsInfo.expireDateTime.accessEditField)),S("matDatepicker",r),R("ngModel",t.dataModel.expireDateTime),a(),S("for",r)}}function Kr(o,s){if(o&1){let r=y();c(0,"div",29)(1,"button",30),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",31),m(3),M(4,"translate"),l(),c(5,"button",32),_(6,"i",31),m(7),M(8,"translate"),l()()}o&2&&(a(3),C(" ",b(4,2,"ACTION.CANCEL")," "),a(4),C(" ",b(8,4,"ACTION.SAVE")," "))}var Wi=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new Wt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogShowKeyService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Wt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(Ce.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Bt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,e){if(i&1&&J(Wr,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,e){if(i&1){let d=y();c(0,"div",7),_(1,"app-progress-spinner",8),c(2,"div",9)(3,"p",10),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",11,0),I("ngSubmit",function(){return f(d),h(e.onFormSubmit())}),c(10,"div",12)(11,"label",13),m(12,"ModuleName"),l(),c(13,"input",14,1),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleName,n)||(e.dataModel.moduleName=n),h(n)}),l()(),c(15,"div",12)(16,"label",15),m(17,"ModuleEntityName"),l(),c(18,"input",16,2),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityName,n)||(e.dataModel.moduleEntityName=n),h(n)}),l()(),c(20,"div",12)(21,"label",17),m(22,"ModuleEntityId"),l(),c(23,"input",18,3),k("ngModelChange",function(n){return f(d),A(e.dataModel.moduleEntityId,n)||(e.dataModel.moduleEntityId=n),h(n)}),l()(),c(25,"div",12)(26,"label",19),m(27,"showKey"),l(),c(28,"textarea",20,4),k("ngModelChange",function(n){return f(d),A(e.dataModel.showKey,n)||(e.dataModel.showKey=n),h(n)}),l()(),c(30,"div",12)(31,"label",21),m(32,"SubjectTitle"),l(),c(33,"textarea",22,5),k("ngModelChange",function(n){return f(d),A(e.dataModel.subjectTitle,n)||(e.dataModel.subjectTitle=n),h(n)}),l()(),w(35,qr,7,6,"div",23)(36,Kr,9,6,"div",24),l()()()}i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),a(7),R("ngModel",e.dataModel.moduleName),a(5),R("ngModel",e.dataModel.moduleEntityName),a(5),R("ngModel",e.dataModel.moduleEntityId),a(5),R("ngModel",e.dataModel.showKey),a(5),R("ngModel",e.dataModel.subjectTitle),a(2),S("ngIf",e.fieldsInfo.expireDateTime==null?null:e.fieldsInfo.expireDateTime.accessWatchField),a(),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,Rt,At,re,Be,Ci,gi,_i,hi,oe,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Qr=["vform"];function zr(o,s){if(o&1){let r=y();c(0,"div",5)(1,"button",10),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var qi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogShowKeyService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new Wt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Bt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(i,e){if(i&1&&J(Qr,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),m(1),l(),c(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),c(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),c(9,"small",7),m(10),l()()(),c(11,"div",8),w(12,zr,5,3,"div",9),l()),i&2&&(a(),C(" ",e.formInfo.formTitle," "),a(2),S("optionsInfoAreaId",e.constructorInfoAreaId),a(),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var Jr=()=>[5,10,20,100],Xr=o=>({display:o});function Yr(o,s){if(o&1){let r=y();c(0,"a",42),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",43),l()}}function Zr(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function $r(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",48),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function es(o,s){if(o&1){let r=y();c(0,"div",44)(1,"a",50),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",51)(3,"br"),l(),c(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function ts(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function is(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function os(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function ns(o,s){if(o&1&&_(0,"select",55),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,Xr,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function rs(o,s){if(o&1&&(c(0,"mat-cell",53),M(1,"statusCellClass"),_(2,"i",53),M(3,"statusIconClass"),w(4,ns,1,5,"select",54),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ss(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleName==null?null:r.fieldsInfo.moduleName.fieldTitle," ")}}function as(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleName," ")}}function ls(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityName==null?null:r.fieldsInfo.moduleEntityName.fieldTitle," ")}}function cs(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityName," ")}}function ds(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.moduleEntityId==null?null:r.fieldsInfo.moduleEntityId.fieldTitle," ")}}function ms(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.moduleEntityId," ")}}function ps(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.showKey==null?null:r.fieldsInfo.showKey.fieldTitle," ")}}function us(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.showKey," ")}}function fs(o,s){if(o&1&&(c(0,"mat-header-cell",52),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function hs(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function Ss(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function Cs(o,s){if(o&1&&(c(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function gs(o,s){if(o&1&&(c(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),_(4,"td"),c(5,"td"),m(6),l()()()()()),o&2){let r=s.$implicit;a(6),C(" ",r.subjectTitle," ")}}function _s(o,s){o&1&&_(0,"mat-header-row")}function Ms(o,s){if(o&1){let r=y();c(0,"mat-row",58),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ki=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new Wt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.Filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Bt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodule-data-memo-list"]],features:[z],decls:62,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,Yr,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,Zr,7,3,"div",19)(23,$r,7,3,"div",19)(24,es,7,3,"div",19),E(),v(25,20),c(26,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(27,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(28,22),c(29,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(30);return h(e.onTableSortData(n))}),v(31,24),w(32,ts,2,1,"mat-header-cell",25)(33,is,2,1,"mat-cell",26),E(),v(34,27),w(35,os,2,1,"mat-header-cell",25)(36,rs,5,7,"mat-cell",28),E(),v(37,29),w(38,ss,2,1,"mat-header-cell",25)(39,as,2,1,"mat-cell",26),E(),v(40,30),w(41,ls,2,1,"mat-header-cell",25)(42,cs,2,1,"mat-cell",26),E(),v(43,31),w(44,ds,2,1,"mat-header-cell",25)(45,ms,2,1,"mat-cell",26),E(),v(46,32),w(47,ps,2,1,"mat-header-cell",25)(48,us,2,1,"mat-cell",26),E(),v(49,33),w(50,fs,2,1,"mat-header-cell",25)(51,hs,2,1,"mat-cell",26),E(),v(52,34),w(53,Ss,3,3,"mat-header-cell",35)(54,Cs,6,1,"mat-cell",36),E(),v(55,37),w(56,gs,7,1,"mat-cell",26),E(),w(57,_s,1,0,"mat-header-row",38)(58,Ms,1,6,"mat-row",39),l(),E(),v(59,40),c(60,"mat-paginator",41,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,24,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,26,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(28),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(28,Jr)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,j,Ie,be],encapsulation:2});let o=s;return o})();var bs=["vform"];function Is(o,s){if(o&1){let r=y();c(0,"div",7)(1,"button",8),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new qt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new qt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(Ce.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Nt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,e){if(i&1&&J(bs,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",1),_(1,"app-progress-spinner",2),c(2,"div",3)(3,"p",4),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",null,0),_(10,"app-cms-site-selector",5),M(11,"translate"),w(12,Is,5,3,"div",6),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,9,"TITLE.SITE")),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,Ve,Be,ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var ws=["vform"];function vs(o,s){if(o&1){let r=y();c(0,"div",5)(1,"button",10),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var zi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new qt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Nt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(i,e){if(i&1&&J(ws,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),m(1),l(),c(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),c(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),c(9,"small",7),m(10),l()()(),c(11,"div",8),w(12,vs,5,3,"div",9),l()),i&2&&(a(),C(" ",e.formInfo.formTitle," "),a(2),S("optionsInfoAreaId",e.constructorInfoAreaId),a(),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var Es=()=>[5,10,20,100],ys=o=>({display:o});function Ts(o,s){if(o&1){let r=y();c(0,"a",38),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",39),l()}}function Ls(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",41),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",42)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function Rs(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",44),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function As(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function ks(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",41),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewSiteRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.SITE")))}function xs(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function Ds(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function Vs(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function Bs(o,s){if(o&1&&_(0,"select",52),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,ys,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Ns(o,s){if(o&1&&(c(0,"mat-cell",50),M(1,"statusCellClass"),_(2,"i",50),M(3,"statusIconClass"),w(4,Bs,1,5,"select",51),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Os(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gs(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function Hs(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function Ps(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function Fs(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function js(o,s){if(o&1&&(c(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function Us(o,s){o&1&&_(0,"mat-header-row")}function Ws(o,s){if(o&1){let r=y();c(0,"mat-row",55),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ji=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new qt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Nt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-credit-blocked-list"]],features:[z],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,Ts,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,Ls,7,3,"div",19)(23,Rs,7,3,"div",19)(24,As,7,3,"div",19)(25,ks,7,3,"div",19),E(),v(26,20),c(27,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(28,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(29,22),c(30,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(31);return h(e.onTableSortData(n))}),v(32,24),w(33,xs,2,1,"mat-header-cell",25)(34,Ds,2,1,"mat-cell",26),E(),v(35,27),w(36,Vs,2,1,"mat-header-cell",25)(37,Ns,5,7,"mat-cell",28),E(),v(38,29),w(39,Os,2,1,"mat-header-cell",25)(40,Gs,4,5,"mat-cell",26),E(),v(41,30),w(42,Hs,2,1,"mat-header-cell",25)(43,Ps,2,1,"mat-cell",26),E(),v(44,31),w(45,Fs,3,3,"mat-header-cell",32)(46,js,6,1,"mat-cell",33),E(),w(47,Us,1,0,"mat-header-row",34)(48,Ws,1,6,"mat-row",35),l(),E(),v(49,36),c(50,"mat-paginator",37,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,25,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,27,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(17),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,Es)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,lt,Ie,be],encapsulation:2});let o=s;return o})();var qs=["vform"];function Ks(o,s){if(o&1&&(c(0,"mat-error"),m(1),c(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let r=g(2);a(),C(" ",r.fieldsInfo.description==null?null:r.fieldsInfo.description.fieldDescription," is "),a(2),G(b(4,2,"MESSAGE.required"))}}function Qs(o,s){if(o&1){let r=y();c(0,"div",9)(1,"label",10),m(2),l(),c(3,"textarea",11,1),k("ngModelChange",function(i){f(r);let e=g();return A(e.dataModel.description,i)||(e.dataModel.description=i),h(i)}),m(5,"                "),l(),c(6,"em"),m(7),l(),w(8,Ks,5,4,"mat-error",12),l()}if(o&2){let r=te(4),t=g();a(2),G(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldDescription),a(),oi("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),R("ngModel",t.dataModel.description),S("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),a(4),C("",r.value.length," / 500"),a(),S("ngIf",r.errors==null?null:r.errors.required)}}function zs(o,s){if(o&1){let r=y();c(0,"div",13)(1,"button",14),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",15),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new Qt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteCreditService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new Qt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(Ce.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Gt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,e){if(i&1&&J(qs,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",2),_(1,"app-progress-spinner",3),c(2,"div",4)(3,"p",5),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",null,0),_(10,"app-cms-site-selector",6),M(11,"translate"),w(12,Qs,9,6,"div",7)(13,zs,5,3,"div",8),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,10,"TITLE.SITE")),a(2),S("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,Rt,At,re,Be,li,oe,ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Js=["vform"];function Xs(o,s){if(o&1){let r=y();c(0,"div",5)(1,"button",10),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var Yi=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteCreditService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new Qt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Gt),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(i,e){if(i&1&&J(Js,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),m(1),l(),c(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),c(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),c(9,"small",7),m(10),l()()(),c(11,"div",8),w(12,Xs,5,3,"div",9),l()),i&2&&(a(),C(" ",e.formInfo.formTitle," "),a(2),S("optionsInfoAreaId",e.constructorInfoAreaId),a(),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var Ys=()=>[5,10,20,100],Zs=o=>({display:o});function $s(o,s){if(o&1){let r=y();c(0,"a",38),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",39),l()}}function ea(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",41),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",42)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function ta(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",44),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function ia(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",46),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function oa(o,s){if(o&1){let r=y();c(0,"div",40)(1,"a",41),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewSiteRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),l(),c(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.SITE")))}function na(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function ra(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function sa(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function aa(o,s){if(o&1&&_(0,"select",52),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,Zs,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function la(o,s){if(o&1&&(c(0,"mat-cell",50),M(1,"statusCellClass"),_(2,"i",50),M(3,"statusIconClass"),w(4,aa,1,5,"select",51),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ca(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function da(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function ma(o,s){if(o&1&&(c(0,"mat-header-cell",49),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function pa(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function ua(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function fa(o,s){if(o&1&&(c(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function ha(o,s){o&1&&_(0,"mat-header-row")}function Sa(o,s){if(o&1){let r=y();c(0,"mat-row",55),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Zi=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new Qt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Gt),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-credit--list"]],features:[z],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,$s,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,ea,7,3,"div",19)(23,ta,7,3,"div",19)(24,ia,7,3,"div",19)(25,oa,7,3,"div",19),E(),v(26,20),c(27,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(28,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(29,22),c(30,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(31);return h(e.onTableSortData(n))}),v(32,24),w(33,na,2,1,"mat-header-cell",25)(34,ra,2,1,"mat-cell",26),E(),v(35,27),w(36,sa,2,1,"mat-header-cell",25)(37,la,5,7,"mat-cell",28),E(),v(38,29),w(39,ca,2,1,"mat-header-cell",25)(40,da,4,5,"mat-cell",26),E(),v(41,30),w(42,ma,2,1,"mat-header-cell",25)(43,pa,2,1,"mat-cell",26),E(),v(44,31),w(45,ua,3,3,"mat-header-cell",32)(46,fa,6,1,"mat-cell",33),E(),w(47,ha,1,0,"mat-header-row",34)(48,Sa,1,6,"mat-row",35),l(),E(),v(49,36),c(50,"mat-paginator",37,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,25,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,27,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(17),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,Ys)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,lt,Ie,be],encapsulation:2});let o=s;return o})();var Ca=["vform"];function ga(o,s){if(o&1){let r=y();c(0,"div",7)(1,"button",8),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var $i=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new Kt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteUserCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Kt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(Ce.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Ot),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,e){if(i&1&&J(Ca,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",1),_(1,"app-progress-spinner",2),c(2,"div",3)(3,"p",4),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",null,0),_(10,"app-cms-site-selector",5),M(11,"translate"),w(12,ga,5,3,"div",6),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,9,"TITLE.SITE")),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,Ve,Be,ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var _a=["vform"];function Ma(o,s){if(o&1){let r=y();c(0,"div",7)(1,"button",12),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var eo=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteUserCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new Kt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Ot),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(i,e){if(i&1&&J(_a,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),_(1,"app-progress-spinner",1),c(2,"div",2)(3,"p",3),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"div",4),_(9,"app-cms-json-list",5),l(),c(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),c(14,"small",9),m(15),l()()(),c(16,"div",10),w(17,Ma,5,3,"div",11),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(3),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var ba=()=>[5,10,20,100],Ia=o=>({display:o});function wa(o,s){if(o&1){let r=y();c(0,"a",39),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",40),l()}}function va(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",42),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",43)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function Ea(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function ya(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",47),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function Ta(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",42),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.USER")))}function La(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function Ra(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function Aa(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function ka(o,s){if(o&1&&_(0,"select",53),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,Ia,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function xa(o,s){if(o&1&&(c(0,"mat-cell",51),M(1,"statusCellClass"),_(2,"i",51),M(3,"statusIconClass"),w(4,ka,1,5,"select",52),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Da(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function Va(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function Ba(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkUserId==null?null:r.fieldsInfo.linkUserId.fieldTitle," ")}}function Na(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkUserId))," ")}}function Oa(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function Ga(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function Ha(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function Pa(o,s){if(o&1&&(c(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function Fa(o,s){o&1&&_(0,"mat-header-row")}function ja(o,s){if(o&1){let r=y();c(0,"mat-row",56),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var to=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new Kt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Kt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($i,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Ot),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],features:[z],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2,"id "),m(3," -------------------------------------- "),E(),de(4,5)(5,6),v(6,7),w(7,wa,2,0,"a",8),c(8,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(9,"i",10),l(),c(10,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(11,"i",11),l(),E(),v(12,12),c(13,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(14,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(15),M(16,"translate"),l(),c(17,"a",15)(18,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(19),M(20,"translate"),l(),E(),de(21,17),v(22,18),w(23,va,7,3,"div",19)(24,Ea,7,3,"div",19)(25,ya,7,3,"div",19)(26,Ta,7,3,"div",19),E(),v(27,20),c(28,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(29,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(30,22),c(31,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(32);return h(e.onTableSortData(n))}),v(33,24),w(34,La,2,1,"mat-header-cell",25)(35,Ra,2,1,"mat-cell",26),E(),v(36,27),w(37,Aa,2,1,"mat-header-cell",25)(38,xa,5,7,"mat-cell",28),E(),v(39,29),w(40,Da,2,1,"mat-header-cell",25)(41,Va,4,5,"mat-cell",26),E(),v(42,30),w(43,Ba,2,1,"mat-header-cell",25)(44,Na,4,5,"mat-cell",26),E(),v(45,31),w(46,Oa,2,1,"mat-header-cell",25)(47,Ga,2,1,"mat-cell",26),E(),v(48,32),w(49,Ha,3,3,"mat-header-cell",33)(50,Pa,6,1,"mat-cell",34),E(),w(51,Fa,1,0,"mat-header-row",35)(52,ja,1,6,"mat-row",36),l(),E(),v(53,37),c(54,"mat-paginator",38,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(7),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(16,25,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(20,27,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(20),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,ba)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,ht,lt,Ie,be],encapsulation:2});let o=s;return o})();var Ua=["vform"];function Wa(o,s){if(o&1&&(c(0,"mat-error"),m(1),c(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let r=g(2);a(),C(" ",r.fieldsInfo.description==null?null:r.fieldsInfo.description.fieldDescription," is "),a(2),G(b(4,2,"MESSAGE.required"))}}function qa(o,s){if(o&1){let r=y();c(0,"div",9)(1,"label",10),m(2),l(),c(3,"textarea",11,1),k("ngModelChange",function(i){f(r);let e=g();return A(e.dataModel.description,i)||(e.dataModel.description=i),h(i)}),m(5,"                "),l(),c(6,"em"),m(7),l(),w(8,Wa,5,4,"mat-error",12),l()}if(o&2){let r=te(4),t=g();a(2),G(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldDescription),a(),oi("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),R("ngModel",t.dataModel.description),S("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),a(4),C("",r.value.length," / 500"),a(),S("ngIf",r.errors==null?null:r.errors.required)}}function Ka(o,s){if(o&1){let r=y();c(0,"div",13)(1,"button",14),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",15),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var io=(()=>{let s=class s extends Te{constructor(t,i,e,d,u,n,L,x,D){super(d,new zt,x,D),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteUserCreditService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new zt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(Ce.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Ht),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,e){if(i&1&&J(Ua,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",2),_(1,"app-progress-spinner",3),c(2,"div",4)(3,"p",5),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"form",null,0),_(10,"app-cms-site-selector",6),M(11,"translate"),w(12,qa,9,6,"div",7)(13,Ka,5,3,"div",8),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),S("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",b(11,10,"TITLE.SITE")),a(2),S("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Ne,ft,ne,Ve,Rt,At,re,Be,li,oe,ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Qa=["vform"];function za(o,s){if(o&1){let r=y();c(0,"div",7)(1,"button",12),I("click",function(){f(r);let i=g();return h(i.onFormCancel())}),_(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(a(3),C(" ",b(4,1,"ACTION.CANCEL")," "))}var oo=(()=>{let s=class s{constructor(t,i,e,d,u,n,L,x,D){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreModuleLogSiteUserCreditService=d,this.cmsToastrService=u,this.tokenHelper=n,this.cdr=L,this.publicHelper=x,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new We,this.dataModelResult=new ie,this.dataModel=new zt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(p($),p(Z),p(W),p(Ht),p(V),p(N),p(H),p(B),p(F))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(i,e){if(i&1&&J(Qa,5),i&2){let d;X(d=Y())&&(e.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(c(0,"div",0),_(1,"app-progress-spinner",1),c(2,"div",2)(3,"p",3),m(4),l(),c(5,"p"),m(6),M(7,"translate"),l(),c(8,"div",4),_(9,"app-cms-json-list",5),l(),c(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),c(14,"small",9),m(15),l()()(),c(16,"div",10),w(17,za,5,3,"div",11),l()()()),i&2&&(a(),S("optionsInfoAreaId",e.constructorInfoAreaId),a(3),C(" ",e.formInfo.formTitle," "),a(2),C(" ",b(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),a(3),S("dataModel",e.dataModel)("optionMethod",1),a(4),C("",e.formInfo.formAlert," "),a(2),C("",e.formInfo.formError," "),a(2),S("ngIf",e.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=s;return o})();var Ja=()=>[5,10,20,100],Xa=o=>({display:o});function Ya(o,s){if(o&1){let r=y();c(0,"a",39),I("click",function(){f(r);let i=g();return h(i.onActionBackToParent())}),_(1,"i",40),l()}}function Za(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",42),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",43)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.VIEW")))}function $a(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",45),I("click",function(){f(r);let i=g();return h(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.EDIT")))}function el(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",47),I("click",function(){f(r);let i=g();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.DELETE")))}function tl(o,s){if(o&1){let r=y();c(0,"div",41)(1,"a",42),I("click",function(){f(r);let i=g();return h(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),c(4,"p",44),m(5),M(6,"translate"),l()()}o&2&&(a(5),G(b(6,1,"ACTION.USER")))}function il(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.id==null?null:r.fieldsInfo.id.fieldTitle," ")}}function ol(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit;a(),C(" ",r.id," ")}}function nl(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.recordStatus==null?null:r.fieldsInfo.recordStatus.fieldTitle," ")}}function rl(o,s){if(o&1&&_(0,"select",53),o&2){let r=g().$implicit,t=g();S("contentService",t.contentService)("row",r)("ngStyle",ke(3,Xa,r.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function sl(o,s){if(o&1&&(c(0,"mat-cell",51),M(1,"statusCellClass"),_(2,"i",51),M(3,"statusIconClass"),w(4,rl,1,5,"select",52),l()),o&2){let r=s.$implicit,t=g();S("ngClass",b(1,3,r.recordStatus)),a(2),S("ngClass",b(3,5,r.recordStatus)),a(2),S("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function al(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkSiteId==null?null:r.fieldsInfo.linkSiteId.fieldTitle," ")}}function ll(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkSiteId))," ")}}function cl(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.linkUserId==null?null:r.fieldsInfo.linkUserId.fieldTitle," ")}}function dl(o,s){if(o&1&&(c(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let r=s.$implicit;a(),C(" ",b(3,3,b(2,1,r.linkUserId))," ")}}function ml(o,s){if(o&1&&(c(0,"mat-header-cell",50),m(1),l()),o&2){let r=g();a(),C(" ",r.fieldsInfo.createdDate==null?null:r.fieldsInfo.createdDate.fieldTitle," ")}}function pl(o,s){if(o&1&&(c(0,"mat-cell"),m(1),l()),o&2){let r=s.$implicit,t=g();a(),C(" ",t.publicHelper.LocaleDateTime(r.createdDate)," ")}}function ul(o,s){o&1&&(c(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(a(),C(" ",b(2,1,"TITLE.OPTION")," "))}function fl(o,s){if(o&1&&(c(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let r=te(5);a(),S("matMenuTriggerFor",r)}}function hl(o,s){o&1&&_(0,"mat-header-row")}function Sl(o,s){if(o&1){let r=y();c(0,"mat-row",56),I("click",function(){let i=f(r).$implicit,e=g();return h(e.onActionTableRowSelect(i))}),l()}if(o&2){let r=s.$implicit,t=s.dataIndex,i=g();Re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",r.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var no=(()=>{let s=class s extends Le{constructor(t,i,e,d,u,n,L,x,D,st,me,at){if(super(i,new zt,me,n,x),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=n,this.cdr=L,this.translate=x,this.router=D,this.pageInfo=st,this.publicHelper=me,this.dialog=at,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ue,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new zt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(io,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(u,n,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:n=>{n.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(n=>{i.set(n,0)}),this.translate.get("MESSAGE.All").subscribe(n=>{i.set(n,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(n=>{this.publicHelper.processService.processStart(e,n,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=je.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:n=>{n.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,n.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(e)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(p(W),p(Ht),p(V),p(Se),p(Oe),p(N),p(H),p(F),p(Ge),p(_e),p(B),p(Pe))},s.\u0275cmp=O({type:s,selectors:[["app-coremodulelog-site-user-credit--list"]],features:[z],decls:55,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let d=y();c(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(n){return f(d),A(e.viewGuideNotice,n)||(e.viewGuideNotice=n),h(n)}),I("optionOnActionButtonMemoRow",function(){return f(d),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),h(e.onActionButtonPrintRow())}),v(1,4),m(2," -------------------------------------- "),E(),de(3,5)(4,6),v(5,7),w(6,Ya,2,0,"a",8),c(7,"a",9),I("click",function(){return f(d),h(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",10),l(),c(9,"a",9),I("click",function(){return f(d),h(e.onActionButtonReload())}),_(10,"i",11),l(),E(),v(11,12),c(12,"a",13),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),c(13,"mat-slide-toggle",14),k("ngModelChange",function(n){return f(d),A(e.optionsSearch.data.show,n)||(e.optionsSearch.data.show=n),h(n)}),I("click",function(){return f(d),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),m(14),M(15,"translate"),l(),c(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),h(e.onActionButtonStatist())}),k("ngModelChange",function(n){return f(d),A(e.optionsStatist.data.show,n)||(e.optionsStatist.data.show=n),h(n)}),l(),m(18),M(19,"translate"),l(),E(),de(20,17),v(21,18),w(22,Za,7,3,"div",19)(23,$a,7,3,"div",19)(24,el,7,3,"div",19)(25,tl,7,3,"div",19),E(),v(26,20),c(27,"app-cms-search-list",21),k("optionsChange",function(n){return f(d),A(e.optionsSearch,n)||(e.optionsSearch=n),h(n)}),l(),c(28,"app-cms-statist-list",21),k("optionsChange",function(n){return f(d),A(e.optionsStatist,n)||(e.optionsStatist=n),h(n)}),l(),E(),v(29,22),c(30,"mat-table",23,0),I("matSortChange",function(){f(d);let n=te(31);return h(e.onTableSortData(n))}),v(32,24),w(33,il,2,1,"mat-header-cell",25)(34,ol,2,1,"mat-cell",26),E(),v(35,27),w(36,nl,2,1,"mat-header-cell",25)(37,sl,5,7,"mat-cell",28),E(),v(38,29),w(39,al,2,1,"mat-header-cell",25)(40,ll,4,5,"mat-cell",26),E(),v(41,30),w(42,cl,2,1,"mat-header-cell",25)(43,dl,4,5,"mat-cell",26),E(),v(44,31),w(45,ml,2,1,"mat-header-cell",25)(46,pl,2,1,"mat-cell",26),E(),v(47,32),w(48,ul,3,3,"mat-header-cell",33)(49,fl,6,1,"mat-cell",34),E(),w(50,hl,1,0,"mat-header-row",35)(51,Sl,1,6,"mat-row",36),l(),E(),v(52,37),c(53,"mat-paginator",38,1),I("page",function(n){return f(d),h(e.onTablePageingData(n))}),l(),E(),l()}i&2&&(S("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),S("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),S("ngIf",e.requestLinkSiteId>0),a(7),R("ngModel",e.optionsSearch.data.show),a(),C("",b(15,25,"ACTION.SEARCH")," "),a(3),R("ngModel",e.optionsStatist.data.show),a(),C("",b(19,27,"ACTION.STATIST")," "),a(4),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),S("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),S("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(2),R("options",e.optionsSearch),a(),R("options",e.optionsStatist),a(2),S("dataSource",e.tableSource),a(20),S("matHeaderRowDef",e.tabledisplayedColumns),a(),S("matRowDefColumns",e.tabledisplayedColumns),a(2),S("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,Ja)))},dependencies:[xe,P,De,ne,re,He,Fe,oe,qe,Ke,Qe,mt,ze,Je,Xe,Ze,it,$e,Ye,ot,et,tt,nt,rt,Ee,ye,we,Me,dt,j,ht,lt,Ie,be],encapsulation:2});let o=s;return o})();var Cl=[{path:"",component:Ai,children:[{path:"report-abuse",component:Hi,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:Ki},{path:"favorite",component:Di,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:Ni,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:ji,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Zi,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:no,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:Ji,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:to,data:{title:"ROUTE.COREMODULELOG"}}]}],ro=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=ai({type:s}),s.\u0275inj=si({imports:[mi.forChild(Cl),mi]});let o=s;return o})();var Mp=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=ai({type:s}),s.\u0275inj=si({providers:[Mi,bi,Ii,wi,vi,Dt,Ei,xt,yi,Bt,Vt,kt,Nt,Ot,Gt,Ht,Se],imports:[ro,pi,ui,fi.withConfig({warnOnNgModelWithFormControl:"never"}),Li,Ri,Ti]});let o=s;return o})();export{Mp as CoreModuleLogModule};
