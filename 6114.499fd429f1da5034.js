"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6114,7421],{6114:(x,B,m)=>{m.r(B),m.d(B,{CoreModuleDataModule:()=>wo});var l=m(6610),h=m(7222),f=m(3627),v=m(295),H=m(8550),D=m(9675),d=m(8189),N=m(9915),E=m(5312),k=m(6482),j=m(5113),e=m(7788),u=m(9722),S=m(8339),M=m(5154),_=m(2882),F=m(4587),p=m(7912);const w=["vform"];function g(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",26),e.nrm(6,"i",25),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let I=(()=>{class i extends j.n{constructor(t,n,o,a,c,s,C,R,y){super(a,new d.Cil,R,y),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataCommentService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.dataModelResult=new d.YyC,this.dataModel=new d.Cil,this.formInfo=new d.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataCommentService.setAccessLoad(),this.coreModuleDataCommentService.setAccessDataType(d.FYP.Editor),this.coreModuleDataCommentService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.coreModuleDataCommentService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.YIh),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-comment-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(w,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},features:[e.Vt3],decls:36,vars:11,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["Writer",""],["comment",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.writer",1,"color-highlight"],["matInput","","type","text","name","dataModel.writer","placeholder","writer","id","dataModel.writer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.comment",1,"color-highlight"],["matInput","","type","text","name","dataModel.comment","placeholder","comment","id","dataModel.comment",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(o.onFormSubmit())}),e.j41(10,"div",11)(11,"label",12),e.EFF(12,"ModuleName"),e.k0s(),e.j41(13,"input",13,1),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(15,"div",11)(16,"label",14),e.EFF(17,"ModuleEntityName"),e.k0s(),e.j41(18,"input",15,2),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(20,"div",11)(21,"label",16),e.EFF(22,"ModuleEntityId"),e.k0s(),e.j41(23,"input",17,3),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.j41(25,"div",11)(26,"label",18),e.EFF(27,"writer"),e.k0s(),e.j41(28,"input",19,4),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.writer,s)||(o.dataModel.writer=s),e.Njj(s)}),e.k0s()(),e.j41(30,"div",11)(31,"label",20),e.EFF(32,"comment"),e.k0s(),e.j41(33,"input",21,5),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.comment,s)||(o.dataModel.comment=s),e.Njj(s)}),e.k0s()(),e.DNE(35,g,9,6,"div",22),e.k0s()()()}2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(7),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(5),e.R50("ngModel",o.dataModel.writer),e.R7$(5),e.R50("ngModel",o.dataModel.comment),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,h.qT,h.me,h.BC,h.cb,h.vS,h.cV,F.fg,p._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var G=m(4434),V=m(7848);const oe=["vform"];function ne(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ie=(()=>{class i{constructor(t,n,o,a,c,s,C,R,y){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataCommentService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.tokenInfo=new d.l$k,this.loading=new G.o,this.dataModelResult=new d.N$V,this.dataModel=new d.Cil,this.formInfo=new d.IL9,this.dataModelEnumSendSmsStatusTypeResult=new d.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataCommentService.setAccessLoad(),this.coreModuleDataCommentService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.YIh),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-comment-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(oe,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,ne,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,p._,V.l,_.D9],encapsulation:2})}return i})();var P=m(5459),U=m(6006),Y=m(2221),q=m(6182),O=m(1184),K=m(8966),W=m(4685),$=m(8058),b=m(8403),J=m(6145),z=m(1908),Q=m(3036),Z=m(3438),ee=m(6381),te=m(1268);const se=()=>[5,10,20,100],ae=i=>({display:i}),le=i=>({background:i});function re(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",43),e.k0s()}}function ce(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function de(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function me(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function ue(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function pe(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function fe(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function he(i,r){if(1&i&&e.nrm(0,"select",55),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,ae,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function _e(i,r){if(1&i&&(e.j41(0,"mat-cell",53),e.nI1(1,"statusCellClass"),e.nrm(2,"i",53),e.nI1(3,"statusIconClass"),e.DNE(4,he,1,5,"select",54),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function Se(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function ge(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function be(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Ce(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function Me(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Ee(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function Ie(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.subjectBody?null:t.fieldsInfo.subjectBody.fieldTitle," ")}}function Re(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.subjectBody," ")}}function Te(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ve(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function De(i,r){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ye(i,r){if(1&i&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function ke(i,r){if(1&i&&(e.j41(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()()()()()),2&i){const t=r.$implicit;e.R7$(5),e.SpI("",t.writer," "),e.R7$(2),e.SpI(" ",t.comment," ")}}function we(i,r){1&i&&e.nrm(0,"mat-header-row")}function Ae(i,r){if(1&i){const t=e.RV6();e.j41(0,"mat-row",58),e.bIt("click",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=r.$implicit,n=r.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2)),e.Y8G("ngStyle",e.eq3(5,le,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}let je=(()=>{class i extends N.j{constructor(t,n,o,a,c,s,C,R,y,A,L,X){if(super(n,new d.Cil,L,s,R),this.coreEnumService=t,this.contentService=n,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=c,this.tokenHelper=s,this.cdr=C,this.translate=R,this.router=y,this.pageInfo=A,this.publicHelper=L,this.dialog=X,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new d.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){const T=new d.ycK;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.Cil);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ie,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(I,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{n=a["MESSAGE.Please_Confirm"],o=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(a=>{if(a){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const a=JSON.parse(JSON.stringify(this.filteModelContent)),c=new d.ycK;c.propertyName="RecordStatus",c.value=d.Xw7.Available,a.Filters.push(c),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(d.i9D),e.rXU(d.YIh),e.rXU(u.k),e.rXU(P.o),e.rXU(D.nX),e.rXU(S._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(D.Ix),e.rXU(U.P),e.rXU(M.A),e.rXU(k.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-comment-list"]],features:[e.Vt3],decls:63,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(a),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(a),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(a),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(a),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(a),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,re,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,ce,7,3,"div",19)(24,de,7,3,"div",19)(25,me,7,3,"div",19),e.bVm(),e.qex(26,20),e.j41(27,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(29,22),e.j41(30,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(a);const s=e.sdS(31);return e.Njj(o.onTableSortData(s))}),e.qex(32,24),e.DNE(33,ue,2,1,"mat-header-cell",25)(34,pe,2,1,"mat-cell",26),e.bVm(),e.qex(35,27),e.DNE(36,fe,2,1,"mat-header-cell",25)(37,_e,5,7,"mat-cell",28),e.bVm(),e.qex(38,29),e.DNE(39,Se,2,1,"mat-header-cell",25)(40,ge,2,1,"mat-cell",26),e.bVm(),e.qex(41,30),e.DNE(42,be,2,1,"mat-header-cell",25)(43,Ce,2,1,"mat-cell",26),e.bVm(),e.qex(44,31),e.DNE(45,Me,2,1,"mat-header-cell",25)(46,Ee,2,1,"mat-cell",26),e.bVm(),e.qex(47,32),e.DNE(48,Ie,2,1,"mat-header-cell",25)(49,Re,2,1,"mat-cell",26),e.bVm(),e.qex(50,33),e.DNE(51,Te,2,1,"mat-header-cell",25)(52,ve,2,1,"mat-cell",26),e.bVm(),e.qex(53,34),e.DNE(54,De,3,3,"mat-header-cell",35)(55,ye,6,1,"mat-cell",36),e.bVm(),e.qex(56,37),e.DNE(57,ke,8,2,"mat-cell",26),e.bVm(),e.DNE(58,we,1,0,"mat-header-row",38)(59,Ae,1,7,"mat-row",39),e.k0s(),e.bVm(),e.qex(60,40),e.j41(61,"mat-paginator",41,1),e.bIt("page",function(s){return e.eBV(a),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(28),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,se)))},dependencies:[l.YU,l.bT,l.B3,h.BC,h.vS,Y.iY,q.An,F.fg,O.kk,O.Cp,K.iy,W.sG,$.B4,$.aE,b.Zl,b.tL,b.ji,b.cC,b.YV,b.iL,b.KS,b.$R,b.YZ,b.NB,J.l,z.l,Q.A,Z.x,_.D9,ee.T,te.M],encapsulation:2})}return i})(),Ne=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremoduledata"]],decls:1,vars:0,template:function(n,o){1&n&&e.nrm(0,"router-outlet")},dependencies:[D.n3],encapsulation:2})}return i})();const Ge=["vform"];function Fe(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",26),e.nrm(6,"i",25),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let Be=(()=>{class i extends j.n{constructor(t,n,o,a,c,s,C,R,y){super(a,new d.Bgy,R,y),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataMemoService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.dataModelResult=new d.YyC,this.dataModel=new d.Bgy,this.formInfo=new d.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataMemoService.setAccessLoad(),this.coreModuleDataMemoService.setAccessDataType(d.FYP.Editor),this.coreModuleDataMemoService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.coreModuleDataMemoService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.BrC),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ge,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},features:[e.Vt3],decls:36,vars:11,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["SubjectTitle",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectTitle","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(o.onFormSubmit())}),e.j41(10,"div",11)(11,"label",12),e.EFF(12,"ModuleName"),e.k0s(),e.j41(13,"input",13,1),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(15,"div",11)(16,"label",14),e.EFF(17,"ModuleEntityName"),e.k0s(),e.j41(18,"input",15,2),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(20,"div",11)(21,"label",16),e.EFF(22,"ModuleEntityId"),e.k0s(),e.j41(23,"input",17,3),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.j41(25,"div",11)(26,"label",18),e.EFF(27,"SubjectBody"),e.k0s(),e.j41(28,"input",19,4),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.subjectBody,s)||(o.dataModel.subjectBody=s),e.Njj(s)}),e.k0s()(),e.j41(30,"div",11)(31,"label",20),e.EFF(32,"SubjectTitle"),e.k0s(),e.j41(33,"input",21,5),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.subjectTitle,s)||(o.dataModel.subjectTitle=s),e.Njj(s)}),e.k0s()(),e.DNE(35,Fe,9,6,"div",22),e.k0s()()()}2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(7),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(5),e.R50("ngModel",o.dataModel.subjectBody),e.R7$(5),e.R50("ngModel",o.dataModel.subjectTitle),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,h.qT,h.me,h.BC,h.cb,h.vS,h.cV,F.fg,p._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const Ve=["vform"];function Le(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Oe=(()=>{class i{constructor(t,n,o,a,c,s,C,R,y){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataMemoService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.tokenInfo=new d.l$k,this.loading=new G.o,this.dataModelResult=new d.N$V,this.dataModel=new d.Bgy,this.formInfo=new d.IL9,this.dataModelEnumSendSmsStatusTypeResult=new d.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataMemoService.setAccessLoad(),this.coreModuleDataMemoService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.BrC),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ve,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Le,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,p._,V.l,_.D9],encapsulation:2})}return i})();const $e=()=>[5,10,20,100],He=i=>({display:i}),Xe=i=>({background:i});function xe(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",43),e.k0s()}}function Pe(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Ue(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Ye(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"span")(3,"i",51)(4,"br"),e.k0s(),e.j41(5,"p",47),e.EFF(6),e.nI1(7,"translate"),e.k0s()()}2&i&&(e.R7$(6),e.JRh(e.bMT(7,1,"ACTION.DELETE")))}function qe(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ke(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function We(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Je(i,r){if(1&i&&e.nrm(0,"select",55),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,He,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function ze(i,r){if(1&i&&(e.j41(0,"mat-cell",53),e.nI1(1,"statusCellClass"),e.nrm(2,"i",53),e.nI1(3,"statusIconClass"),e.DNE(4,Je,1,5,"select",54),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function Qe(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Ze(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function et(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function tt(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function ot(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function nt(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function it(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.subjectBody?null:t.fieldsInfo.subjectBody.fieldTitle," ")}}function st(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.subjectBody," ")}}function at(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function lt(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function rt(i,r){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ct(i,r){if(1&i&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function dt(i,r){if(1&i&&(e.j41(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),e.nrm(4,"td"),e.j41(5,"td"),e.EFF(6),e.k0s()()()()()),2&i){const t=r.$implicit;e.R7$(6),e.SpI(" ",t.subjectTitle," ")}}function mt(i,r){1&i&&e.nrm(0,"mat-header-row")}function ut(i,r){if(1&i){const t=e.RV6();e.j41(0,"mat-row",58),e.bIt("click",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=r.$implicit,n=r.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2)),e.Y8G("ngStyle",e.eq3(5,Xe,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}let pt=(()=>{class i extends N.j{constructor(t,n,o,a,c,s,C,R,y,A,L,X){if(super(n,new d.Bgy,L,s,R),this.coreEnumService=t,this.contentService=n,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=c,this.tokenHelper=s,this.cdr=C,this.translate=R,this.router=y,this.pageInfo=A,this.publicHelper=L,this.dialog=X,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new d.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){const T=new d.ycK;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.Bgy);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Oe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Be,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{n=a["MESSAGE.Please_Confirm"],o=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(a=>{if(a){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const a=JSON.parse(JSON.stringify(this.filteModelContent)),c=new d.ycK;c.propertyName="RecordStatus",c.value=d.Xw7.Available,a.Filters.push(c),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(d.i9D),e.rXU(d.BrC),e.rXU(u.k),e.rXU(P.o),e.rXU(D.nX),e.rXU(S._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(D.Ix),e.rXU(U.P),e.rXU(M.A),e.rXU(k.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-memo-list"]],features:[e.Vt3],decls:63,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(a),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(a),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(a),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(a),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(a),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,xe,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Pe,7,3,"div",19)(24,Ue,7,3,"div",19)(25,Ye,8,3,"div",19),e.bVm(),e.qex(26,20),e.j41(27,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(29,22),e.j41(30,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(a);const s=e.sdS(31);return e.Njj(o.onTableSortData(s))}),e.qex(32,24),e.DNE(33,qe,2,1,"mat-header-cell",25)(34,Ke,2,1,"mat-cell",26),e.bVm(),e.qex(35,27),e.DNE(36,We,2,1,"mat-header-cell",25)(37,ze,5,7,"mat-cell",28),e.bVm(),e.qex(38,29),e.DNE(39,Qe,2,1,"mat-header-cell",25)(40,Ze,2,1,"mat-cell",26),e.bVm(),e.qex(41,30),e.DNE(42,et,2,1,"mat-header-cell",25)(43,tt,2,1,"mat-cell",26),e.bVm(),e.qex(44,31),e.DNE(45,ot,2,1,"mat-header-cell",25)(46,nt,2,1,"mat-cell",26),e.bVm(),e.qex(47,32),e.DNE(48,it,2,1,"mat-header-cell",25)(49,st,2,1,"mat-cell",26),e.bVm(),e.qex(50,33),e.DNE(51,at,2,1,"mat-header-cell",25)(52,lt,2,1,"mat-cell",26),e.bVm(),e.qex(53,34),e.DNE(54,rt,3,3,"mat-header-cell",35)(55,ct,6,1,"mat-cell",36),e.bVm(),e.qex(56,37),e.DNE(57,dt,7,1,"mat-cell",26),e.bVm(),e.DNE(58,mt,1,0,"mat-header-row",38)(59,ut,1,7,"mat-row",39),e.k0s(),e.bVm(),e.qex(60,40),e.j41(61,"mat-paginator",41,1),e.bIt("page",function(s){return e.eBV(a),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(28),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,$e)))},dependencies:[l.YU,l.bT,l.B3,h.BC,h.vS,Y.iY,q.An,F.fg,O.kk,O.Cp,K.iy,W.sG,$.B4,$.aE,b.Zl,b.tL,b.ji,b.cC,b.YV,b.iL,b.KS,b.$R,b.YZ,b.NB,J.l,z.l,Q.A,Z.x,_.D9,ee.T,te.M],encapsulation:2})}return i})();const ft=["vform"];function ht(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",19),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",20),e.nrm(6,"i",19),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let _t=(()=>{class i extends j.n{constructor(t,n,o,a,c,s,C,R,y){super(a,new d.M6B,R,y),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataPinService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.dataModelResult=new d.YyC,this.dataModel=new d.M6B,this.formInfo=new d.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataPinService.setAccessLoad(),this.coreModuleDataPinService.setAccessDataType(d.FYP.Editor),this.coreModuleDataPinService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.coreModuleDataPinService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.g$W),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-pin-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(ft,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},features:[e.Vt3],decls:26,vars:9,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"div",4),e.nrm(1,"app-progress-spinner",5),e.j41(2,"div",6)(3,"p",7),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",8,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(o.onFormSubmit())}),e.j41(10,"div",9)(11,"label",10),e.EFF(12,"ModuleName"),e.k0s(),e.j41(13,"input",11,1),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(15,"div",9)(16,"label",12),e.EFF(17,"ModuleEntityName"),e.k0s(),e.j41(18,"input",13,2),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(20,"div",9)(21,"label",14),e.EFF(22,"ModuleEntityId"),e.k0s(),e.j41(23,"input",15,3),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.DNE(25,ht,9,6,"div",16),e.k0s()()()}2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(7),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,h.qT,h.me,h.BC,h.cb,h.vS,h.cV,F.fg,p._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const St=["vform"];function gt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let bt=(()=>{class i{constructor(t,n,o,a,c,s,C,R,y){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataPinService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.tokenInfo=new d.l$k,this.loading=new G.o,this.dataModelResult=new d.N$V,this.dataModel=new d.M6B,this.formInfo=new d.IL9,this.dataModelEnumSendSmsStatusTypeResult=new d.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataPinService.setAccessLoad(),this.coreModuleDataPinService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.g$W),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-pin-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(St,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,gt,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,p._,V.l,_.D9],encapsulation:2})}return i})();const Ct=()=>[5,10,20,100],Mt=i=>({display:i}),Et=i=>({background:i});function It(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",43),e.k0s()}}function Rt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Tt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function vt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Dt(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function yt(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function kt(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function wt(i,r){if(1&i&&e.nrm(0,"select",55),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,Mt,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function At(i,r){if(1&i&&(e.j41(0,"mat-cell",53),e.nI1(1,"statusCellClass"),e.nrm(2,"i",53),e.nI1(3,"statusIconClass"),e.DNE(4,wt,1,5,"select",54),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function jt(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Nt(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function Gt(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Ft(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function Bt(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Vt(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function Lt(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.subjectBody?null:t.fieldsInfo.subjectBody.fieldTitle," ")}}function Ot(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.subjectBody," ")}}function $t(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ht(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Xt(i,r){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function xt(i,r){if(1&i&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Pt(i,r){if(1&i&&(e.j41(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),e.nrm(4,"td"),e.j41(5,"td"),e.EFF(6),e.k0s()()()()()),2&i){const t=r.$implicit;e.R7$(6),e.SpI(" ",t.subjectTitle," ")}}function Ut(i,r){1&i&&e.nrm(0,"mat-header-row")}function Yt(i,r){if(1&i){const t=e.RV6();e.j41(0,"mat-row",58),e.bIt("click",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=r.$implicit,n=r.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2)),e.Y8G("ngStyle",e.eq3(5,Et,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}let qt=(()=>{class i extends N.j{constructor(t,n,o,a,c,s,C,R,y,A,L,X){if(super(n,new d.M6B,L,s,R),this.coreEnumService=t,this.contentService=n,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=c,this.tokenHelper=s,this.cdr=C,this.translate=R,this.router=y,this.pageInfo=A,this.publicHelper=L,this.dialog=X,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new d.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){const T=new d.ycK;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.M6B);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(bt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(_t,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{n=a["MESSAGE.Please_Confirm"],o=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(a=>{if(a){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const a=JSON.parse(JSON.stringify(this.filteModelContent)),c=new d.ycK;c.propertyName="RecordStatus",c.value=d.Xw7.Available,a.Filters.push(c),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(d.i9D),e.rXU(d.g$W),e.rXU(u.k),e.rXU(P.o),e.rXU(D.nX),e.rXU(S._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(D.Ix),e.rXU(U.P),e.rXU(M.A),e.rXU(k.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-pin-list"]],features:[e.Vt3],decls:63,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(a),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(a),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(a),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(a),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(a),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,It,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Rt,7,3,"div",19)(24,Tt,7,3,"div",19)(25,vt,7,3,"div",19),e.bVm(),e.qex(26,20),e.j41(27,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(29,22),e.j41(30,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(a);const s=e.sdS(31);return e.Njj(o.onTableSortData(s))}),e.qex(32,24),e.DNE(33,Dt,2,1,"mat-header-cell",25)(34,yt,2,1,"mat-cell",26),e.bVm(),e.qex(35,27),e.DNE(36,kt,2,1,"mat-header-cell",25)(37,At,5,7,"mat-cell",28),e.bVm(),e.qex(38,29),e.DNE(39,jt,2,1,"mat-header-cell",25)(40,Nt,2,1,"mat-cell",26),e.bVm(),e.qex(41,30),e.DNE(42,Gt,2,1,"mat-header-cell",25)(43,Ft,2,1,"mat-cell",26),e.bVm(),e.qex(44,31),e.DNE(45,Bt,2,1,"mat-header-cell",25)(46,Vt,2,1,"mat-cell",26),e.bVm(),e.qex(47,32),e.DNE(48,Lt,2,1,"mat-header-cell",25)(49,Ot,2,1,"mat-cell",26),e.bVm(),e.qex(50,33),e.DNE(51,$t,2,1,"mat-header-cell",25)(52,Ht,2,1,"mat-cell",26),e.bVm(),e.qex(53,34),e.DNE(54,Xt,3,3,"mat-header-cell",35)(55,xt,6,1,"mat-cell",36),e.bVm(),e.qex(56,37),e.DNE(57,Pt,7,1,"mat-cell",26),e.bVm(),e.DNE(58,Ut,1,0,"mat-header-row",38)(59,Yt,1,7,"mat-row",39),e.k0s(),e.bVm(),e.qex(60,40),e.j41(61,"mat-paginator",41,1),e.bIt("page",function(s){return e.eBV(a),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(28),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,Ct)))},dependencies:[l.YU,l.bT,l.B3,h.BC,h.vS,Y.iY,q.An,F.fg,O.kk,O.Cp,K.iy,W.sG,$.B4,$.aE,b.Zl,b.tL,b.ji,b.cC,b.YV,b.iL,b.KS,b.$R,b.YZ,b.NB,J.l,z.l,Q.A,Z.x,_.D9,ee.T,te.M],encapsulation:2})}return i})();const Kt=["vform"];function Wt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"button",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",26),e.nrm(6,"i",25),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let Jt=(()=>{class i extends j.n{constructor(t,n,o,a,c,s,C,R,y){super(a,new d.KKB,R,y),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataTaskService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.dataModelResult=new d.YyC,this.dataModel=new d.KKB,this.formInfo=new d.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataTaskService.setAccessLoad(),this.coreModuleDataTaskService.setAccessDataType(d.FYP.Editor),this.coreModuleDataTaskService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.coreModuleDataTaskService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.UaH),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-task-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(Kt,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},features:[e.Vt3],decls:36,vars:11,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["SubjectTitle",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectTitle","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(o.onFormSubmit())}),e.j41(10,"div",11)(11,"label",12),e.EFF(12,"ModuleName"),e.k0s(),e.j41(13,"input",13,1),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(15,"div",11)(16,"label",14),e.EFF(17,"ModuleEntityName"),e.k0s(),e.j41(18,"input",15,2),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(20,"div",11)(21,"label",16),e.EFF(22,"ModuleEntityId"),e.k0s(),e.j41(23,"input",17,3),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.j41(25,"div",11)(26,"label",18),e.EFF(27,"SubjectBody"),e.k0s(),e.j41(28,"input",19,4),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.subjectBody,s)||(o.dataModel.subjectBody=s),e.Njj(s)}),e.k0s()(),e.j41(30,"div",11)(31,"label",20),e.EFF(32,"SubjectTitle"),e.k0s(),e.j41(33,"input",21,5),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.dataModel.subjectTitle,s)||(o.dataModel.subjectTitle=s),e.Njj(s)}),e.k0s()(),e.DNE(35,Wt,9,6,"div",22),e.k0s()()()}2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(7),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(5),e.R50("ngModel",o.dataModel.subjectBody),e.R7$(5),e.R50("ngModel",o.dataModel.subjectTitle),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,h.qT,h.me,h.BC,h.cb,h.vS,h.cV,F.fg,p._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const zt=["vform"];function Qt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Zt=(()=>{class i{constructor(t,n,o,a,c,s,C,R,y){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreModuleDataTaskService=a,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=C,this.publicHelper=R,this.translate=y,this.requestId="",this.tokenInfo=new d.l$k,this.loading=new G.o,this.dataModelResult=new d.N$V,this.dataModel=new d.KKB,this.formInfo=new d.IL9,this.dataModelEnumSendSmsStatusTypeResult=new d.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreModuleDataTaskService.setAccessLoad(),this.coreModuleDataTaskService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(k.Vh),e.rXU(k.CP),e.rXU(d.i9D),e.rXU(d.UaH),e.rXU(u.k),e.rXU(S._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-task-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(zt,5),2&n){let a;e.mGM(a=e.lsd())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Qt,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[l.bT,p._,V.l,_.D9],encapsulation:2})}return i})();const eo=()=>[5,10,20,100],to=i=>({display:i}),oo=i=>({background:i});function no(i,r){if(1&i){const t=e.RV6();e.j41(0,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",43),e.k0s()}}function io(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function so(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ao(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",44)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function lo(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ro(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function co(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function mo(i,r){if(1&i&&e.nrm(0,"select",55),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,to,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function uo(i,r){if(1&i&&(e.j41(0,"mat-cell",53),e.nI1(1,"statusCellClass"),e.nrm(2,"i",53),e.nI1(3,"statusIconClass"),e.DNE(4,mo,1,5,"select",54),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function po(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function fo(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function ho(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function _o(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function So(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function go(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function bo(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.subjectBody?null:t.fieldsInfo.subjectBody.fieldTitle," ")}}function Co(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.R7$(),e.SpI(" ",t.subjectBody," ")}}function Mo(i,r){if(1&i&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Eo(i,r){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=r.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Io(i,r){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Ro(i,r){if(1&i&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function To(i,r){if(1&i&&(e.j41(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),e.nrm(4,"td"),e.j41(5,"td"),e.EFF(6),e.k0s()()()()()),2&i){const t=r.$implicit;e.R7$(6),e.SpI(" ",t.subjectTitle," ")}}function vo(i,r){1&i&&e.nrm(0,"mat-header-row")}function Do(i,r){if(1&i){const t=e.RV6();e.j41(0,"mat-row",58),e.bIt("click",function(){const o=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=r.$implicit,n=r.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2)),e.Y8G("ngStyle",e.eq3(5,oo,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}const yo=[{path:"",component:Ne,children:[{path:"memo",component:pt,data:{title:"ROUTE.COREMODULELOG.MEMO"}},{path:"pin",component:qt,data:{title:"ROUTE.COREMODULELOG.PIN"}},{path:"task",component:(()=>{class i extends N.j{constructor(t,n,o,a,c,s,C,R,y,A,L,X){if(super(n,new d.KKB,L,s,R),this.coreEnumService=t,this.contentService=n,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=c,this.tokenHelper=s,this.cdr=C,this.translate=R,this.router=y,this.pageInfo=A,this.publicHelper=L,this.dialog=X,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new d.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){const T=new d.ycK;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.KKB);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Zt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Jt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:E.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:E.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{n=a["MESSAGE.Please_Confirm"],o=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(a=>{if(a){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const a=JSON.parse(JSON.stringify(this.filteModelContent)),c=new d.ycK;c.propertyName="RecordStatus",c.value=d.Xw7.Available,a.Filters.push(c),this.contentService.ServiceGetCount(a).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(C=>{n.set(C,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(d.i9D),e.rXU(d.UaH),e.rXU(u.k),e.rXU(P.o),e.rXU(D.nX),e.rXU(S._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(D.Ix),e.rXU(U.P),e.rXU(M.A),e.rXU(k.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coremodule-data-task-list"]],features:[e.Vt3],decls:63,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(a),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(a),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(a),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(a),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(a),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,no,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(a),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,io,7,3,"div",19)(24,so,7,3,"div",19)(25,ao,7,3,"div",19),e.bVm(),e.qex(26,20),e.j41(27,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(a),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(29,22),e.j41(30,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(a);const s=e.sdS(31);return e.Njj(o.onTableSortData(s))}),e.qex(32,24),e.DNE(33,lo,2,1,"mat-header-cell",25)(34,ro,2,1,"mat-cell",26),e.bVm(),e.qex(35,27),e.DNE(36,co,2,1,"mat-header-cell",25)(37,uo,5,7,"mat-cell",28),e.bVm(),e.qex(38,29),e.DNE(39,po,2,1,"mat-header-cell",25)(40,fo,2,1,"mat-cell",26),e.bVm(),e.qex(41,30),e.DNE(42,ho,2,1,"mat-header-cell",25)(43,_o,2,1,"mat-cell",26),e.bVm(),e.qex(44,31),e.DNE(45,So,2,1,"mat-header-cell",25)(46,go,2,1,"mat-cell",26),e.bVm(),e.qex(47,32),e.DNE(48,bo,2,1,"mat-header-cell",25)(49,Co,2,1,"mat-cell",26),e.bVm(),e.qex(50,33),e.DNE(51,Mo,2,1,"mat-header-cell",25)(52,Eo,2,1,"mat-cell",26),e.bVm(),e.qex(53,34),e.DNE(54,Io,3,3,"mat-header-cell",35)(55,Ro,6,1,"mat-cell",36),e.bVm(),e.qex(56,37),e.DNE(57,To,7,1,"mat-cell",26),e.bVm(),e.DNE(58,vo,1,0,"mat-header-row",38)(59,Do,1,7,"mat-row",39),e.k0s(),e.bVm(),e.qex(60,40),e.j41(61,"mat-paginator",41,1),e.bIt("page",function(s){return e.eBV(a),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(28),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,eo)))},dependencies:[l.YU,l.bT,l.B3,h.BC,h.vS,Y.iY,q.An,F.fg,O.kk,O.Cp,K.iy,W.sG,$.B4,$.aE,b.Zl,b.tL,b.ji,b.cC,b.YV,b.iL,b.KS,b.$R,b.YZ,b.NB,J.l,z.l,Q.A,Z.x,_.D9,ee.T,te.M],encapsulation:2})}return i})(),data:{title:"ROUTE.COREMODULELOG.TASK"}},{path:"comment",component:je,data:{title:"ROUTE.COREMODULELOG.COMMENT"}}]}];let ko=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({imports:[D.iI.forChild(yo),D.iI]})}return i})(),wo=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({providers:[d.XBe,d.XFG,d.Fwl,d.LEy,d.smV,d.YIh,d.BrC,d.g$W,d.UaH,P.o],imports:[ko,l.MD,h.YN,h.X1.withConfig({warnOnNgModelWithFormControl:"never"}),H.G,f.Qt,v.XQ]})}return i})()},3438:(x,B,m)=>{m.d(B,{x:()=>k});var l=m(3308),h=m(6610),f=m(8189),v=m(7788),H=m(5154),D=m(9722);let k=(()=>{class j{constructor(u,S,M,_,F,p){this.elRef=u,this.renderer=S,this.publicHelper=M,this.cmsToastrService=_,this.cdr=F,this.document=p,this.DataEnumRecordStatus()}DataEnumRecordStatus(){var u=this;return(0,l.A)(function*(){(yield u.publicHelper.getEnumRecordStatus()).listItems.forEach(M=>{const _=document.createElement("option");_.innerHTML=" "+M.title+' <i Class="'+u.iconStatus(M.value)+'"></i>',_.value=M.value.toString(),u.elRef.nativeElement.add(_)}),u.elRef.nativeElement.options.length>0&&u.row&&u.row.recordStatus&&u.renderer.setProperty(u.elRef.nativeElement,"value",u.row.recordStatus)})()}onChange(){const u=this.elRef.nativeElement,S=u.value;this.addLoader(u),this.contentService.setAccessDataType(f.FYP.Editor),this.contentService.ServiceSetStatus(this.row.id,S).subscribe({next:M=>{M.isSuccess?(this.handleSuccessCase(u),this.cmsToastrService.typeSuccessSetStatus(M.errorMessage),this.row.recordStatus=0|S,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(M.errorMessage),this.handleErrorCase(u))},error:M=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(M),this.handleErrorCase(u)}})}handleSuccessCase(u){this.removeBackground(u),this.addSuccess(u),setTimeout(()=>{this.removeBackground(u)},1e3)}handleErrorCase(u){this.removeBackground(u);const S=this.document.createElement("img");S.style.width="20px",S.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const M=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(M,S),setTimeout(()=>{this.renderer.removeChild(M,S)},1e3)}addLoader(u){this.addBackground(u,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(u){this.addBackground(u,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(u,S,M){u.style.background=`#fff url("${S}") no-repeat right 20px center`,u.style.backgroundSize=`${M}px`}removeBackground(u){u.style.background="none"}iconStatus(u){let S="";switch(u){case 1:default:S="fa fa-check";break;case 2:S="fa fa-eye-slash";break;case 3:S="fa fa-times";break;case 4:S="fa fa-hourglass-half";break;case 5:S="far fa-thumbs-down";break;case 6:S="fa fa-archive"}return S}static#e=this.\u0275fac=function(S){return new(S||j)(v.rXU(v.aKT),v.rXU(v.sFG),v.rXU(H.A),v.rXU(D.k),v.rXU(v.gRc),v.rXU(h.qQ))};static#t=this.\u0275dir=v.FsC({type:j,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(S,M){1&S&&v.bIt("change",function(){return M.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return j})()},1268:(x,B,m)=>{m.d(B,{M:()=>f});var l=m(7788),h=m(6098);let f=(()=>{class v{constructor(D){this.sanitizer=D}transform(D){return"cms-RecordStatusEnum-cell-"+D}static#e=this.\u0275fac=function(d){return new(d||v)(l.rXU(h.up,16))};static#t=this.\u0275pipe=l.EJ8({name:"statusCellClass",type:v,pure:!0})}return v})()},6381:(x,B,m)=>{m.d(B,{T:()=>f});var l=m(7788),h=m(6098);let f=(()=>{class v{constructor(D){this.sanitizer=D}transform(D,d=!1){let N="";switch(D){case 1:default:N="fa fa-check";break;case 2:N="fa fa-times";break;case 3:N="fa fa-trash";break;case 4:N="fa fa-hourglass-half";break;case 5:N="far fa-thumbs-down";break;case 6:N="fa fa-archive"}return N}static#e=this.\u0275fac=function(d){return new(d||v)(l.rXU(h.up,16))};static#t=this.\u0275pipe=l.EJ8({name:"statusIconClass",type:v,pure:!0})}return v})()},5459:(x,B,m)=>{m.d(B,{o:()=>N});var l=m(5312),h=m(6482),f=m(7788);let v=(()=>{class E{static#e=this.nextId=0;constructor(j,e){this.dialogRef=j,this.data=e,this.id=++E.nextId,e||this.dialogRef.close(!1)}ngOnInit(){}onDismiss(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static#t=this.\u0275fac=function(e){return new(e||E)(f.rXU(h.CP),f.rXU(h.Vh))};static#o=this.\u0275cmp=f.VBU({type:E,selectors:[["app-confirmation-dialog"]],decls:18,vars:4,consts:[[1,"menu","menu-box-modal","rounded-m","menu-active",2,"display","block","width","350px","height","320px","padding","20px"],[1,"menu-title"],[1,"fa","fa-question-circle","scale-box","float-start","me-3","ms-3","fa-3x","mt-1","color-blue-dark"],[1,"color-highlight"],[1,"font-20"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mt-0"],[1,"pe-3",3,"innerHTML"],[1,"row","mb-0"],[1,"col-6"],[1,"btn","close-menu","btn-full","btn-m","bg-red-dark","font-600","rounded-s",3,"click"],[1,"btn","close-menu","btn-full","btn-m","bg-green-dark","font-600","rounded-s",3,"click"]],template:function(e,u){1&e&&(f.j41(0,"div",0)(1,"div",1),f.nrm(2,"i",2),f.j41(3,"p",3),f.EFF(4),f.k0s(),f.j41(5,"h1",4),f.EFF(6,"\u0645\u0637\u0645\u0626\u0646\u06cc\u062f\u061f"),f.k0s(),f.j41(7,"a",5),f.bIt("click",function(){return u.onDismiss()}),f.nrm(8,"i",6),f.k0s()(),f.j41(9,"div",7),f.nrm(10,"p",8),f.j41(11,"div",9)(12,"div",10)(13,"a",11),f.bIt("click",function(){return u.onDismiss()}),f.EFF(14),f.k0s()(),f.j41(15,"div",10)(16,"a",12),f.bIt("click",function(){return u.onConfirm()}),f.EFF(17),f.k0s()()()()()),2&e&&(f.R7$(4),f.SpI(" ",u.data.title,""),f.R7$(6),f.Y8G("innerHTML",u.data.message,f.npT),f.R7$(4),f.JRh(u.data.btnCancelText),f.R7$(3),f.JRh(u.data.btnConfirmText))},encapsulation:2})}return E})();var H=m(8339),D=m(2882);class d{constructor(k,j){this.title=k,this.message=j,this.btnConfirmText="OK",this.btnCancelText="Cancel",this.dialogSize="sm"}}let N=(()=>{class E{constructor(j,e,u){this.dialog=j,this.tokenHelper=e,this.translate=u}confirm(j,e,u="",S="",M="sm"){const _=new d(j,e);return _.btnConfirmText=u,_.btnCancelText=S,_.dialogSize=M,(!_.btnConfirmText||""==_.btnConfirmText||0==_.btnConfirmText.length)&&this.translate.get("ACTION.CONFIRM").subscribe(w=>{_.btnConfirmText=w}),(!_.btnCancelText||""==_.btnCancelText||0==_.btnCancelText.length)&&this.translate.get("ACTION.CANCEL").subscribe(w=>{_.btnCancelText=w}),this.dialog.open(v,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:l.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:l.c.cmsViewConfig.exitAnimationDuration,data:_}).afterClosed().toPromise().then(w=>Promise.resolve(w))}static#e=this.\u0275fac=function(e){return new(e||E)(f.KVO(h.bZ),f.KVO(H._),f.KVO(D.c$))};static#t=this.\u0275prov=f.jDH({token:E,factory:E.\u0275fac})}return E})()},7848:(x,B,m)=>{m.d(B,{l:()=>F});var l=m(7788),h=m(6610),f=m(2882);let v=(()=>{class p{transform(g,I){if(!g)return[];let G=Object.keys(g);return G=G.filter(V=>V&&V.length>0&&V.toLowerCase().indexOf("antiinjection")<0),I&&I.size>0&&(G=G.filter(V=>V&&V.length>0&&I.has(V))),G}static#e=this.\u0275fac=function(I){return new(I||p)};static#t=this.\u0275pipe=l.EJ8({name:"listkeys",type:p,pure:!0})}return p})();function H(p,w){1&p&&(l.j41(0,"div",6)(1,"div",7),l.EFF(2),l.nI1(3,"translate"),l.k0s(),l.j41(4,"div",7),l.EFF(5),l.nI1(6,"translate"),l.k0s(),l.nrm(7,"div",8),l.k0s()),2&p&&(l.R7$(2),l.JRh(l.bMT(3,2,"TITLE.parameter")),l.R7$(3),l.JRh(l.bMT(6,4,"TITLE.Values")))}function D(p,w){if(1&p&&(l.j41(0,"div",9)(1,"div",7),l.EFF(2),l.k0s(),l.j41(3,"div",7),l.EFF(4),l.k0s(),l.nrm(5,"div",10),l.k0s()),2&p){const g=w.$implicit,I=l.XpG(2);l.R7$(2),l.JRh(I.optionFields&&I.optionFields.size>0?I.optionFields.get(g):g),l.R7$(2),l.JRh(I.dataModel[g])}}function d(p,w){if(1&p&&(l.j41(0,"div",3),l.DNE(1,H,8,6,"div",4)(2,D,6,2,"div",5),l.nI1(3,"listkeys"),l.k0s()),2&p){const g=l.XpG();l.R7$(),l.Y8G("ngIf",g.optionViewHead),l.R7$(),l.Y8G("ngForOf",l.i5U(3,2,g.dataModel,g.optionFields))}}function N(p,w){if(1&p&&(l.j41(0,"div",7),l.EFF(1),l.k0s()),2&p){const g=w.$implicit,I=l.XpG(3);l.R7$(),l.JRh(I.optionFields&&I.optionFields.size>0?I.optionFields.get(g):g)}}function E(p,w){if(1&p&&(l.j41(0,"div",6),l.DNE(1,N,2,1,"div",11),l.nI1(2,"listkeys"),l.nrm(3,"div",8),l.k0s()),2&p){const g=l.XpG(2);l.R7$(),l.Y8G("ngForOf",l.i5U(2,1,g.dataModel[0],g.optionFields))}}function k(p,w){if(1&p&&(l.j41(0,"div",7),l.EFF(1),l.k0s()),2&p){const g=w.$implicit,I=l.XpG().$implicit;l.R7$(),l.JRh(I[g])}}function j(p,w){if(1&p&&(l.j41(0,"div",9),l.DNE(1,k,2,1,"div",11),l.nI1(2,"listkeys"),l.nrm(3,"div",10),l.k0s()),2&p){const g=w.$implicit,I=l.XpG(2);l.R7$(),l.Y8G("ngForOf",l.i5U(2,1,g,I.optionFields))}}function e(p,w){if(1&p&&(l.j41(0,"div",3),l.DNE(1,E,4,4,"div",4)(2,j,4,4,"div",5),l.k0s()),2&p){const g=l.XpG();l.R7$(),l.Y8G("ngIf",g.optionViewHead),l.R7$(),l.Y8G("ngForOf",g.dataModel)}}function u(p,w){if(1&p&&(l.j41(0,"div",7),l.EFF(1),l.k0s()),2&p){const g=w.$implicit,I=l.XpG(3);l.R7$(),l.JRh(I.optionFields&&I.optionFields.size>0?I.optionFields.get(g):g)}}function S(p,w){if(1&p&&(l.j41(0,"div",6),l.DNE(1,u,2,1,"div",11),l.nI1(2,"listkeys"),l.nrm(3,"div",8),l.k0s()),2&p){const g=l.XpG(2);l.R7$(),l.Y8G("ngForOf",l.i5U(2,1,g.dataModel[0],g.optionFields))}}function M(p,w){if(1&p&&(l.j41(0,"div",7),l.EFF(1),l.k0s()),2&p){const g=w.$implicit,I=l.XpG(2);l.R7$(),l.JRh(I.dataModel[g])}}function _(p,w){if(1&p&&(l.j41(0,"div",3),l.DNE(1,S,4,4,"div",4),l.j41(2,"div",9),l.DNE(3,M,2,1,"div",11),l.nI1(4,"listkeys"),l.nrm(5,"div",10),l.k0s()()),2&p){const g=l.XpG();l.R7$(),l.Y8G("ngIf",g.optionViewHead),l.R7$(2),l.Y8G("ngForOf",l.i5U(4,2,g.dataModel,g.optionFields))}}let F=(()=>{class p{static#e=this.nextId=0;constructor(){this.id=++p.nextId,this.optionMethod=1,this.optionViewHead=!0}ngOnInit(){}static#t=this.\u0275fac=function(I){return new(I||p)};static#o=this.\u0275cmp=l.VBU({type:p,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:5,vars:3,consts:[[1,"card","card-style"],[1,"content","mb-0"],["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(I,G){1&I&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,d,4,5,"div",2)(3,e,3,2,"div",2)(4,_,6,5,"div",2),l.k0s()()),2&I&&(l.R7$(2),l.Y8G("ngIf",1===G.optionMethod&&G.dataModel),l.R7$(),l.Y8G("ngIf",2===G.optionMethod&&G.dataModel),l.R7$(),l.Y8G("ngIf",3===G.optionMethod&&G.dataModel))},dependencies:[h.Sq,h.bT,f.D9,v],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return p})()}}]);