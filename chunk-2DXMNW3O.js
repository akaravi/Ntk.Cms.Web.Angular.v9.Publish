import{a as ot}from"./chunk-KSARJFPV.js";import{a as nt}from"./chunk-RXDSAYQG.js";import{a as _e}from"./chunk-2WBSERDS.js";import{$ as ai,$b as Le,Ab as W,Bd as $e,Cb as ie,E as ni,F as oi,Fb as De,Fd as et,G as ri,Id as tt,Jc as pt,Ld as it,N as yi,O as Ri,Oa as $,Od as Ui,Pa as ee,Qa as Me,Uc as Ke,Vc as Xe,Wa as Ee,Yc as St,Za as Se,Zc as ft,_c as ut,ac as Ue,bb as vi,bc as Ve,ca as gi,cb as Ti,cc as Be,db as wi,dc as Oe,ec as Ne,jd as lt,lc as Pe,mc as Ge,nc as He,o as Ci,oc as Fe,p as ii,pa as P,pc as je,pd as Ye,qa as G,qc as We,rc as qe,s as ue,sc as Qe,sd as Ze,t as Ei,tc as ze,ub as F,uc as Je,v as Ai,va as Ie,vb as j,x as he,xb as st,xd as si,y as ki,zb as xe}from"./chunk-C6VDHA6X.js";import{a as Q}from"./chunk-XBKVRVC6.js";import{Bd as H,Db as X,Dc as mt,Eb as Y,Fb as Z,Fc as Te,Fd as ye,Ha as ht,Ib as J,Kb as m,Kd as Ct,Ke as gt,Kf as At,La as s,Lb as L,Lc as Mi,Ld as D,Le as vt,Lf as kt,Ma as S,Mb as u,Me as Tt,Mf as yt,Ne as wt,Nf as Rt,Od as q,Oe as bt,Of as xt,Pd as Re,Pe as It,Pf as Dt,Qb as y,Qd as te,Qf as Lt,Rb as R,Re as Mt,Rf as Ut,Sb as x,Se as Et,Vb as ve,Vd as z,Wb as dt,Yb as g,Za as K,Zb as v,Zd as Di,_b as re,ab as w,cb as f,da as Si,eb as ge,fd as we,gc as O,gd as xi,hd as be,he as Li,ja as B,ka as _i,kd as Ii,lb as l,mb as r,nb as T,nd as Ae,ob as b,pb as I,qb as oe,ra as _,rb as E,sa as C,ub as M,wb as h,xc as at,yc as ti,zc as N,zd as ke}from"./chunk-XKQYEJGP.js";var sn=["vform"];function ln(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cn(e,a){if(e&1){let o=E();l(0,"div",8)(1,"button",9),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",10),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new At,U,V),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenActivationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.translate=V,this.publicHelper=U,this.requestId="",this.dataModelResult=new D,this.dataModel=new At,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(ye.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(gt),S(j),S(F),S(O),S(P),S(W))},a.\u0275cmp=B({type:a,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&X(sn,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),w(8,ln,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),w(13,cn,5,3,"div",6),r()()),n&2&&(s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,et,lt,it,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var dn=["vform"];function mn(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Bi=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenActivationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new At,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(gt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&X(dn,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,mn,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G]});let e=a;return e})();var pn=()=>[5,10,20,100],fn=e=>({display:e});function un(e,a){if(e&1){let o=E();l(0,"a",51),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",52),r()}}function hn(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function Sn(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",55),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function _n(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",57),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function Cn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function gn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function vn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function wn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function bn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function In(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Mn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberUserId," ")}}function En(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function An(e,a){if(e&1&&T(0,"select",62),e&2){let o=h().$implicit,i=h();f("contentService",i.contentService)("row",o)("ngStyle",dt(3,fn,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function kn(e,a){if(e&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),T(2,"i",60),g(3,"statusIconClass"),w(4,An,1,5,"select",61),r()),e&2){let o=a.$implicit,i=h();f("ngClass",v(1,3,o.recordStatus)),s(2),f("ngClass",v(3,5,o.recordStatus)),s(2),f("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function yn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Rn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function xn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Dn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ln(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Un(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Vn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Bn(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function On(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Nn(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function Pn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Gn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Hn(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Fn(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function jn(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Wn(e,a){if(e&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function qn(e,a){e&1&&T(0,"mat-header-row")}function Qn(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Oi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new At,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new At);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Bi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(gt),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-user-list"]],features:[K],decls:89,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,un,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,hn,7,3,"div",19)(24,Sn,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22),r(),l(28,"p",23),m(29),g(30,"translate"),r()(),l(31,"div",20)(32,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(33,"i",24)(34,"br"),r(),l(35,"p",23),m(36),g(37,"translate"),r()(),w(38,_n,7,3,"div",19),I(),b(39,25),l(40,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(41,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(42,27),l(43,"mat-table",28,0),M("matSortChange",function(){_(d);let c=J(44);return C(t.onTableSortData(c))}),b(45,29),w(46,Cn,2,1,"mat-header-cell",30)(47,gn,2,1,"mat-cell",31),I(),b(48,32),w(49,vn,2,1,"mat-header-cell",30)(50,Tn,4,5,"mat-cell",31),I(),b(51,33),w(52,wn,2,1,"mat-header-cell",30)(53,bn,4,5,"mat-cell",31),I(),b(54,34),w(55,In,2,1,"mat-header-cell",30)(56,Mn,2,1,"mat-cell",31),I(),b(57,35),w(58,En,2,1,"mat-header-cell",30)(59,kn,5,7,"mat-cell",36),I(),b(60,37),w(61,yn,2,1,"mat-header-cell",30)(62,Rn,3,4,"mat-cell",31),I(),b(63,38),w(64,xn,2,1,"mat-header-cell",30)(65,Dn,3,4,"mat-cell",31),I(),b(66,39),w(67,Ln,2,1,"mat-header-cell",30)(68,Un,3,3,"mat-cell",31),I(),b(69,40),w(70,Vn,2,1,"mat-header-cell",30)(71,Bn,3,3,"mat-cell",31),I(),b(72,41),w(73,On,2,1,"mat-header-cell",30)(74,Nn,3,3,"mat-cell",31),I(),b(75,42),w(76,Pn,2,1,"mat-header-cell",30)(77,Gn,2,1,"mat-cell",31),I(),b(78,43),w(79,Hn,2,1,"mat-header-cell",30)(80,Fn,2,1,"mat-cell",31),I(),b(81,44),w(82,jn,3,3,"mat-header-cell",45)(83,Wn,6,1,"mat-cell",46),I(),w(84,qn,1,0,"mat-header-row",47)(85,Qn,1,6,"mat-row",48),r(),I(),b(86,49),l(87,"mat-paginator",50,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,25,"ACTION.SEARCH")," "),s(4),u("",v(14,27,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(5),L(v(30,29,"ACTION.SITE")),s(7),L(v(37,31,"ACTION.USER")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(41),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,pn)))},dependencies:[at,N,mt,ue,he,Ie,Ee,Se,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,pt,Te,G,Xe,De,Ke,ut,ft,st],encapsulation:2});let e=a;return e})();var Ni=(()=>{let a=class a{constructor(){}ngOnInit(){}};a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=B({type:a,selectors:[["app-core-token"]],decls:1,vars:0,template:function(n,t){n&1&&T(0,"router-outlet")},dependencies:[xi],encapsulation:2});let e=a;return e})();var zn=["vform"];function Jn(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kn(e,a){if(e&1){let o=E();l(0,"div",8)(1,"button",9),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",10),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Pi=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new Dt,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenMicroServiceLogService=d,this.cmsToastrService=p,this.publicHelper=c,this.cdr=k,this.tokenHelper=V,this.translate=U,this.requestId="",this.dataModelResult=new D,this.dataModel=new Dt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(ye.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(It),S(j),S(W),S(O),S(F),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(n,t){if(n&1&&X(zn,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),w(8,Jn,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),w(13,Kn,5,3,"div",6),r()()),n&2&&(s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,et,lt,it,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var Xn=["vform"];function Yn(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Gi=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenMicroServiceLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new Dt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(It),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(n,t){if(n&1&&X(Xn,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,Yn,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G],encapsulation:2});let e=a;return e})();var Zn=()=>[5,10,20,100],$n=e=>({display:e});function eo(e,a){if(e&1){let o=E();l(0,"a",51),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",52),r()}}function to(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function io(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",55),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function no(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",57),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function oo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ro(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function ao(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function so(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function lo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function co(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function mo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function po(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberUserId," ")}}function fo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function uo(e,a){if(e&1&&T(0,"select",62),e&2){let o=h().$implicit,i=h();f("contentService",i.contentService)("row",o)("ngStyle",dt(3,$n,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ho(e,a){if(e&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),T(2,"i",60),g(3,"statusIconClass"),w(4,uo,1,5,"select",61),r()),e&2){let o=a.$implicit,i=h();f("ngClass",v(1,3,o.recordStatus)),s(2),f("ngClass",v(3,5,o.recordStatus)),s(2),f("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function So(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function _o(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Co(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function go(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function To(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function wo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bo(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Io(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Mo(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function Eo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ao(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function ko(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function yo(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function Ro(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function xo(e,a){if(e&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function Do(e,a){e&1&&T(0,"mat-header-row")}function Lo(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Hi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new Dt,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(It),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-microservicelog-list"]],features:[K],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,eo,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,to,7,3,"div",19)(24,io,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22)(28,"br"),r(),l(29,"p",23),m(30),g(31,"translate"),r()(),l(32,"div",20)(33,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(34,"i",24)(35,"br"),r(),l(36,"p",23),m(37),g(38,"translate"),r()(),w(39,no,7,3,"div",19),I(),b(40,25),l(41,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(42,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(43,27),l(44,"mat-table",28,0),M("matSortChange",function(){_(d);let c=J(45);return C(t.onTableSortData(c))}),b(46,29),w(47,oo,2,1,"mat-header-cell",30)(48,ro,2,1,"mat-cell",31),I(),b(49,32),w(50,ao,2,1,"mat-header-cell",30)(51,so,4,5,"mat-cell",31),I(),b(52,33),w(53,lo,2,1,"mat-header-cell",30)(54,co,4,5,"mat-cell",31),I(),b(55,34),w(56,mo,2,1,"mat-header-cell",30)(57,po,2,1,"mat-cell",31),I(),b(58,35),w(59,fo,2,1,"mat-header-cell",30)(60,ho,5,7,"mat-cell",36),I(),b(61,37),w(62,So,2,1,"mat-header-cell",30)(63,_o,3,4,"mat-cell",31),I(),b(64,38),w(65,Co,2,1,"mat-header-cell",30)(66,go,3,4,"mat-cell",31),I(),b(67,39),w(68,vo,2,1,"mat-header-cell",30)(69,To,3,3,"mat-cell",31),I(),b(70,40),w(71,wo,2,1,"mat-header-cell",30)(72,bo,3,3,"mat-cell",31),I(),b(73,41),w(74,Io,2,1,"mat-header-cell",30)(75,Mo,3,3,"mat-cell",31),I(),b(76,42),w(77,Eo,2,1,"mat-header-cell",30)(78,Ao,2,1,"mat-cell",31),I(),b(79,43),w(80,ko,2,1,"mat-header-cell",30)(81,yo,2,1,"mat-cell",31),I(),b(82,44),w(83,Ro,3,3,"mat-header-cell",45)(84,xo,6,1,"mat-cell",46),I(),w(85,Do,1,0,"mat-header-row",47)(86,Lo,1,6,"mat-row",48),r(),I(),b(87,49),l(88,"mat-paginator",50,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,25,"ACTION.SEARCH")," "),s(4),u("",v(14,27,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(6),L(v(31,29,"ACTION.SITE")),s(7),L(v(38,31,"ACTION.USER")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(41),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Zn)))},dependencies:[at,N,mt,ue,he,Ie,Ee,Se,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,pt,Te,G,Xe,De,Ke,ut,ft,st],encapsulation:2});let e=a;return e})();var Uo=["vform"];function Vo(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",8),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Bo(e,a){if(e&1&&(l(0,"div"),T(1,"div",9),g(2,"prettyjson"),r()),e&2){let o=h();s(),f("innerHTML",v(2,1,o.dataModel),ht)}}function Oo(e,a){if(e&1){let o=E();l(0,"div",10)(1,"button",11),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",12),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Fi=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new xt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenMicroServiceService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.dataModelResult=new Ct,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(ye.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(bt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(n,t){if(n&1&&X(Uo,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),w(8,Vo,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),w(13,Bo,3,3,"div",6)(14,Oo,5,3,"div",7),r()()),n&2&&(s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),s(2),f("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,et,lt,it,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var No=["vform"];function Po(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var ji=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenMicroServiceService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(bt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(n,t){if(n&1&&X(No,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,Po,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G]});let e=a;return e})();var Go=()=>[5,10,20,100],Ho=e=>({display:e});function Fo(e,a){if(e&1){let o=E();l(0,"a",51),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",52),r()}}function jo(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function Wo(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",55),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function qo(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",57),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function Qo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function zo(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function Jo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ko(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Xo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Yo(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Zo(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function $o(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberUserId," ")}}function er(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function tr(e,a){if(e&1&&T(0,"select",62),e&2){let o=h().$implicit,i=h();f("contentService",i.contentService)("row",o)("ngStyle",dt(3,Ho,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ir(e,a){if(e&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),T(2,"i",60),g(3,"statusIconClass"),w(4,tr,1,5,"select",61),r()),e&2){let o=a.$implicit,i=h();f("ngClass",v(1,3,o.recordStatus)),s(2),f("ngClass",v(3,5,o.recordStatus)),s(2),f("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function nr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function or(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function rr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function ar(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function sr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function lr(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function cr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function dr(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function mr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function pr(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function fr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function ur(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function hr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Sr(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function _r(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Cr(e,a){if(e&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function gr(e,a){e&1&&T(0,"mat-header-row")}function vr(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Wi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new xt,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(bt),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-microservice-list"]],features:[K],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,Fo,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,jo,7,3,"div",19)(24,Wo,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22)(28,"br"),r(),l(29,"p",23),m(30),g(31,"translate"),r()(),l(32,"div",20)(33,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(34,"i",24)(35,"br"),r(),l(36,"p",23),m(37),g(38,"translate"),r()(),w(39,qo,7,3,"div",19),I(),b(40,25),l(41,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(42,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(43,27),l(44,"mat-table",28,0),M("matSortChange",function(){_(d);let c=J(45);return C(t.onTableSortData(c))}),b(46,29),w(47,Qo,2,1,"mat-header-cell",30)(48,zo,2,1,"mat-cell",31),I(),b(49,32),w(50,Jo,2,1,"mat-header-cell",30)(51,Ko,4,5,"mat-cell",31),I(),b(52,33),w(53,Xo,2,1,"mat-header-cell",30)(54,Yo,4,5,"mat-cell",31),I(),b(55,34),w(56,Zo,2,1,"mat-header-cell",30)(57,$o,2,1,"mat-cell",31),I(),b(58,35),w(59,er,2,1,"mat-header-cell",30)(60,ir,5,7,"mat-cell",36),I(),b(61,37),w(62,nr,2,1,"mat-header-cell",30)(63,or,3,4,"mat-cell",31),I(),b(64,38),w(65,rr,2,1,"mat-header-cell",30)(66,ar,3,4,"mat-cell",31),I(),b(67,39),w(68,sr,2,1,"mat-header-cell",30)(69,lr,3,3,"mat-cell",31),I(),b(70,40),w(71,cr,2,1,"mat-header-cell",30)(72,dr,3,3,"mat-cell",31),I(),b(73,41),w(74,mr,2,1,"mat-header-cell",30)(75,pr,3,3,"mat-cell",31),I(),b(76,42),w(77,fr,2,1,"mat-header-cell",30)(78,ur,2,1,"mat-cell",31),I(),b(79,43),w(80,hr,2,1,"mat-header-cell",30)(81,Sr,2,1,"mat-cell",31),I(),b(82,44),w(83,_r,3,3,"mat-header-cell",45)(84,Cr,6,1,"mat-cell",46),I(),w(85,gr,1,0,"mat-header-row",47)(86,vr,1,6,"mat-row",48),r(),I(),b(87,49),l(88,"mat-paginator",50,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,25,"ACTION.SEARCH")," "),s(4),u("",v(14,27,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(6),L(v(31,29,"ACTION.SITE")),s(7),L(v(38,31,"ACTION.USER")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(41),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Go)))},dependencies:[at,N,mt,ue,he,Ie,Ee,Se,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,pt,Te,G,Xe,De,Ke,ut,ft,st],encapsulation:2});let e=a;return e})();var Tr=["vform"];function wr(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function br(e,a){if(e&1){let o=E();l(0,"div",8)(1,"button",9),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",10),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var qi=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new Ut,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenNotificationLogService=d,this.cmsToastrService=p,this.publicHelper=c,this.cdr=k,this.tokenHelper=V,this.translate=U,this.requestId="",this.dataModelResult=new D,this.dataModel=new Ut,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(ye.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(Et),S(j),S(W),S(O),S(F),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(n,t){if(n&1&&X(Tr,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),w(8,wr,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),w(13,br,5,3,"div",6),r()()),n&2&&(s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,et,lt,it,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var Ir=["vform"];function Mr(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenNotificationLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new Ut,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(Et),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(n,t){if(n&1&&X(Ir,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,Mr,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G],encapsulation:2});let e=a;return e})();var Er=()=>[5,10,20,100],Ar=e=>({display:e});function kr(e,a){if(e&1){let o=E();l(0,"a",51),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",52),r()}}function yr(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function Rr(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",55),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function xr(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",57),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function Dr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Lr(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function Ur(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Vr(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Br(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Or(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Nr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Pr(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberUserId," ")}}function Gr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Hr(e,a){if(e&1&&T(0,"select",62),e&2){let o=h().$implicit,i=h();f("contentService",i.contentService)("row",o)("ngStyle",dt(3,Ar,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Fr(e,a){if(e&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),T(2,"i",60),g(3,"statusIconClass"),w(4,Hr,1,5,"select",61),r()),e&2){let o=a.$implicit,i=h();f("ngClass",v(1,3,o.recordStatus)),s(2),f("ngClass",v(3,5,o.recordStatus)),s(2),f("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function jr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Wr(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Qr(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function zr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Jr(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Kr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Xr(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Yr(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Zr(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function $r(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function ea(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function ta(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function ia(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function na(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function oa(e,a){if(e&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function ra(e,a){e&1&&T(0,"mat-header-row")}function aa(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var zi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new Ut,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(Et),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-notificationlog-list"]],features:[K],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,kr,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,yr,7,3,"div",19)(24,Rr,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22)(28,"br"),r(),l(29,"p",23),m(30),g(31,"translate"),r()(),l(32,"div",20)(33,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(34,"i",24)(35,"br"),r(),l(36,"p",23),m(37),g(38,"translate"),r()(),w(39,xr,7,3,"div",19),I(),b(40,25),l(41,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(42,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(43,27),l(44,"mat-table",28,0),M("matSortChange",function(){_(d);let c=J(45);return C(t.onTableSortData(c))}),b(46,29),w(47,Dr,2,1,"mat-header-cell",30)(48,Lr,2,1,"mat-cell",31),I(),b(49,32),w(50,Ur,2,1,"mat-header-cell",30)(51,Vr,4,5,"mat-cell",31),I(),b(52,33),w(53,Br,2,1,"mat-header-cell",30)(54,Or,4,5,"mat-cell",31),I(),b(55,34),w(56,Nr,2,1,"mat-header-cell",30)(57,Pr,2,1,"mat-cell",31),I(),b(58,35),w(59,Gr,2,1,"mat-header-cell",30)(60,Fr,5,7,"mat-cell",36),I(),b(61,37),w(62,jr,2,1,"mat-header-cell",30)(63,Wr,3,4,"mat-cell",31),I(),b(64,38),w(65,qr,2,1,"mat-header-cell",30)(66,Qr,3,4,"mat-cell",31),I(),b(67,39),w(68,zr,2,1,"mat-header-cell",30)(69,Jr,3,3,"mat-cell",31),I(),b(70,40),w(71,Kr,2,1,"mat-header-cell",30)(72,Xr,3,3,"mat-cell",31),I(),b(73,41),w(74,Yr,2,1,"mat-header-cell",30)(75,Zr,3,3,"mat-cell",31),I(),b(76,42),w(77,$r,2,1,"mat-header-cell",30)(78,ea,2,1,"mat-cell",31),I(),b(79,43),w(80,ta,2,1,"mat-header-cell",30)(81,ia,2,1,"mat-cell",31),I(),b(82,44),w(83,na,3,3,"mat-header-cell",45)(84,oa,6,1,"mat-cell",46),I(),w(85,ra,1,0,"mat-header-row",47)(86,aa,1,6,"mat-row",48),r(),I(),b(87,49),l(88,"mat-paginator",50,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,25,"ACTION.SEARCH")," "),s(4),u("",v(14,27,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(6),L(v(31,29,"ACTION.SITE")),s(7),L(v(38,31,"ACTION.USER")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(41),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,Er)))},dependencies:[at,N,mt,ue,he,Ie,Ee,Se,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,pt,Te,G,Xe,De,Ke,ut,ft,st],encapsulation:2});let e=a;return e})();var sa=["vform"];function la(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",8),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ca(e,a){if(e&1&&(l(0,"div"),T(1,"div",9),g(2,"prettyjson"),r()),e&2){let o=h();s(),f("innerHTML",v(2,1,o.dataModel),ht)}}function da(e,a){if(e&1){let o=E();l(0,"div",10)(1,"button",11),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",12),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ji=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new Lt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenNotificationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.dataModelResult=new Ct,this.dataModel=new Lt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(ye.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(Mt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(n,t){if(n&1&&X(sa,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),w(8,la,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),w(13,ca,3,3,"div",6)(14,da,5,3,"div",7),r()()),n&2&&(s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),s(2),f("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,et,lt,it,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var ma=["vform"];function pa(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var Ki=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenNotificationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new Lt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(Mt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-notification-view"]],viewQuery:function(n,t){if(n&1&&X(ma,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,pa,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G]});let e=a;return e})();var fa=()=>[5,10,20,100],ua=e=>({display:e});function ha(e,a){if(e&1){let o=E();l(0,"a",51),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",52),r()}}function Sa(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function _a(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",55),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function Ca(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",57),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function ga(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function va(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function Ta(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function wa(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function ba(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Ia(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Ma(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ea(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberUserId," ")}}function Aa(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ka(e,a){if(e&1&&T(0,"select",62),e&2){let o=h().$implicit,i=h();f("contentService",i.contentService)("row",o)("ngStyle",dt(3,ua,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function ya(e,a){if(e&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),T(2,"i",60),g(3,"statusIconClass"),w(4,ka,1,5,"select",61),r()),e&2){let o=a.$implicit,i=h();f("ngClass",v(1,3,o.recordStatus)),s(2),f("ngClass",v(3,5,o.recordStatus)),s(2),f("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ra(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function xa(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Da(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function La(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ua(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Va(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Ba(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Oa(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Na(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Pa(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function Ga(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ha(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Fa(e,a){if(e&1&&(l(0,"mat-header-cell",59),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function ja(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function Wa(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function qa(e,a){if(e&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function Qa(e,a){e&1&&T(0,"mat-header-row")}function za(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Xi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new Lt,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(Mt),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-notification-list"]],features:[K],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,ha,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,Sa,7,3,"div",19)(24,_a,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22)(28,"br"),r(),l(29,"p",23),m(30),g(31,"translate"),r()(),l(32,"div",20)(33,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(34,"i",24)(35,"br"),r(),l(36,"p",23),m(37),g(38,"translate"),r()(),w(39,Ca,7,3,"div",19),I(),b(40,25),l(41,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(42,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(43,27),l(44,"mat-table",28,0),M("matSortChange",function(){_(d);let c=J(45);return C(t.onTableSortData(c))}),b(46,29),w(47,ga,2,1,"mat-header-cell",30)(48,va,2,1,"mat-cell",31),I(),b(49,32),w(50,Ta,2,1,"mat-header-cell",30)(51,wa,4,5,"mat-cell",31),I(),b(52,33),w(53,ba,2,1,"mat-header-cell",30)(54,Ia,4,5,"mat-cell",31),I(),b(55,34),w(56,Ma,2,1,"mat-header-cell",30)(57,Ea,2,1,"mat-cell",31),I(),b(58,35),w(59,Aa,2,1,"mat-header-cell",30)(60,ya,5,7,"mat-cell",36),I(),b(61,37),w(62,Ra,2,1,"mat-header-cell",30)(63,xa,3,4,"mat-cell",31),I(),b(64,38),w(65,Da,2,1,"mat-header-cell",30)(66,La,3,4,"mat-cell",31),I(),b(67,39),w(68,Ua,2,1,"mat-header-cell",30)(69,Va,3,3,"mat-cell",31),I(),b(70,40),w(71,Ba,2,1,"mat-header-cell",30)(72,Oa,3,3,"mat-cell",31),I(),b(73,41),w(74,Na,2,1,"mat-header-cell",30)(75,Pa,3,3,"mat-cell",31),I(),b(76,42),w(77,Ga,2,1,"mat-header-cell",30)(78,Ha,2,1,"mat-cell",31),I(),b(79,43),w(80,Fa,2,1,"mat-header-cell",30)(81,ja,2,1,"mat-cell",31),I(),b(82,44),w(83,Wa,3,3,"mat-header-cell",45)(84,qa,6,1,"mat-cell",46),I(),w(85,Qa,1,0,"mat-header-row",47)(86,za,1,6,"mat-row",48),r(),I(),b(87,49),l(88,"mat-paginator",50,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,25,"ACTION.SEARCH")," "),s(4),u("",v(14,27,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(6),L(v(31,29,"ACTION.SITE")),s(7),L(v(38,31,"ACTION.USER")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(41),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(33,fa)))},dependencies:[at,N,mt,ue,he,Ie,Ee,Se,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,pt,Te,G,Xe,De,Ke,ut,ft,st],encapsulation:2});let e=a;return e})();var Ka=["vform"];function Xa(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",38),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ya(e,a){if(e&1&&(l(0,"option",39),m(1),r()),e&2){let o=a.$implicit;f("value",o.value),s(),u(" ",o.description," ")}}function Za(e,a){e&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),g(4,"translate"),r()()),e&2&&(s(3),L(v(4,1,"MESSAGE.required")))}function $a(e,a){if(e&1&&(l(0,"option",39),m(1),r()),e&2){let o=a.$implicit;f("value",o.value),s(),u(" ",o.description," ")}}function es(e,a){e&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),r()()),e&2&&(s(3),L(v(4,1,"MESSAGE.required")))}function ts(e,a){if(e&1){let o=E();l(0,"div",40)(1,"div",41)(2,"h5",42),m(3),r()(),l(4,"div",43)(5,"div",44)(6,"input",45),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.userAccessAdminAllowToAllData,n)||(t.dataModel.userAccessAdminAllowToAllData=n),C(n)}),r(),T(7,"label",46),r()()()}if(e&2){let o=h();s(3),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),s(3),y("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function is(e,a){if(e&1){let o=E();l(0,"div",40)(1,"div",41)(2,"h5",47),m(3),r()(),l(4,"div",43)(5,"div",44)(6,"input",48),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.userAccessAdminAllowToProfessionalData,n)||(t.dataModel.userAccessAdminAllowToProfessionalData=n),C(n)}),r(),T(7,"label",49),r()()()}if(e&2){let o=h();s(3),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),s(3),y("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function ns(e,a){if(e&1){let o=E();l(0,"div",40)(1,"div",41)(2,"h5",50),m(3),r()(),l(4,"div",43)(5,"div",44)(6,"input",51),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.rememberOnDevice,n)||(t.dataModel.rememberOnDevice=n),C(n)}),r(),T(7,"label",52),r()()()}if(e&2){let o=h();s(3),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),s(3),y("ngModel",o.dataModel.rememberOnDevice)}}function os(e,a){if(e&1){let o=E();l(0,"div",23)(1,"label",53),m(2),r(),l(3,"input",54),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.tokenExpireDate,n)||(t.dataModel.tokenExpireDate=n),C(n)}),r(),T(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),r()}if(e&2){let o=J(6),i=h();s(2),L(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),s(),f("matDatepicker",o),y("ngModel",i.dataModel.tokenExpireDate),s(),f("for",o)}}function rs(e,a){if(e&1&&(l(0,"div"),T(1,"div",57),g(2,"prettyjson"),r()),e&2){let o=h();s(),f("innerHTML",v(2,1,o.dataModel),ht)}}function as(e,a){if(e&1){let o=E();l(0,"div",58)(1,"button",59),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",60),m(3),g(4,"translate"),r(),l(5,"button",61),T(6,"i",62),m(7),g(8,"translate"),r()()}if(e&2){h();let o=J(9);s(3),u(" ",v(4,3,"ACTION.CANCEL")," "),s(2),f("disabled",!o.form.valid),s(2),u(" ",v(8,5,"ACTION.SAVE")," ")}}var $i=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new kt,k,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserService=d,this.cmsToastrService=p,this.tokenHelper=c,this.publicHelper=k,this.cdr=V,this.translate=U,this.requestId="",this.dataModelResult=new Ct,this.dataModel=new kt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(ye.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorEdit(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onActionSiteSelect(i){i&&i.id>0&&(this.dataModel.linkSiteId=i.id)}onActionUserSelect(i){i&&i.id>0&&(this.dataModel.linkUserId=i.id)}onActionMemberSelect(i){i&&i.id.length>0&&(this.dataModel.linkMemberId=i.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(vt),S(j),S(F),S(W),S(O),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&X(Ka,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let d=E();l(0,"div",10),T(1,"app-progress-spinner",11),l(2,"div",12)(3,"p",13),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),l(8,"form",14,0),M("ngSubmit",function(){return _(d),C(t.onFormSubmit())}),w(10,Xa,1,5,"app-cms-enum-record-status-selector",15),l(11,"div",16)(12,"select",17,1),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),C(c)}),w(14,Ya,2,2,"option",18),r(),l(15,"em"),m(16),g(17,"translate"),r(),w(18,Za,5,3,"mat-error",19),r(),l(19,"div",16)(20,"select",20,2),x("ngModelChange",function(c){return _(d),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),w(22,$a,2,2,"option",18),r(),l(23,"em"),m(24),g(25,"translate"),r(),w(26,es,5,3,"mat-error",19),r(),l(27,"app-cms-site-selector",21),g(28,"translate"),M("optionChange",function(c){return _(d),C(t.onActionSiteSelect(c))}),r(),l(29,"app-cms-user-selector",21),g(30,"translate"),M("optionChange",function(c){return _(d),C(t.onActionUserSelect(c))}),r(),l(31,"app-cms-member-selector",21),g(32,"translate"),M("optionChange",function(c){return _(d),C(t.onActionMemberSelect(c))}),r(),w(33,ts,8,2,"div",22)(34,is,8,2,"div",22)(35,ns,8,2,"div",22),l(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),r(),l(39,"input",25,3),x("ngModelChange",function(c){return _(d),R(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),C(c)}),r()(),l(41,"div",23)(42,"label",26),m(43,"UserLanguage"),r(),l(44,"input",27,4),x("ngModelChange",function(c){return _(d),R(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),C(c)}),r()(),l(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),r(),l(49,"input",29,5),x("ngModelChange",function(c){return _(d),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),r()(),l(51,"div",23)(52,"label",30),m(53,"Token"),r(),l(54,"input",31,6),x("ngModelChange",function(c){return _(d),R(t.dataModel.token,c)||(t.dataModel.token=c),C(c)}),r()(),l(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),r(),l(59,"input",33,7),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),r()(),l(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),r(),l(64,"input",35,8),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),r()(),w(66,os,7,4,"div",36)(67,rs,3,3,"div",19)(68,as,9,7,"div",37),r()()()}if(n&2){let d=J(13),p=J(21);s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(2),y("ngModel",t.dataModel.linkMemberId),s(2),f("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),s(2),L(v(17,35,"TITLE.SELECT_STATUS")),s(2),f("ngIf",d.errors==null?null:d.errors.required),s(2),y("ngModel",t.dataModel.userAccessAreaType),s(2),f("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),s(2),L(v(25,37,"TITLE.SELECT_STATUS")),s(2),f("ngIf",p.errors==null?null:p.errors.required),s(),f("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(28,39,"TITLE.WEBSITE")),s(2),f("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(30,41,"TITLE.USER")),s(2),f("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(32,43,"TITLE.Member")),s(2),f("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),s(),f("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),s(),f("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),s(4),y("ngModel",t.dataModel.browserLanguage),s(5),y("ngModel",t.dataModel.userLanguage),s(5),y("ngModel",t.dataModel.deviceClientMAC),s(5),y("ngModel",t.dataModel.token),s(5),y("ngModel",t.dataModel.linkDeviceId),s(5),y("ngModel",t.dataModel.linkApplicationId),s(2),f("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),s(),f("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),s(),f("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[ti,N,ki,oi,ri,ii,Ci,ni,ue,Ei,he,Ai,vi,Ti,wi,ai,gi,Se,et,lt,it,si,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var ss=["vform"];function ls(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var en=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new kt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(vt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&X(ss,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,ls,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G]});let e=a;return e})();var cs=()=>[5,10,20,100],ds=e=>({display:e});function ms(e,a){if(e&1){let o=E();l(0,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",54),r()}}function ps(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",55),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function fs(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",57),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function us(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",59),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",60)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function hs(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ss(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function _s(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Cs(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function gs(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function vs(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Ts(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function ws(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberId," ")}}function bs(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Is(e,a){if(e&1&&T(0,"select",64),e&2){let o=h().$implicit,i=h();f("contentService",i.contentService)("row",o)("ngStyle",dt(3,ds,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ms(e,a){if(e&1&&(l(0,"mat-cell",62),g(1,"statusCellClass"),T(2,"i",62),g(3,"statusIconClass"),w(4,Is,1,5,"select",63),r()),e&2){let o=a.$implicit,i=h();f("ngClass",v(1,3,o.recordStatus)),s(2),f("ngClass",v(3,5,o.recordStatus)),s(2),f("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Es(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function As(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ks(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function ys(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Rs(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function xs(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",62),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Ds(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ls(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",62),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Us(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Vs(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",62),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function Bs(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Os(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Ns(e,a){if(e&1&&(l(0,"mat-header-cell",61),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function Ps(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.tokenExpireDate)," ")}}function Gs(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function Hs(e,a){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function Fs(e,a){e&1&&T(0,"mat-header-row")}function js(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var fi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new kt,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new kt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(en,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open($i,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(vt),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-user-list"]],features:[K],decls:104,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,ms,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,ps,7,3,"div",19)(24,fs,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22)(28,"br"),r(),l(29,"p",23),m(30),g(31,"translate"),r()(),l(32,"div",20)(33,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(34,"i",24)(35,"br"),r(),l(36,"p",23),m(37),g(38,"translate"),r()(),l(39,"div",20)(40,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),T(41,"i",25)(42,"br"),r(),l(43,"p",23),m(44),g(45,"translate"),r()(),l(46,"div",20)(47,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),T(48,"i",26)(49,"br"),r(),l(50,"p",23),m(51),g(52,"translate"),r()(),w(53,us,7,3,"div",19),I(),b(54,27),l(55,"app-cms-search-list",28),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(56,"app-cms-statist-list",28),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(57,29),l(58,"mat-table",30,0),M("matSortChange",function(){_(d);let c=J(59);return C(t.onTableSortData(c))}),b(60,31),w(61,hs,2,1,"mat-header-cell",32)(62,Ss,2,1,"mat-cell",33),I(),b(63,34),w(64,_s,2,1,"mat-header-cell",32)(65,Cs,4,5,"mat-cell",33),I(),b(66,35),w(67,gs,2,1,"mat-header-cell",32)(68,vs,4,5,"mat-cell",33),I(),b(69,36),w(70,Ts,2,1,"mat-header-cell",32)(71,ws,2,1,"mat-cell",33),I(),b(72,37),w(73,bs,2,1,"mat-header-cell",32)(74,Ms,5,7,"mat-cell",38),I(),b(75,39),w(76,Es,2,1,"mat-header-cell",32)(77,As,3,4,"mat-cell",33),I(),b(78,40),w(79,ks,2,1,"mat-header-cell",32)(80,ys,3,4,"mat-cell",33),I(),b(81,41),w(82,Rs,2,1,"mat-header-cell",32)(83,xs,3,3,"mat-cell",33),I(),b(84,42),w(85,Ds,2,1,"mat-header-cell",32)(86,Ls,3,3,"mat-cell",33),I(),b(87,43),w(88,Us,2,1,"mat-header-cell",32)(89,Vs,3,3,"mat-cell",33),I(),b(90,44),w(91,Bs,2,1,"mat-header-cell",32)(92,Os,2,1,"mat-cell",33),I(),b(93,45),w(94,Ns,2,1,"mat-header-cell",32)(95,Ps,2,1,"mat-cell",33),I(),b(96,46),w(97,Gs,3,3,"mat-header-cell",47)(98,Hs,6,1,"mat-cell",48),I(),w(99,Fs,1,0,"mat-header-row",49)(100,js,1,6,"mat-row",50),r(),I(),b(101,51),l(102,"mat-paginator",52,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey","report.user.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,27,"ACTION.SEARCH")," "),s(4),u("",v(14,29,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(6),L(v(31,31,"ACTION.SITE")),s(7),L(v(38,33,"ACTION.USER")),s(7),L(v(45,35,"ACTION.MEMBER")),s(7),L(v(52,37,"ACTION.DEVICE")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(41),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(39,cs)))},dependencies:[at,N,mt,ue,he,Ie,Ee,Se,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,pt,Te,G,Xe,De,Ke,ut,ft,st],encapsulation:2});let e=a;return e})();var Ws=["vform"];function qs(e,a){if(e&1&&(l(0,"option",27),m(1),r()),e&2){let o=a.$implicit;f("value",o.value),s(),u(" ",o.description," ")}}function Qs(e,a){e&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),r()()),e&2&&(s(3),L(v(4,1,"MESSAGE.required")))}function zs(e,a){if(e&1&&(l(0,"div"),T(1,"div",28),g(2,"prettyjson"),r()),e&2){let o=h();s(),f("innerHTML",v(2,1,o.dataModel),ht)}}function Js(e,a){if(e&1){let o=E();l(0,"div",29)(1,"button",30),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",31),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var tn=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new Rt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserBadLoginService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.dataModelResult=new D,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(ye.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(wt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&X(Ws,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let d=E();l(0,"div",6),T(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),l(8,"div",10)(9,"label",11),m(10,"UsedUsername"),r(),l(11,"input",12,0),x("ngModelChange",function(c){return _(d),R(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),C(c)}),r()(),l(13,"div",10)(14,"label",13),m(15,"UsedPwd"),r(),l(16,"input",14,1),x("ngModelChange",function(c){return _(d),R(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),C(c)}),r()(),l(18,"div",15)(19,"select",16,2),x("ngModelChange",function(c){return _(d),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),w(21,qs,2,2,"option",17),r(),l(22,"em"),m(23),g(24,"translate"),r(),w(25,Qs,5,3,"mat-error",18),r(),T(26,"app-cms-site-selector",19),g(27,"translate"),T(28,"app-cms-user-selector",19),g(29,"translate"),T(30,"app-cms-member-selector",19),g(31,"translate"),l(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),r(),l(35,"input",21,3),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),r()(),l(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),r(),l(40,"input",23,4),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),r()(),l(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),r(),l(45,"input",25,5),x("ngModelChange",function(c){return _(d),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),r()(),w(47,zs,3,3,"div",18)(48,Js,5,3,"div",26),r()()}if(n&2){let d=J(20);s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),s(5),y("ngModel",t.dataModel.usedUsername),s(5),y("ngModel",t.dataModel.usedPwd),s(3),y("ngModel",t.dataModel.userAccessAreaType),s(2),f("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),s(2),L(v(24,25,"TITLE.SELECT_STATUS")),s(2),f("ngIf",d.errors==null?null:d.errors.required),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(27,27,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(29,29,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(31,31,"TITLE.Member")),s(5),y("ngModel",t.dataModel.linkDeviceId),s(5),y("ngModel",t.dataModel.linkApplicationId),s(5),y("ngModel",t.dataModel.deviceClientMAC),s(2),f("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),s(),f("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[ti,N,oi,ri,ii,ni,ue,he,ai,Se,et,it,si,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var Ks=["vform"];function Xs(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var nn=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserBadLoginService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(wt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&X(Ks,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,Xs,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G]});let e=a;return e})();var Ys=()=>[5,10,20,100];function Zs(e,a){if(e&1){let o=E();l(0,"a",47),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",48),r()}}function $s(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",49),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",50)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function el(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",51),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function tl(e,a){if(e&1){let o=E();l(0,"div",20)(1,"a",53),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",23),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function il(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function nl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function ol(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function rl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function al(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function sl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function ll(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function cl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberId," ")}}function dl(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ml(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function pl(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.usedUsername==null?null:o.fieldsInfo.usedUsername.fieldTitle," ")}}function fl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.usedUsername," ")}}function ul(e,a){if(e&1&&(l(0,"mat-header-cell",55),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function hl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Sl(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function _l(e,a){if(e&1&&(l(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function Cl(e,a){e&1&&T(0,"mat-header-row")}function gl(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var ui=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce,A){if(super(n,new Rt,Ce,c,V),this.coreEnumService=i,this.contentService=n,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=p,this.tokenHelper=c,this.cdr=k,this.translate=V,this.router=U,this.pageInfo=fe,this.publicHelper=Ce,this.dialog=A,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let ct=new q;ct.propertyName="LinkCmsSiteId",ct.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ct)}if(this.requestLinkUserId>0){let ct=new q;ct.propertyName="LinkUserId",ct.value=this.requestLinkUserId,this.filteModelContent.filters.push(ct)}if(this.requestLinkDeviceId>0){let ct=new q;ct.propertyName="LinkDeviceId",ct.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(ct)}this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(nn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(tn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(z),S(wt),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-user-list"]],features:[K],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,Zs,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,$s,7,3,"div",19)(24,el,7,3,"div",19),l(25,"div",20)(26,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewSiteRow(t.tableRowSelected))}),T(27,"i",22)(28,"br"),r(),l(29,"p",23),m(30),g(31,"translate"),r()(),l(32,"div",20)(33,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewUserRow(t.tableRowSelected))}),T(34,"i",24)(35,"br"),r(),l(36,"p",23),m(37),g(38,"translate"),r()(),l(39,"div",20)(40,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewMemberRow(t.tableRowSelected))}),T(41,"i",25)(42,"br"),r(),l(43,"p",23),m(44),g(45,"translate"),r()(),l(46,"div",20)(47,"a",21),M("click",function(){return _(d),C(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),T(48,"i",26)(49,"br"),r(),l(50,"p",23),m(51),g(52,"translate"),r()(),w(53,tl,7,3,"div",19),I(),b(54,27),l(55,"app-cms-search-list",28),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(56,"app-cms-statist-list",28),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(57,29),l(58,"mat-table",30,0),M("matSortChange",function(){_(d);let c=J(59);return C(t.onTableSortData(c))}),b(60,31),w(61,il,2,1,"mat-header-cell",32)(62,nl,2,1,"mat-cell",33),I(),b(63,34),w(64,ol,2,1,"mat-header-cell",32)(65,rl,4,5,"mat-cell",33),I(),b(66,35),w(67,al,2,1,"mat-header-cell",32)(68,sl,4,5,"mat-cell",33),I(),b(69,36),w(70,ll,2,1,"mat-header-cell",32)(71,cl,2,1,"mat-cell",33),I(),b(72,37),w(73,dl,2,1,"mat-header-cell",32)(74,ml,3,4,"mat-cell",33),I(),b(75,38),w(76,pl,2,1,"mat-header-cell",32)(77,fl,2,1,"mat-cell",33),I(),b(78,39),w(79,ul,2,1,"mat-header-cell",32)(80,hl,2,1,"mat-cell",33),I(),b(81,40),w(82,Sl,3,3,"mat-header-cell",41)(83,_l,6,1,"mat-cell",42),I(),w(84,Cl,1,0,"mat-header-row",43)(85,gl,1,6,"mat-row",44),r(),I(),b(86,45),l(87,"mat-paginator",46,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,27,"ACTION.SEARCH")," "),s(4),u("",v(14,29,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(6),L(v(31,31,"ACTION.SITE")),s(7),L(v(38,33,"ACTION.USER")),s(7),L(v(45,35,"ACTION.MEMBER")),s(7),L(v(52,37,"ACTION.DEVICE")),s(2),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(26),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(39,Ys)))},dependencies:[N,ue,he,Ie,Ee,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,Te,G,Xe,De,Ke],encapsulation:2});let e=a;return e})();var vl=["vform"];function Tl(e,a){if(e&1){let o=E();l(0,"app-cms-enum-record-status-selector",36),x("modelChange",function(n){_(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),C(n)}),r()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),f("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wl(e,a){if(e&1&&(l(0,"option",37),m(1),r()),e&2){let o=a.$implicit;f("value",o.value),s(),u(" ",o.description," ")}}function bl(e,a){e&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),g(4,"translate"),r()()),e&2&&(s(3),L(v(4,1,"MESSAGE.required")))}function Il(e,a){if(e&1&&(l(0,"option",37),m(1),r()),e&2){let o=a.$implicit;f("value",o.value),s(),u(" ",o.description," ")}}function Ml(e,a){e&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),r()()),e&2&&(s(3),L(v(4,1,"MESSAGE.required")))}function El(e,a){if(e&1){let o=E();l(0,"div",38)(1,"div",39)(2,"h5",40),m(3),r()(),l(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.userAccessAdminAllowToAllData,n)||(t.dataModel.userAccessAdminAllowToAllData=n),C(n)}),r(),T(7,"label",44),r()()()}if(e&2){let o=h();s(3),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),s(3),y("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function Al(e,a){if(e&1){let o=E();l(0,"div",38)(1,"div",39)(2,"h5",45),m(3),r()(),l(4,"div",41)(5,"div",42)(6,"input",46),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.userAccessAdminAllowToProfessionalData,n)||(t.dataModel.userAccessAdminAllowToProfessionalData=n),C(n)}),r(),T(7,"label",47),r()()()}if(e&2){let o=h();s(3),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),s(3),y("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function kl(e,a){if(e&1){let o=E();l(0,"div",38)(1,"div",39)(2,"h5",48),m(3),r()(),l(4,"div",41)(5,"div",42)(6,"input",49),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.rememberOnDevice,n)||(t.dataModel.rememberOnDevice=n),C(n)}),r(),T(7,"label",50),r()()()}if(e&2){let o=h();s(3),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),s(3),y("ngModel",o.dataModel.rememberOnDevice)}}function yl(e,a){if(e&1){let o=E();l(0,"div",21)(1,"label",51),m(2),r(),l(3,"input",52),x("ngModelChange",function(n){_(o);let t=h();return R(t.dataModel.tokenExpireDate,n)||(t.dataModel.tokenExpireDate=n),C(n)}),r(),T(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),r()}if(e&2){let o=J(6),i=h();s(2),L(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),s(),f("matDatepicker",o),y("ngModel",i.dataModel.tokenExpireDate),s(),f("for",o)}}function Rl(e,a){if(e&1&&(l(0,"div"),T(1,"div",55),g(2,"prettyjson"),r()),e&2){let o=h();s(),f("innerHTML",v(2,1,o.dataModel),ht)}}function xl(e,a){if(e&1){let o=E();l(0,"div",56)(1,"button",57),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",58),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var on=(()=>{let a=class a extends nt{constructor(i,n,t,d,p,c,k,V,U){super(d,new yt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.dataModelResult=new Ct,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(ye.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(Tt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&X(vl,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},features:[K],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let d=E();l(0,"div",9),T(1,"app-progress-spinner",10),l(2,"div",11)(3,"p",12),m(4),r(),l(5,"p"),m(6),g(7,"translate"),r(),w(8,Tl,1,5,"app-cms-enum-record-status-selector",13),l(9,"div",14)(10,"select",15,0),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),C(c)}),w(12,wl,2,2,"option",16),r(),l(13,"em"),m(14),g(15,"translate"),r(),w(16,bl,5,3,"mat-error",17),r(),l(17,"div",14)(18,"select",18,1),x("ngModelChange",function(c){return _(d),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),C(c)}),w(20,Il,2,2,"option",16),r(),l(21,"em"),m(22),g(23,"translate"),r(),w(24,Ml,5,3,"mat-error",17),r(),T(25,"app-cms-site-selector",19),g(26,"translate"),T(27,"app-cms-user-selector",19),g(28,"translate"),T(29,"app-cms-member-selector",19),g(30,"translate"),w(31,El,8,2,"div",20)(32,Al,8,2,"div",20)(33,kl,8,2,"div",20),l(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),r(),l(37,"input",23,2),x("ngModelChange",function(c){return _(d),R(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),C(c)}),r()(),l(39,"div",21)(40,"label",24),m(41,"UserLanguage"),r(),l(42,"input",25,3),x("ngModelChange",function(c){return _(d),R(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),C(c)}),r()(),l(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),r(),l(47,"input",27,4),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),C(c)}),r()(),l(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),r(),l(52,"input",29,5),x("ngModelChange",function(c){return _(d),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),C(c)}),r()(),l(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),r(),l(57,"input",31,6),x("ngModelChange",function(c){return _(d),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),C(c)}),r()(),l(59,"div",21)(60,"label",32),m(61,"Token"),r(),l(62,"input",33,7),x("ngModelChange",function(c){return _(d),R(t.dataModel.token,c)||(t.dataModel.token=c),C(c)}),r()(),w(64,yl,7,4,"div",34)(65,Rl,3,3,"div",17)(66,xl,5,3,"div",35),r()()}if(n&2){let d=J(11),p=J(19);s(),f("optionsInfoAreaId",t.constructor.name),s(3),u(" ",t.formInfo.formTitle," "),s(2),u(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),f("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),s(2),y("ngModel",t.dataModel.linkMemberId),s(2),f("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),s(2),L(v(15,35,"TITLE.SELECT_STATUS")),s(2),f("ngIf",d.errors==null?null:d.errors.required),s(2),y("ngModel",t.dataModel.userAccessAreaType),s(2),f("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),s(2),L(v(23,37,"TITLE.SELECT_STATUS")),s(2),f("ngIf",p.errors==null?null:p.errors.required),s(),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",v(26,39,"TITLE.WEBSITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",v(28,41,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",v(30,43,"TITLE.Member")),s(2),f("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),s(),f("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),s(),f("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),s(4),y("ngModel",t.dataModel.browserLanguage),s(5),y("ngModel",t.dataModel.userLanguage),s(5),y("ngModel",t.dataModel.linkDeviceId),s(5),y("ngModel",t.dataModel.linkApplicationId),s(5),y("ngModel",t.dataModel.deviceClientMAC),s(5),y("ngModel",t.dataModel.token),s(2),f("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),s(),f("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),s(),f("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[ti,N,oi,ri,ii,Ci,ni,ue,he,vi,Ti,wi,ai,gi,Se,et,lt,it,si,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=a;return e})();var Dl=["vform"];function Ll(e,a){if(e&1){let o=E();l(0,"div",5)(1,"button",10),M("click",function(){_(o);let n=h();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),r()()}e&2&&(s(3),u(" ",v(4,1,"ACTION.CANCEL")," "))}var rn=(()=>{let a=class a{constructor(i,n,t,d,p,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.tokenInfo=new Ae,this.dataModelResult=new D,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(n){return new(n||a)(S(ee),S($),S(z),S(Tt),S(j),S(F),S(O),S(W),S(P))},a.\u0275cmp=B({type:a,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&X(Dl,5),n&2){let d;Y(d=Z())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),r(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),r(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),r(),l(9,"small",7),m(10),r()()(),l(11,"div",8),w(12,Ll,5,3,"div",9),r()),n&2&&(s(),u(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructor.name),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),u("",t.formInfo.formAlert," "),s(2),u("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,ie,Ze,G]});let e=a;return e})();var Ul=()=>[5,10,20,100];function Vl(e,a){if(e&1){let o=E();l(0,"a",44),M("click",function(){_(o);let n=h();return C(n.onActionBackToParent())}),T(1,"i",45),r()}}function Bl(e,a){if(e&1){let o=E();l(0,"div",46)(1,"a",47),M("click",function(){_(o);let n=h();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",48)(3,"br"),r(),l(4,"p",49),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.EDIT")))}function Ol(e,a){if(e&1){let o=E();l(0,"div",46)(1,"a",50),M("click",function(){_(o);let n=h();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",51)(3,"br"),r(),l(4,"p",49),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DELETE")))}function Nl(e,a){if(e&1){let o=E();l(0,"div",46)(1,"a",52),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewSiteRow(n.tableRowSelected))}),T(2,"i",53)(3,"br"),r(),l(4,"p",49),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.SITE")))}function Pl(e,a){if(e&1){let o=E();l(0,"div",46)(1,"a",52),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewUserRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),r(),l(4,"p",49),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.USER")))}function Gl(e,a){if(e&1){let o=E();l(0,"div",46)(1,"a",52),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewDeviceRow(n.tableRowSelected))}),T(2,"i",55)(3,"br"),r(),l(4,"p",49),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.DEVICE")))}function Hl(e,a){if(e&1){let o=E();l(0,"div",46)(1,"a",56),M("click",function(){_(o);let n=h();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",57)(3,"br"),r(),l(4,"p",49),m(5),g(6,"translate"),r()()}e&2&&(s(5),L(v(6,1,"ACTION.VIEW")))}function Fl(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function jl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.id," ")}}function Wl(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," ")}}function ql(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.description," ")}}function Ql(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function zl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Jl(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Kl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),r()),e&2){let o=a.$implicit;s(),u(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Xl(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Yl(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit;s(),u(" ",o.linkMemberUserId," ")}}function Zl(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function $l(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ec(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function tc(e,a){if(e&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ic(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function nc(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",59),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function oc(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function rc(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",59),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function ac(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function sc(e,a){if(e&1&&(l(0,"mat-cell"),T(1,"i",59),g(2,"boolclass"),r()),e&2){let o=a.$implicit;s(),f("ngClass",v(2,1,o.rememberOnDevice))}}function lc(e,a){if(e&1&&(l(0,"mat-header-cell",58),m(1),r()),e&2){let o=h();s(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function cc(e,a){if(e&1&&(l(0,"mat-cell"),m(1),r()),e&2){let o=a.$implicit,i=h();s(),u(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function dc(e,a){e&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),r()),e&2&&(s(),u(" ",v(2,1,"TITLE.OPTION")," "))}function mc(e,a){if(e&1&&(l(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),m(3,"more_vert"),r()(),T(4,"mat-menu",null,2),r()),e&2){let o=J(5);s(),f("matMenuTriggerFor",o)}}function pc(e,a){e&1&&T(0,"mat-header-row")}function fc(e,a){if(e&1){let o=E();l(0,"mat-row",11),M("click",function(){let n=_(o).$implicit,t=h();return C(t.onActionTableRowSelect(n))}),r()}if(e&2){let o=a.$implicit,i=a.dataIndex,n=h();ge("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var hi=(()=>{let a=class a extends ot{constructor(i,n,t,d,p,c,k,V,U,fe,Ce){if(super(i,new yt,fe,p,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Re,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let A=new q;A.propertyName="LinkCmsSiteId",A.value=this.requestLinkSiteId,this.filteModelContent.filters.push(A)}if(this.requestLinkUserId>0){let A=new q;A.propertyName="LinkUserId",A.value=this.requestLinkUserId,this.filteModelContent.filters.push(A)}if(this.requestLinkDeviceId>0){let A=new q;A.propertyName="LinkDeviceId",A.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(A)}this.optionsSearch.parentMethods={onSubmit:A=>this.onSubmitOptionsSearch(A)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(on,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let p=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=ke.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(n){return new(n||a)(S(Tt),S(j),S(_e),S(we),S(F),S(O),S(P),S(be),S(xe),S(W),S(Me))},a.\u0275cmp=B({type:a,selectors:[["app-coretoken-user-list"]],features:[K],decls:76,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,t){if(n&1){let d=E();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),C(c)}),M("optionOnActionButtonMemoRow",function(){return _(d),C(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(t.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),I(),oe(3,5),b(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),x("ngModelChange",function(c){return _(d),R(t.optionsSearch.data.show,c)||(t.optionsSearch.data.show=c),C(c)}),r(),m(9),g(10,"translate"),r(),l(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(d),C(t.onActionButtonStatist())}),r(),m(13),g(14,"translate"),r()(),l(15,"div",12),w(16,Vl,2,0,"a",13),l(17,"a",14),M("click",function(){return _(d),C(t.viewGuideNotice=!t.viewGuideNotice)}),T(18,"i",15),r(),l(19,"a",14),M("click",function(){return _(d),C(t.onActionButtonReload())}),T(20,"i",16),r()()(),I(),oe(21,17),b(22,18),w(23,Bl,7,3,"div",19)(24,Ol,7,3,"div",19)(25,Nl,7,3,"div",19)(26,Pl,7,3,"div",19)(27,Gl,7,3,"div",19)(28,Hl,7,3,"div",19),I(),b(29,20),l(30,"app-cms-search-list",21),x("optionsChange",function(c){return _(d),R(t.optionsSearch,c)||(t.optionsSearch=c),C(c)}),r(),l(31,"app-cms-statist-list",21),x("optionsChange",function(c){return _(d),R(t.optionsStatist,c)||(t.optionsStatist=c),C(c)}),r(),I(),b(32,22),l(33,"mat-table",23,0),M("matSortChange",function(){_(d);let c=J(34);return C(t.onTableSortData(c))}),b(35,24),w(36,Fl,2,1,"mat-header-cell",25)(37,jl,2,1,"mat-cell",26),I(),b(38,27),w(39,Wl,2,1,"mat-header-cell",25)(40,ql,2,1,"mat-cell",26),I(),b(41,28),w(42,Ql,2,1,"mat-header-cell",25)(43,zl,4,5,"mat-cell",26),I(),b(44,29),w(45,Jl,2,1,"mat-header-cell",25)(46,Kl,4,5,"mat-cell",26),I(),b(47,30),w(48,Xl,2,1,"mat-header-cell",25)(49,Yl,2,1,"mat-cell",26),I(),b(50,31),w(51,Zl,2,1,"mat-header-cell",25)(52,$l,3,4,"mat-cell",26),I(),b(53,32),w(54,ec,2,1,"mat-header-cell",25)(55,tc,3,4,"mat-cell",26),I(),b(56,33),w(57,ic,2,1,"mat-header-cell",25)(58,nc,3,3,"mat-cell",26),I(),b(59,34),w(60,oc,2,1,"mat-header-cell",25)(61,rc,3,3,"mat-cell",26),I(),b(62,35),w(63,ac,2,1,"mat-header-cell",25)(64,sc,3,3,"mat-cell",26),I(),b(65,36),w(66,lc,2,1,"mat-header-cell",25)(67,cc,2,1,"mat-cell",26),I(),b(68,37),w(69,dc,3,3,"mat-header-cell",38)(70,mc,6,1,"mat-cell",39),I(),w(71,pc,1,0,"mat-header-row",40)(72,fc,1,6,"mat-row",41),r(),I(),b(73,42),l(74,"mat-paginator",43,1),M("page",function(c){return _(d),C(t.onTablePageingData(c))}),r(),I(),r()}n&2&&(f("optionsListInfoAreaId",t.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(8),y("ngModel",t.optionsSearch.data.show),s(),u("",v(10,26,"ACTION.SEARCH")," "),s(4),u("",v(14,28,"ACTION.STATIST")," "),s(3),f("ngIf",t.requestLinkSiteId>0),s(7),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),s(),f("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),s(2),y("options",t.optionsSearch),s(),y("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(38),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,Ul)))},dependencies:[at,N,ue,he,Ie,Ee,Le,Ue,Ve,Be,Oe,Ne,Pe,He,qe,Fe,Ge,Qe,je,We,ze,Je,$e,tt,Ye,Te,G,Xe,De,Ke,st],encapsulation:2});let e=a;return e})();var uc=[{path:"",component:Ni,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Oi,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Wi,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:Hi,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Xi,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:zi,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],an=(()=>{let a=class a{};a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=_i({type:a}),a.\u0275inj=Si({imports:[Ii.forChild(uc),Ii]});let e=a;return e})();var Mp=(()=>{let a=class a{};a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=_i({type:a}),a.\u0275inj=Si({providers:[Di,z,vt,Tt,wt,gt,bt,It,Mt,Et,Li,_e],imports:[an,Mi,yi,Ri.withConfig({warnOnNgModelWithFormControl:"never"}),Ui]});let e=a;return e})();export{Mp as CoreTokenModule};
