import{a as Ie,b as Et}from"./chunk-SZNHZMFB.js";import"./chunk-UWEEQFGB.js";import"./chunk-JQBWUH5R.js";import{a as It}from"./chunk-M7RG2YAY.js";import{a as Mt}from"./chunk-CUJQBGMA.js";import{a as wt}from"./chunk-25PMRGAC.js";import"./chunk-LT5AIY2O.js";import{a as Me}from"./chunk-KDU73OUF.js";import{Bd as St,Dc as mt,Ed as we,Kd as gt,L as de,La as me,M as ce,Ma as ue,Na as Fe,O as Be,Oc as ut,P as De,Ta as Pe,Tc as ft,Uc as ht,Vb as Xe,Wa as j,Wb as Ye,Xb as Ze,Yb as $e,Zb as et,_b as tt,aa as pe,cd as Se,fc as it,gc as ot,hc as nt,ic as at,id as Ct,jc as rt,kc as st,lc as lt,mc as dt,nb as Q,nc as ct,o as ie,oc as pt,p as oe,pb as ze,s as ne,sa as Le,sb as Je,t as ae,tb as z,ud as _t,v as re,vb as _e,x as se,y as le,yb as Ke,yd as ge}from"./chunk-LVXK2MLX.js";import{b as q,c as H,q as Qe}from"./chunk-3OCNSEA2.js";import{Cd as He,Db as $,Dc as Oe,Dd as K,Eb as ee,Fb as te,Fc as We,Hd as B,Ib as N,Id as fe,Jd as he,Kb as c,La as a,Lb as T,Lc as Ue,Ma as v,Mb as m,Qb as M,Qd as Ce,Rb as I,Sb as E,Ud as je,Vb as be,Wb as Te,Yb as g,Za as F,Zb as w,ab as R,cb as p,da as Y,dq as X,eb as xe,fd as Ve,fe as k,gc as P,hd as ke,ja as L,ka as Z,kd as ye,lb as s,mb as r,nb as C,ob as A,pb as b,qb as Ae,ra as f,rb as S,sa as h,sf as D,td as Ge,ub as x,vd as J,wb as d,xc as Ne,zb as O,zc as G,zd as qe}from"./chunk-NH5FUIDQ.js";var qt=["vform"];function Ht(o,l){if(o&1){let t=S();s(0,"app-cms-enum-record-status-selector",14),E("modelChange",function(i){f(t);let e=d();return I(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),r()}if(o&2){let t=d();M("model",t.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jt(o,l){if(o&1&&(s(0,"mat-error"),c(1),s(2,"strong"),c(3),g(4,"translate"),r()()),o&2){let t=d(2);a(),m(" ",t.fieldsInfo.moduleName==null?null:t.fieldsInfo.moduleName.fieldTitle," "),a(2),T(w(4,2,"MESSAGE.required"))}}function Qt(o,l){if(o&1){let t=S();s(0,"div",15)(1,"label",16),c(2),r(),s(3,"input",17,1),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.moduleName,i)||(e.dataModel.moduleName=i),h(i)}),r(),s(5,"em"),c(6),r(),R(7,jt,5,4,"mat-error",18),r()}if(o&2){let t=N(4),n=d();a(2),T(n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle),a(),O("disabled",!(n.fieldsInfo.moduleName!=null&&n.fieldsInfo.moduleName.accessAddField)),O("placeholder",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle),M("ngModel",n.dataModel.moduleName),a(3),m("",t.value.length," / 100"),a(),p("ngIf",t.errors==null?null:t.errors.required)}}function zt(o,l){if(o&1&&(s(0,"mat-error"),c(1),s(2,"strong"),c(3),g(4,"translate"),r()()),o&2){let t=d(2);a(),m(" ",t.fieldsInfo.moduleEntityName==null?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),a(2),T(w(4,2,"MESSAGE.required"))}}function Jt(o,l){if(o&1){let t=S();s(0,"div",15)(1,"label",19),c(2),r(),s(3,"input",20,2),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.moduleEntityName,i)||(e.dataModel.moduleEntityName=i),h(i)}),r(),s(5,"em"),c(6),r(),R(7,zt,5,4,"mat-error",18),r()}if(o&2){let t=N(4),n=d();a(2),T(n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle),a(),O("disabled",!(n.fieldsInfo.moduleEntityName!=null&&n.fieldsInfo.moduleEntityName.accessAddField)),O("placeholder",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle),M("ngModel",n.dataModel.moduleEntityName),a(3),m("",t.value.length," / 100"),a(),p("ngIf",t.errors==null?null:t.errors.required)}}function Kt(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",23),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",26),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessDeleteRow,i)||(e.dataModel.accessDeleteRow=i),h(i)}),r(),C(7,"label",27),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessDeleteRow==null?null:t.fieldsInfo.accessDeleteRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessDeleteRow)}}function Xt(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",28),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",29),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessWatchRow,i)||(e.dataModel.accessWatchRow=i),h(i)}),r(),C(7,"label",30),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessWatchRow==null?null:t.fieldsInfo.accessWatchRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessWatchRow)}}function Yt(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",31),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",32),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessCountRow,i)||(e.dataModel.accessCountRow=i),h(i)}),r(),C(7,"label",33),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessCountRow==null?null:t.fieldsInfo.accessCountRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessCountRow)}}function Zt(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",34),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",35),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessEditRow,i)||(e.dataModel.accessEditRow=i),h(i)}),r(),C(7,"label",36),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessEditRow==null?null:t.fieldsInfo.accessEditRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessEditRow)}}function $t(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",37),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",38),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessAddRow,i)||(e.dataModel.accessAddRow=i),h(i)}),r(),C(7,"label",39),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessAddRow==null?null:t.fieldsInfo.accessAddRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessAddRow)}}function ei(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",40),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",41),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessExportFile,i)||(e.dataModel.accessExportFile=i),h(i)}),r(),C(7,"label",42),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessExportFile==null?null:t.fieldsInfo.accessExportFile.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessExportFile)}}function ti(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",43),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",44),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessWatchRowOtherSiteId,i)||(e.dataModel.accessWatchRowOtherSiteId=i),h(i)}),r(),C(7,"label",45),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessWatchRowOtherSiteId==null?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessWatchRowOtherSiteId)}}function ii(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",46),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",47),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessWatchRowOtherCreatedBy,i)||(e.dataModel.accessWatchRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",48),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessWatchRowOtherCreatedBy==null?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)}}function oi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",49),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",50),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessCountRowOtherSiteId,i)||(e.dataModel.accessCountRowOtherSiteId=i),h(i)}),r(),C(7,"label",51),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessCountRowOtherSiteId==null?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessCountRowOtherSiteId)}}function ni(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",52),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",53),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessCountRowOtherCreatedBy,i)||(e.dataModel.accessCountRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",54),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessCountRowOtherCreatedBy==null?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessCountRowOtherCreatedBy)}}function ai(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",55),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",56),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessEditRowOtherSiteId,i)||(e.dataModel.accessEditRowOtherSiteId=i),h(i)}),r(),C(7,"label",57),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessEditRowOtherSiteId==null?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessEditRowOtherSiteId)}}function ri(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",58),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",59),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessEditRowOtherCreatedBy,i)||(e.dataModel.accessEditRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",60),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessEditRowOtherCreatedBy==null?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessEditRowOtherCreatedBy)}}function si(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",61),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",62),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessDeleteRowOtherCreatedBy,i)||(e.dataModel.accessDeleteRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",63),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessDeleteRowOtherCreatedBy==null?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)}}function li(o,l){if(o&1){let t=S();s(0,"div",64)(1,"button",65),x("click",function(){f(t);let i=d();return h(i.onFormCancel())}),C(2,"i",66),c(3),g(4,"translate"),r(),s(5,"button",67),C(6,"i",68),c(7),g(8,"translate"),r()()}if(o&2){d();let t=N(9);a(3),m(" ",w(4,3,"ACTION.CANCEL")," "),a(2),p("disabled",!t.form.valid),a(2),m(" ",w(8,5,"ACTION.SAVE")," ")}}var Nt=(()=>{let l=class l extends wt{constructor(n,i,e,u,y,_,W,V){super(u,new D,_,V),this.data=n,this.dialogRef=i,this.coreEnumService=e,this.coreUserSupportAccessService=u,this.cmsToastrService=y,this.publicHelper=_,this.cdr=W,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.appLanguage="fa",this.dataModelResult=new K,this.dataModel=new D,this.formInfo=new he,this.dataModelEnumManageUserAccessUserTypesResult=new K,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),n&&(this.dataModel.linkSiteId=+n.linkSiteId||0,this.dataModel.linkUserId=+n.linkUserId||0,this.dataModel.moduleName=n.moduleName,this.dataModel.moduleEntityName=n.moduleEntityName)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(n=>{this.formInfo.formTitle=n}),this.getEnumManageUserAccessUserTypes(),this.DataGetAccess()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:n=>{this.dataModelEnumManageUserAccessUserTypesResult=n}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(n,i,this.constructorInfoAreaId)}),this.coreUserSupportAccessService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(n)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorModuleEntitySelect(n){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",n&&n.id>0&&(this.dataModel.moduleName=n.moduleName,this.dataModel.moduleEntityName=n.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(i){return new(i||l)(v(ue),v(me),v(Ce),v(k),v(Q),v(z),v(P),v(q))},l.\u0275cmp=L({type:l,selectors:[["app-core-user-support-access-add"]],viewQuery:function(i,e){if(i&1&&$(qt,5),i&2){let u;ee(u=te())&&(e.formGroup=u.first)}},features:[F],decls:34,vars:36,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessDeleteRow",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessDeleteRow","name","dataModel.accessDeleteRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRow","name","dataModel.accessWatchRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRow","name","dataModel.accessCountRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRow","name","dataModel.accessEditRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAddRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAddRow","name","dataModel.accessAddRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAddRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessExportFile",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessExportFile","name","dataModel.accessExportFile",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessExportFile",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherSiteId","name","dataModel.accessWatchRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherCreatedBy","name","dataModel.accessWatchRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherSiteId","name","dataModel.accessCountRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherCreatedBy","name","dataModel.accessCountRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherSiteId","name","dataModel.accessEditRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherCreatedBy","name","dataModel.accessEditRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessDeleteRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessDeleteRowOtherCreatedBy","name","dataModel.accessDeleteRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRowOtherCreatedBy",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let u=S();s(0,"div",3),C(1,"app-progress-spinner",4),s(2,"div",5)(3,"p",6),c(4),r(),s(5,"p"),c(6),g(7,"translate"),r(),s(8,"form",7,0),x("ngSubmit",function(){return f(u),h(e.onFormSubmit())}),R(10,Ht,1,5,"app-cms-enum-record-status-selector",8),C(11,"app-cms-site-selector",9),g(12,"translate"),C(13,"app-cms-user-selector",9),g(14,"translate"),s(15,"app-core-module-entity-selector",10),g(16,"translate"),x("optionChange",function(_){return f(u),h(e.onActionSelectorModuleEntitySelect(_))}),r(),R(17,Qt,8,6,"div",11)(18,Jt,8,6,"div",11),C(19,"hr"),R(20,Kt,8,2,"div",12)(21,Xt,8,2,"div",12)(22,Yt,8,2,"div",12)(23,Zt,8,2,"div",12)(24,$t,8,2,"div",12)(25,ei,8,2,"div",12)(26,ti,8,2,"div",12)(27,ii,8,2,"div",12)(28,oi,8,2,"div",12)(29,ni,8,2,"div",12)(30,ai,8,2,"div",12)(31,ri,8,2,"div",12)(32,si,8,2,"div",12)(33,li,9,7,"div",13),r()()()}i&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),m(" ",e.formInfo.formTitle," "),a(2),m(" ",w(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!(e.fieldsInfo.moduleName!=null&&e.fieldsInfo.moduleName.accessAddField))("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",w(12,30,"TITLE.WEBSITE")),a(2),p("optionDisabled",!(e.fieldsInfo.moduleName!=null&&e.fieldsInfo.moduleName.accessAddField))("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",w(14,32,"TITLE.USER")),a(2),p("optionDisabled",!(e.fieldsInfo.moduleName!=null&&e.fieldsInfo.moduleName.accessAddField))("optionPlaceholder",w(16,34,"TITLE.MODULE")),a(2),p("ngIf",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.accessWatchField),a(),p("ngIf",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.accessWatchField),a(2),p("ngIf",e.fieldsInfo.accessDeleteRow==null?null:e.fieldsInfo.accessDeleteRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessWatchRow==null?null:e.fieldsInfo.accessWatchRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessCountRow==null?null:e.fieldsInfo.accessCountRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessEditRow==null?null:e.fieldsInfo.accessEditRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessAddRow==null?null:e.fieldsInfo.accessAddRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessExportFile==null?null:e.fieldsInfo.accessExportFile.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessWatchRowOtherSiteId==null?null:e.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessWatchRowOtherCreatedBy==null?null:e.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessCountRowOtherSiteId==null?null:e.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessCountRowOtherCreatedBy==null?null:e.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessEditRowOtherSiteId==null?null:e.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessEditRowOtherCreatedBy==null?null:e.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessDeleteRowOtherCreatedBy==null?null:e.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,le,oe,ie,ne,ae,de,ce,se,re,pe,j,ge,Se,we,_e,Ie,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=l;return o})();var di=["vform"];function ci(o,l){if(o&1){let t=S();s(0,"app-cms-enum-record-status-selector",14),E("modelChange",function(i){f(t);let e=d();return I(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),r()}if(o&2){let t=d();M("model",t.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pi(o,l){if(o&1&&(s(0,"mat-error"),c(1),s(2,"strong"),c(3),g(4,"translate"),r()()),o&2){let t=d(2);a(),m(" ",t.fieldsInfo.moduleName==null?null:t.fieldsInfo.moduleName.fieldTitle," "),a(2),T(w(4,2,"MESSAGE.required"))}}function mi(o,l){if(o&1){let t=S();s(0,"div",15)(1,"label",16),c(2),r(),s(3,"input",17,1),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.moduleName,i)||(e.dataModel.moduleName=i),h(i)}),r(),s(5,"em"),c(6),r(),R(7,pi,5,4,"mat-error",18),r()}if(o&2){let t=N(4),n=d();a(2),T(n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle),a(),O("disabled",!(n.fieldsInfo.moduleName!=null&&n.fieldsInfo.moduleName.accessEditField)),O("placeholder",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle),M("ngModel",n.dataModel.moduleName),a(3),m("",t.value.length," / 100"),a(),p("ngIf",t.errors==null?null:t.errors.required)}}function ui(o,l){if(o&1&&(s(0,"mat-error"),c(1),s(2,"strong"),c(3),g(4,"translate"),r()()),o&2){let t=d(2);a(),m(" ",t.fieldsInfo.moduleEntityName==null?null:t.fieldsInfo.moduleEntityName.fieldTitle," "),a(2),T(w(4,2,"MESSAGE.required"))}}function fi(o,l){if(o&1){let t=S();s(0,"div",15)(1,"label",19),c(2),r(),s(3,"input",20,2),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.moduleEntityName,i)||(e.dataModel.moduleEntityName=i),h(i)}),r(),s(5,"em"),c(6),r(),R(7,ui,5,4,"mat-error",18),r()}if(o&2){let t=N(4),n=d();a(2),T(n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle),a(),O("disabled",!(n.fieldsInfo.moduleEntityName!=null&&n.fieldsInfo.moduleEntityName.accessEditField)),O("placeholder",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle),M("ngModel",n.dataModel.moduleEntityName),a(3),m("",t.value.length," / 100"),a(),p("ngIf",t.errors==null?null:t.errors.required)}}function hi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",23),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",26),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessDeleteRow,i)||(e.dataModel.accessDeleteRow=i),h(i)}),r(),C(7,"label",27),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessDeleteRow==null?null:t.fieldsInfo.accessDeleteRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessDeleteRow)}}function Ci(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",28),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",29),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessWatchRow,i)||(e.dataModel.accessWatchRow=i),h(i)}),r(),C(7,"label",30),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessWatchRow==null?null:t.fieldsInfo.accessWatchRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessWatchRow)}}function _i(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",31),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",32),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessCountRow,i)||(e.dataModel.accessCountRow=i),h(i)}),r(),C(7,"label",33),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessCountRow==null?null:t.fieldsInfo.accessCountRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessCountRow)}}function Si(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",34),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",35),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessEditRow,i)||(e.dataModel.accessEditRow=i),h(i)}),r(),C(7,"label",36),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessEditRow==null?null:t.fieldsInfo.accessEditRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessEditRow)}}function gi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",37),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",38),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessAddRow,i)||(e.dataModel.accessAddRow=i),h(i)}),r(),C(7,"label",39),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessAddRow==null?null:t.fieldsInfo.accessAddRow.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessAddRow)}}function wi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",40),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",41),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessExportFile,i)||(e.dataModel.accessExportFile=i),h(i)}),r(),C(7,"label",42),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessExportFile==null?null:t.fieldsInfo.accessExportFile.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessExportFile)}}function Mi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",43),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",44),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessWatchRowOtherSiteId,i)||(e.dataModel.accessWatchRowOtherSiteId=i),h(i)}),r(),C(7,"label",45),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessWatchRowOtherSiteId==null?null:t.fieldsInfo.accessWatchRowOtherSiteId.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessWatchRowOtherSiteId)}}function Ii(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",46),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",47),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessWatchRowOtherCreatedBy,i)||(e.dataModel.accessWatchRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",48),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessWatchRowOtherCreatedBy==null?null:t.fieldsInfo.accessWatchRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessWatchRowOtherCreatedBy)}}function Ei(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",49),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",50),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessCountRowOtherSiteId,i)||(e.dataModel.accessCountRowOtherSiteId=i),h(i)}),r(),C(7,"label",51),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessCountRowOtherSiteId==null?null:t.fieldsInfo.accessCountRowOtherSiteId.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessCountRowOtherSiteId)}}function yi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",52),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",53),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessCountRowOtherCreatedBy,i)||(e.dataModel.accessCountRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",54),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessCountRowOtherCreatedBy==null?null:t.fieldsInfo.accessCountRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessCountRowOtherCreatedBy)}}function vi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",55),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",56),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessEditRowOtherSiteId,i)||(e.dataModel.accessEditRowOtherSiteId=i),h(i)}),r(),C(7,"label",57),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessEditRowOtherSiteId==null?null:t.fieldsInfo.accessEditRowOtherSiteId.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessEditRowOtherSiteId)}}function Ri(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",58),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",59),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessEditRowOtherCreatedBy,i)||(e.dataModel.accessEditRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",60),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessEditRowOtherCreatedBy==null?null:t.fieldsInfo.accessEditRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessEditRowOtherCreatedBy)}}function xi(o,l){if(o&1){let t=S();s(0,"div",21)(1,"div",22)(2,"h5",61),c(3),r()(),s(4,"div",24)(5,"div",25)(6,"input",62),E("ngModelChange",function(i){f(t);let e=d();return I(e.dataModel.accessDeleteRowOtherCreatedBy,i)||(e.dataModel.accessDeleteRowOtherCreatedBy=i),h(i)}),r(),C(7,"label",63),r()()()}if(o&2){let t=d();a(3),m(" ",t.fieldsInfo.accessDeleteRowOtherCreatedBy==null?null:t.fieldsInfo.accessDeleteRowOtherCreatedBy.fieldTitle,""),a(3),M("ngModel",t.dataModel.accessDeleteRowOtherCreatedBy)}}function Ai(o,l){if(o&1){let t=S();s(0,"div",64)(1,"button",65),x("click",function(){f(t);let i=d();return h(i.onFormCancel())}),C(2,"i",66),c(3),g(4,"translate"),r(),s(5,"button",67),C(6,"i",68),c(7),g(8,"translate"),r()()}if(o&2){d();let t=N(9);a(3),m(" ",w(4,3,"ACTION.CANCEL")," "),a(2),p("disabled",!t.form.valid),a(2),m(" ",w(8,5,"ACTION.SAVE")," ")}}var Ot=(()=>{let l=class l extends Mt{constructor(n,i,e,u,y,_,W,V){super(u,new D,_,V),this.data=n,this.dialogRef=i,this.coreEnumService=e,this.coreUserSupportAccessService=u,this.cmsToastrService=y,this.publicHelper=_,this.cdr=W,this.translate=V,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestModuleName="",this.requestModuleEntityName="",this.constructorInfoAreaId=this.constructor.name,this.appLanguage="fa",this.dataModelResult=new He,this.dataModel=new D,this.formInfo=new he,this.dataModelEnumManageUserAccessUserTypesResult=new K,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestLinkSiteId=+n.linkSiteId||0,this.requestLinkUserId=+n.linkUserId||0,this.requestModuleName=n.moduleName,this.requestModuleEntityName=n.moduleEntityName),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestLinkSiteId>0&&this.requestLinkUserId>0&&this.requestModuleName&&this.requestModuleName.length>0&&this.requestModuleEntityName&&this.requestModuleEntityName.length>0)this.translate.get("TITLE.Edit").subscribe(n=>{this.formInfo.formTitle=n}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:n=>{this.dataModelEnumManageUserAccessUserTypesResult=n}})}DataGetOneContent(){if(this.requestLinkSiteId<=0||this.requestLinkUserId<=0||!this.requestModuleName||this.requestModuleName.length==0||!this.requestModuleEntityName||this.requestModuleEntityName.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(u=>{this.formInfo.formAlert=u}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(n,u,this.constructorInfoAreaId)});let i=new fe,e=new B;e.propertyName="LinkSiteId",e.value=this.requestLinkSiteId,i.filters.push(e),e=new B,e.propertyName="LinkUserId",e.value=this.requestLinkUserId,i.filters.push(e),e=new B,e.propertyName="ModuleName",e.value=this.requestModuleName,i.filters.push(e),e=new B,e.propertyName="ModuleEntityName",e.value=this.requestModuleEntityName,i.filters.push(e),this.coreUserSupportAccessService.setAccessLoad(),this.coreUserSupportAccessService.setAccessDataType(qe.Editor),this.coreUserSupportAccessService.ServiceGetAll(i).subscribe({next:u=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(u.access),u.isSuccess?u.listItems&&u.listItems.length>0?(this.dataModel=u.listItems[0],this.formInfo.formAlert=""):this.cmsToastrService.typeError(this.translate.instant("MESSAGE.Module_not_found_for_editing")):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(y=>{this.formInfo.formAlert=y}),this.formInfo.formError=u.errorMessage,this.cmsToastrService.typeErrorMessage(u.errorMessage)),this.publicHelper.processService.processStop(n)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(n,i,this.constructorInfoAreaId)}),this.coreUserSupportAccessService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(n)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorModuleEntitySelect(n){this.dataModel.moduleName="",this.dataModel.moduleEntityName="",n&&n.id>0&&(this.dataModel.moduleName=n.moduleName,this.dataModel.moduleEntityName=n.moduleEntityName)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(i){return new(i||l)(v(ue),v(me),v(Ce),v(k),v(Q),v(z),v(P),v(q))},l.\u0275cmp=L({type:l,selectors:[["app-core-user-support-access-edit"]],viewQuery:function(i,e){if(i&1&&$(di,5),i&2){let u;ee(u=te())&&(e.formGroup=u.first)}},features:[F],decls:33,vars:36,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","minlength","3","maxlength","100","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessDeleteRow",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessDeleteRow","name","dataModel.accessDeleteRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRow","name","dataModel.accessWatchRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRow","name","dataModel.accessCountRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRow","name","dataModel.accessEditRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAddRow",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAddRow","name","dataModel.accessAddRow",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAddRow",1,"custom-control-label"],["data-trigger-switch","dataModel.accessExportFile",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessExportFile","name","dataModel.accessExportFile",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessExportFile",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherSiteId","name","dataModel.accessWatchRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherCreatedBy","name","dataModel.accessWatchRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherSiteId","name","dataModel.accessCountRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessCountRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessCountRowOtherCreatedBy","name","dataModel.accessCountRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessCountRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherSiteId",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherSiteId","name","dataModel.accessEditRowOtherSiteId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherSiteId",1,"custom-control-label"],["data-trigger-switch","dataModel.accessEditRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessEditRowOtherCreatedBy","name","dataModel.accessEditRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessEditRowOtherCreatedBy",1,"custom-control-label"],["data-trigger-switch","dataModel.accessDeleteRowOtherCreatedBy",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessDeleteRowOtherCreatedBy","name","dataModel.accessDeleteRowOtherCreatedBy",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessDeleteRowOtherCreatedBy",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let u=S();s(0,"div",3),C(1,"app-progress-spinner",4),s(2,"div",5)(3,"p",6),c(4),r(),s(5,"p"),c(6),g(7,"translate"),r(),s(8,"form",7,0),x("ngSubmit",function(){return f(u),h(e.onFormSubmit())}),R(10,ci,1,5,"app-cms-enum-record-status-selector",8),C(11,"app-cms-site-selector",9),g(12,"translate"),C(13,"app-cms-user-selector",9),g(14,"translate"),s(15,"app-core-module-entity-selector",10),g(16,"translate"),x("optionChange",function(_){return f(u),h(e.onActionSelectorModuleEntitySelect(_))}),r(),R(17,mi,8,6,"div",11)(18,fi,8,6,"div",11)(19,hi,8,2,"div",12)(20,Ci,8,2,"div",12)(21,_i,8,2,"div",12)(22,Si,8,2,"div",12)(23,gi,8,2,"div",12)(24,wi,8,2,"div",12)(25,Mi,8,2,"div",12)(26,Ii,8,2,"div",12)(27,Ei,8,2,"div",12)(28,yi,8,2,"div",12)(29,vi,8,2,"div",12)(30,Ri,8,2,"div",12)(31,xi,8,2,"div",12)(32,Ai,9,7,"div",13),r()()()}i&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),m(" ",e.formInfo.formTitle," "),a(2),m(" ",w(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!(e.fieldsInfo.moduleName!=null&&e.fieldsInfo.moduleName.accessEditField))("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",w(12,30,"TITLE.WEBSITE")),a(2),p("optionDisabled",!(e.fieldsInfo.moduleName!=null&&e.fieldsInfo.moduleName.accessEditField))("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",w(14,32,"TITLE.USER")),a(2),p("optionDisabled",!(e.fieldsInfo.moduleName!=null&&e.fieldsInfo.moduleName.accessEditField))("optionPlaceholder",w(16,34,"TITLE.MODULE")),a(2),p("ngIf",e.fieldsInfo.moduleName==null?null:e.fieldsInfo.moduleName.accessWatchField),a(),p("ngIf",e.fieldsInfo.moduleEntityName==null?null:e.fieldsInfo.moduleEntityName.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessDeleteRow==null?null:e.fieldsInfo.accessDeleteRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessWatchRow==null?null:e.fieldsInfo.accessWatchRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessCountRow==null?null:e.fieldsInfo.accessCountRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessEditRow==null?null:e.fieldsInfo.accessEditRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessAddRow==null?null:e.fieldsInfo.accessAddRow.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessExportFile==null?null:e.fieldsInfo.accessExportFile.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessWatchRowOtherSiteId==null?null:e.fieldsInfo.accessWatchRowOtherSiteId.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessWatchRowOtherCreatedBy==null?null:e.fieldsInfo.accessWatchRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessCountRowOtherSiteId==null?null:e.fieldsInfo.accessCountRowOtherSiteId.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessCountRowOtherCreatedBy==null?null:e.fieldsInfo.accessCountRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessEditRowOtherSiteId==null?null:e.fieldsInfo.accessEditRowOtherSiteId.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessEditRowOtherCreatedBy==null?null:e.fieldsInfo.accessEditRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.fieldsInfo.accessDeleteRowOtherCreatedBy==null?null:e.fieldsInfo.accessDeleteRowOtherCreatedBy.accessWatchField),a(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,le,oe,ie,ne,ae,de,ce,se,re,pe,j,ge,Se,we,_e,Ie,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=l;return o})();var bi=()=>[5,10,20,100],Ti=o=>({display:o});function Ni(o,l){if(o&1){let t=S();s(0,"div",17)(1,"a",45),x("click",function(){f(t);let i=d();return h(i.onActionButtonNewRow())}),C(2,"i",46)(3,"br"),r(),s(4,"p",20),c(5),g(6,"translate"),r()()}o&2&&(a(5),T(w(6,1,"ACTION.ADD")))}function Oi(o,l){if(o&1){let t=S();s(0,"div",17)(1,"a",47),x("click",function(){f(t);let i=d();return h(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",48)(3,"br"),r(),s(4,"p",20),c(5),g(6,"translate"),r()()}o&2&&(a(5),T(w(6,1,"ACTION.EDIT")))}function Wi(o,l){if(o&1){let t=S();s(0,"div",17)(1,"a",49),x("click",function(){f(t);let i=d();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",50)(3,"br"),r(),s(4,"p",20),c(5),g(6,"translate"),r()()}o&2&&(a(5),T(w(6,1,"ACTION.DELETE")))}function Ui(o,l){if(o&1&&(s(0,"mat-header-cell",51),c(1),r()),o&2){let t=d();a(),m(" ",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Bi(o,l){if(o&1&&C(0,"select",54),o&2){let t=d().$implicit,n=d();p("contentService",n.contentService)("row",t)("ngStyle",Te(3,Ti,t.linkSiteId===(n.tableRowSelected==null?null:n.tableRowSelected.linkSiteId)&&t.linkUserId===(n.tableRowSelected==null?null:n.tableRowSelected.linkUserId)?"":"none"))}}function Di(o,l){if(o&1&&(s(0,"mat-cell",52),g(1,"statusCellClass"),C(2,"i",52),g(3,"statusIconClass"),R(4,Bi,1,5,"select",53),r()),o&2){let t=l.$implicit,n=d();p("ngClass",w(1,3,t.recordStatus)),a(2),p("ngClass",w(3,5,t.recordStatus)),a(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function Vi(o,l){if(o&1&&(s(0,"mat-header-cell",51),c(1),r()),o&2){let t=d();a(),m(" ",t.fieldsInfo.linkSiteId==null?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ki(o,l){if(o&1&&(s(0,"mat-cell"),c(1),g(2,"cmssiteinfo"),g(3,"async"),r()),o&2){let t=l.$implicit;a(),m(" ",w(3,3,w(2,1,t.linkSiteId))," ")}}function Li(o,l){if(o&1&&(s(0,"mat-header-cell",51),c(1),r()),o&2){let t=d();a(),m(" ",t.fieldsInfo.linkUserId==null?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Fi(o,l){if(o&1&&(s(0,"mat-cell"),c(1),g(2,"cmsuserinfo"),g(3,"async"),r()),o&2){let t=l.$implicit;a(),m(" ",w(3,3,w(2,1,t.linkUserId))," ")}}function Pi(o,l){if(o&1&&(s(0,"mat-header-cell",51),c(1),r()),o&2){let t=d();a(),m(" ",t.fieldsInfo.moduleName==null?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Gi(o,l){if(o&1&&(s(0,"mat-cell"),c(1),r()),o&2){let t=l.$implicit;a(),m(" ",t.moduleName," ")}}function qi(o,l){if(o&1&&(s(0,"mat-header-cell",51),c(1),r()),o&2){let t=d();a(),m(" ",t.fieldsInfo.moduleEntityName==null?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Hi(o,l){if(o&1&&(s(0,"mat-cell"),c(1),r()),o&2){let t=l.$implicit;a(),m(" ",t.moduleEntityName," ")}}function ji(o,l){o&1&&(s(0,"mat-header-cell",51),c(1),g(2,"translate"),r()),o&2&&(a(),m(" ",w(2,1,"TITLE.Access_Add_Row")," "))}function Qi(o,l){if(o&1&&(s(0,"mat-cell"),C(1,"i",52),g(2,"boolclass"),r()),o&2){let t=l.$implicit;a(),p("ngClass",w(2,1,t.accessAddRow))}}function zi(o,l){if(o&1&&(s(0,"mat-header-cell",51),c(1),r()),o&2){let t=d();a(),m(" ",t.fieldsInfo.accessWatchRow==null?null:t.fieldsInfo.accessWatchRow.fieldTitle," ")}}function Ji(o,l){if(o&1&&(s(0,"mat-cell"),C(1,"i",52),g(2,"boolclass"),r()),o&2){let t=l.$implicit;a(),p("ngClass",w(2,1,t.accessWatchRow))}}function Ki(o,l){o&1&&(s(0,"mat-header-cell",51),c(1),g(2,"translate"),r()),o&2&&(a(),m(" ",w(2,1,"TITLE.Access_Edit_Row")," "))}function Xi(o,l){if(o&1&&(s(0,"mat-cell"),C(1,"i",52),g(2,"boolclass"),r()),o&2){let t=l.$implicit;a(),p("ngClass",w(2,1,t.accessEditRow))}}function Yi(o,l){o&1&&(s(0,"mat-header-cell",51),c(1),g(2,"translate"),r()),o&2&&(a(),m(" ",w(2,1,"TITLE.Access_Delete_Row")," "))}function Zi(o,l){if(o&1&&(s(0,"mat-cell"),C(1,"i",52),g(2,"boolclass"),r()),o&2){let t=l.$implicit;a(),p("ngClass",w(2,1,t.accessDeleteRow))}}function $i(o,l){o&1&&(s(0,"mat-header-cell",51),c(1),g(2,"translate"),r()),o&2&&(a(),m(" ",w(2,1,"TITLE.Access_Count_Row")," "))}function eo(o,l){if(o&1&&(s(0,"mat-cell"),C(1,"i",52),g(2,"boolclass"),r()),o&2){let t=l.$implicit;a(),p("ngClass",w(2,1,t.accessCountRow))}}function to(o,l){o&1&&(s(0,"mat-header-cell"),c(1),g(2,"translate"),r()),o&2&&(a(),m(" ",w(2,1,"TITLE.OPTION")," "))}function io(o,l){if(o&1&&(s(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),r()(),C(4,"mat-menu",null,2),r()),o&2){let t=N(5);a(),p("matMenuTriggerFor",t)}}function oo(o,l){o&1&&C(0,"mat-header-row")}function no(o,l){if(o&1){let t=S();s(0,"mat-row",57),x("click",function(){let i=f(t).$implicit,e=d();return h(e.onActionTableRowSelect(i))}),r()}if(o&2){let t=l.$implicit,n=l.dataIndex,i=d();xe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.linkSiteId===(i.tableRowSelected==null?null:i.tableRowSelected.linkSiteId)&&t.linkUserId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserId))}}var ve=(()=>{let l=class l extends It{constructor(n,i,e,u,y,_,W,V,Ut,Re,Bt){if(super(n,new D,Re,y,V),this.contentService=n,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.router=u,this.tokenHelper=y,this.activatedRoute=_,this.cdr=W,this.translate=V,this.pageInfo=Ut,this.publicHelper=Re,this.dialog=Bt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestModuleName="",this.requestModuleEntityName="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","LinkUserId","LinkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow"],this.tabledisplayedColumnsMobileSource=["RecordStatus","LinkUserId","LinkSiteId","ModuleName","ModuleEntityName","AccessAddRow","AccessWatchRow","AccessEditRow","AccessDeleteRow","AccessCountRow"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestModuleName=this.activatedRoute.snapshot.paramMap.get("ModuleName"),this.requestModuleEntityName=this.activatedRoute.snapshot.paramMap.get("ModuleEntityName"),this.optionsSearch.parentMethods={onSubmit:U=>this.onSubmitOptionsSearch(U)},this.filteModelContent.sortColumn="LinkSiteId",this.filteModelContent.sortType=J.Descending,this.requestLinkSiteId>0){let U=new B;U.propertyName="LinkSiteId",U.value=this.requestLinkSiteId,this.filteModelContent.filters.push(U)}if(this.requestLinkUserId>0){let U=new B;U.propertyName="LinkUserId",U.value=this.requestLinkUserId,this.filteModelContent.filters.push(U)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new D);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=J.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=J.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=J.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Nt,{height:"90%",panelClass:n,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkSiteId:this.requestLinkSiteId,linkUserId:this.requestLinkUserId,moduleName:this.requestModuleName,moduleEntityName:this.requestModuleEntityName}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.linkSiteId||n.linkSiteId===0||!n.linkUserId||n.linkUserId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ot,{height:"90%",panelClass:i,enterAnimationDuration:X.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:X.cmsViewConfig.exitAnimationDuration,data:{linkSiteId:this.tableRowSelected.linkSiteId,linkUserId:this.tableRowSelected.linkUserId,moduleName:this.tableRowSelected.moduleName,moduleEntityName:this.tableRowSelected.moduleEntityName}}).afterClosed().subscribe(u=>{u&&u.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.linkSiteId||n.linkSiteId===0||!n.linkUserId||n.linkUserId===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(u=>{this.cmsToastrService.typeErrorSelected(u)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(u=>{i=u["MESSAGE.Please_Confirm"],e=u["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.linkSiteId+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(u=>{if(u){let y=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(_=>{this.publicHelper.processService.processStart(y,_,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:_=>{_.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(y)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(y,!1)}})}}).catch(()=>{})}onActionButtonUserList(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(n),this.router.navigate(["/core/site/userlist/LinkUserSupportAccessId/",this.tableRowSelected.id])}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(_=>{i.set(_,0)}),this.translate.get("MESSAGE.All").subscribe(_=>{i.set(_,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(_=>{this.publicHelper.processService.processStart(e,_,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:_=>{_.isSuccess?(this.translate.get("MESSAGE.All").subscribe(W=>{i.set(W,_.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(e)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(e,!1)}});let u=JSON.parse(JSON.stringify(this.filteModelContent)),y=new B;y.propertyName="RecordStatus",y.value=Ge.Available,u.filters.push(y),this.contentService.ServiceGetCount(u).subscribe({next:_=>{_.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(W=>{i.set(W,_.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(e)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}};l.\u0275fac=function(i){return new(i||l)(v(k),v(Q),v(Me),v(ke),v(Qe),v(Ve),v(P),v(q),v(Je),v(z),v(Fe))},l.\u0275cmp=L({type:l,selectors:[["app-core-user-support-access-list"]],features:[F],decls:74,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-users","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],[4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","AccessAddRow"],["matColumnDef","AccessWatchRow"],["matColumnDef","AccessEditRow"],["matColumnDef","AccessDeleteRow"],["matColumnDef","AccessCountRow"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let u=S();s(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(_){return f(u),I(e.viewGuideNotice,_)||(e.viewGuideNotice=_),h(_)}),x("optionOnActionButtonMemoRow",function(){return f(u),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(u),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(u),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(u),h(e.onActionButtonPrintRow())}),A(1,4),c(2," -------------------------------------- "),b(),Ae(3,5)(4,6),A(5,7),s(6,"a",8),x("click",function(){return f(u),h(e.viewGuideNotice=!e.viewGuideNotice)}),C(7,"i",9),r(),s(8,"a",8),x("click",function(){return f(u),h(e.onActionButtonReload())}),C(9,"i",10),r(),b(),A(10,11),s(11,"a",12),x("click",function(){return f(u),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),C(12,"mat-slide-toggle",13),c(13),g(14,"translate"),r(),s(15,"a",12),x("click",function(){return f(u),h(e.onActionButtonStatist())}),C(16,"mat-slide-toggle",13),c(17),g(18,"translate"),r(),b(),A(19,14),R(20,Ni,7,3,"div",15),b(),A(21,16),R(22,Oi,7,3,"div",15)(23,Wi,7,3,"div",15),s(24,"div",17)(25,"a",18),x("click",function(){return f(u),h(e.onActionButtonUserList(e.tableRowSelected))}),C(26,"i",19),r(),s(27,"p",20),c(28),g(29,"translate"),r()(),b(),A(30,21),s(31,"app-cms-search-list",22),E("optionsChange",function(_){return f(u),I(e.optionsSearch,_)||(e.optionsSearch=_),h(_)}),r(),s(32,"app-cms-statist-list",22),E("optionsChange",function(_){return f(u),I(e.optionsStatist,_)||(e.optionsStatist=_),h(_)}),r(),b(),A(33,23),s(34,"mat-table",24,0),x("matSortChange",function(){f(u);let _=N(35);return h(e.onTableSortData(_))}),A(36,25),R(37,Ui,2,1,"mat-header-cell",26)(38,Di,5,7,"mat-cell",27),b(),A(39,28),R(40,Vi,2,1,"mat-header-cell",26)(41,ki,4,5,"mat-cell",29),b(),A(42,30),R(43,Li,2,1,"mat-header-cell",26)(44,Fi,4,5,"mat-cell",29),b(),A(45,31),R(46,Pi,2,1,"mat-header-cell",26)(47,Gi,2,1,"mat-cell",29),b(),A(48,32),R(49,qi,2,1,"mat-header-cell",26)(50,Hi,2,1,"mat-cell",29),b(),A(51,33),R(52,ji,3,3,"mat-header-cell",26)(53,Qi,3,3,"mat-cell",29),b(),A(54,34),R(55,zi,2,1,"mat-header-cell",26)(56,Ji,3,3,"mat-cell",29),b(),A(57,35),R(58,Ki,3,3,"mat-header-cell",26)(59,Xi,3,3,"mat-cell",29),b(),A(60,36),R(61,Yi,3,3,"mat-header-cell",26)(62,Zi,3,3,"mat-cell",29),b(),A(63,37),R(64,$i,3,3,"mat-header-cell",26)(65,eo,3,3,"mat-cell",29),b(),A(66,38),R(67,to,3,3,"mat-header-cell",39)(68,io,6,1,"mat-cell",40),b(),R(69,oo,1,0,"mat-header-row",41)(70,no,1,6,"mat-row",42),r(),b(),A(71,43),s(72,"mat-paginator",44,1),x("page",function(_){return f(u),h(e.onTablePageingData(_))}),r(),b(),r()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),M("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(12),p("checked",e.optionsSearch.data.show),a(),m("",w(14,24,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),m("",w(18,26,"ACTION.STATIST")," "),a(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(5),T(w(29,28,"ACTION.USERS")),a(3),M("options",e.optionsSearch),a(),M("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(35),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",be(30,bi)))},dependencies:[Ne,G,Oe,Le,Pe,j,Xe,Ye,Ze,$e,et,tt,it,nt,lt,at,ot,dt,rt,st,ct,pt,_t,St,Ct,mt,We,H,Ke,ut,ht,ft,ze],encapsulation:2});let o=l;return o})();var ao=[{path:"",children:[{path:"",component:ve},{path:"list/LinkSiteId/:LinkSiteId/LinkUserId/:LinkUserId",component:ve}]}],Wt=(()=>{let l=class l{};l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=Z({type:l}),l.\u0275inj=Y({imports:[ye.forChild(ao),ye]});let o=l;return o})();var sn=(()=>{let l=class l{};l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=Z({type:l}),l.\u0275inj=Y({providers:[k,Me,je],imports:[Ue,Be,Wt,De.withConfig({warnOnNgModelWithFormControl:"never"}),gt,Et]});let o=l;return o})();export{sn as CoreUserSupportAccessCmsModule};
