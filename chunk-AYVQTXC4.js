import{hb as n,ib as O,jb as R,kb as T}from"./chunk-D3Z3NHCD.js";import{Aa as h,J as m,La as g,Lc as k,Ma as y,Rc as C,Sc as a,Uc as b,Wc as I,Xc as w,cb as S,da as d,dq as E,ja as u,ka as f,lb as v,mb as F,r as c,ub as P,v as l}from"./chunk-VVK3YYAC.js";var p=class extends O{constructor(e){super(),this.http=e}uploadFile(e){let x=E.cmsServerConfig.configFileServerPath+"upload/",t=new FormData;t.append("file",e.file);let i=new C("POST",x,t,{reportProgress:!0});return this.http.request(i).pipe(l(o=>{if(o.type===a.Response)return{body:o.body,status:n.UPLOADED};if(o.type===a.UploadProgress){let s=+Math.round(100*o.loaded/o.total);return{status:n.IN_PROGRESS,progress:s}}return{status:n.IN_PROGRESS}}),m(o=>c({status:n.ERROR,body:o})))}removeFile(e){return null}};var Q=(()=>{let e=class e{constructor(t){this.http=t,this.id=++e.nextId,this.optionUploadSuccess=new h,this.adapter=new p(this.http)}set optionFileType(t){t&&t.length>0&&(this.fileType=t)}ngOnInit(){}uploadSuccess(t){this.optionUploadSuccess.emit(t)}};e.nextId=0,e.\u0275fac=function(i){return new(i||e)(y(b))},e.\u0275cmp=u({type:e,selectors:[["app-cms-file-uploader"]],inputs:{optionFileType:"optionFileType"},outputs:{optionUploadSuccess:"optionUploadSuccess"},decls:2,vars:2,consts:[[1,"uploader-wrapper"],[3,"uploadSuccess","adapter","enableCropper"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"ngx-ntk-file-picker",1),P("uploadSuccess",function(M){return o.uploadSuccess(M)}),F()()),i&2&&(g(),S("adapter",o.adapter)("enableCropper",!1))},dependencies:[R],styles:[".progress[_ngcontent-%COMP%]{background-color:#e9ecef;border-radius:.25rem;display:flex;font-size:1.2rem;height:2rem;margin-top:1rem;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{align-items:center;background-color:#007bff;color:#fff;display:flex;justify-content:center}"]});let r=e;return r})();var ee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f({type:e}),e.\u0275inj=d({providers:[I(w())],imports:[k,T]});let r=e;return r})();export{Q as a,ee as b};
