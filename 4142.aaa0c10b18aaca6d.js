"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4142],{4142:(de,se,g)=>{g.r(se),g.d(se,{CoreTokenModule:()=>Xr});var _=g(6610),b=g(7222),c=g(8189),y=g(5459),oe=g(8550),k=g(9675),L=g(9915),C=g(5312),T=g(6482),j=g(5113),e=g(7788),I=g(9722),R=g(8339),S=g(2882),M=g(5154),G=g(6628),J=g(1536),N=g(9028),A=g(7912);const me=["vform"];function pe(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ue(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let fe=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.iKk,u,h),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenActivationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.translate=h,this.publicHelper=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.iKk,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(c.FYP.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.iF$),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(M.A))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(me,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,pe,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,ue,5,3,"div",6),e.k0s()()),2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,15,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,17,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,G.p,J.m,N.X,A._,S.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var F=g(4434),V=g(7848);const he=["vform"];function _e(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ge=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenActivationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.iKk,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.iF$),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(he,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,_e,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9]})}return i})();var B=g(6006),O=g(2221),$=g(6182),U=g(4587),E=g(1184),X=g(8966),x=g(4685),v=g(8058),p=g(8403),H=g(6145),q=g(1908),P=g(3036),Z=g(3438),Y=g(9041),K=g(5225),W=g(4209),Q=g(6381),ee=g(1268),z=g(9929);const Se=()=>[5,10,20,100],be=i=>({display:i});function Te(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function Ce(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ke(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ie(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Re(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Me(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Ae(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ee(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function ve(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function we(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function De(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Le(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function ye(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Ue(i,a){if(1&i&&e.nrm(0,"select",62),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,be,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function je(i,a){if(1&i&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Ue,1,5,"select",61),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function Ge(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ne(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Fe(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ve(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Be(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Oe(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function $e(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Xe(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function xe(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function He(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function qe(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Pe(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ye(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Ke(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.expireDate)," ")}}function We(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Je(i,a){if(1&i&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function ze(i,a){1&i&&e.nrm(0,"mat-header-row")}function Ze(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Qe=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.iKk,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.iKk);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ge,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(fe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.iF$),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:89,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Te,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Ce,7,3,"div",19)(24,ke,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22),e.k0s(),e.j41(28,"p",23),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"div",20)(32,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(33,"i",24)(34,"br"),e.k0s(),e.j41(35,"p",23),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.DNE(38,Ie,7,3,"div",19),e.bVm(),e.qex(39,25),e.j41(40,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(41,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(42,27),e.j41(43,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(44);return e.Njj(o.onTableSortData(s))}),e.qex(45,29),e.DNE(46,Re,2,1,"mat-header-cell",30)(47,Me,2,1,"mat-cell",31),e.bVm(),e.qex(48,32),e.DNE(49,Ae,2,1,"mat-header-cell",30)(50,Ee,4,5,"mat-cell",31),e.bVm(),e.qex(51,33),e.DNE(52,ve,2,1,"mat-header-cell",30)(53,we,4,5,"mat-cell",31),e.bVm(),e.qex(54,34),e.DNE(55,De,2,1,"mat-header-cell",30)(56,Le,2,1,"mat-cell",31),e.bVm(),e.qex(57,35),e.DNE(58,ye,2,1,"mat-header-cell",30)(59,je,5,7,"mat-cell",36),e.bVm(),e.qex(60,37),e.DNE(61,Ge,2,1,"mat-header-cell",30)(62,Ne,3,4,"mat-cell",31),e.bVm(),e.qex(63,38),e.DNE(64,Fe,2,1,"mat-header-cell",30)(65,Ve,3,4,"mat-cell",31),e.bVm(),e.qex(66,39),e.DNE(67,Be,2,1,"mat-header-cell",30)(68,Oe,3,3,"mat-cell",31),e.bVm(),e.qex(69,40),e.DNE(70,$e,2,1,"mat-header-cell",30)(71,Xe,3,3,"mat-cell",31),e.bVm(),e.qex(72,41),e.DNE(73,xe,2,1,"mat-header-cell",30)(74,He,3,3,"mat-cell",31),e.bVm(),e.qex(75,42),e.DNE(76,qe,2,1,"mat-header-cell",30)(77,Pe,2,1,"mat-cell",31),e.bVm(),e.qex(78,43),e.DNE(79,Ye,2,1,"mat-header-cell",30)(80,Ke,2,1,"mat-cell",31),e.bVm(),e.qex(81,44),e.DNE(82,We,3,3,"mat-header-cell",45)(83,Je,6,1,"mat-cell",46),e.bVm(),e.DNE(84,ze,1,0,"mat-header-row",47)(85,Ze,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(86,49),e.j41(87,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(5),e.JRh(e.bMT(30,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(37,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Se)))},dependencies:[_.YU,_.bT,_.B3,b.BC,b.vS,O.iY,$.An,U.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,_.Jj,S.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return i})(),et=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-token"]],decls:1,vars:0,template:function(n,o){1&n&&e.nrm(0,"router-outlet")},dependencies:[k.n3],encapsulation:2})}return i})();const tt=["vform"];function ot(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function it(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let nt=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.XMR,s,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=l,this.publicHelper=s,this.cdr=m,this.tokenHelper=h,this.translate=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.XMR,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(c.FYP.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.Nci),e.rXU(I.k),e.rXU(M.A),e.rXU(e.gRc),e.rXU(R._),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(tt,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,ot,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,it,5,3,"div",6),e.k0s()()),2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,15,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,17,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,G.p,J.m,N.X,A._,S.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const st=["vform"];function rt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let at=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.XMR,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.Nci),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(st,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,rt,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9],encapsulation:2})}return i})();const lt=()=>[5,10,20,100],ct=i=>({display:i});function dt(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function mt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function pt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function ut(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function ft(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ht(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function _t(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function gt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function St(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function bt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Tt(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ct(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function kt(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function It(i,a){if(1&i&&e.nrm(0,"select",62),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,ct,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function Rt(i,a){if(1&i&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,It,1,5,"select",61),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function Mt(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function At(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Et(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function vt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function wt(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Dt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Lt(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function yt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function Ut(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function jt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Gt(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Nt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ft(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Vt(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Bt(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Ot(i,a){if(1&i&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function $t(i,a){1&i&&e.nrm(0,"mat-header-row")}function Xt(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let xt=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.XMR,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.XMR);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(at,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(nt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.Nci),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-microservicelog-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,dt,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,mt,7,3,"div",19)(24,pt,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,ut,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,ft,2,1,"mat-header-cell",30)(48,ht,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,_t,2,1,"mat-header-cell",30)(51,gt,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,St,2,1,"mat-header-cell",30)(54,bt,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,Tt,2,1,"mat-header-cell",30)(57,Ct,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,kt,2,1,"mat-header-cell",30)(60,Rt,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,Mt,2,1,"mat-header-cell",30)(63,At,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,Et,2,1,"mat-header-cell",30)(66,vt,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,wt,2,1,"mat-header-cell",30)(69,Dt,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,Lt,2,1,"mat-header-cell",30)(72,yt,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,Ut,2,1,"mat-header-cell",30)(75,jt,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,Gt,2,1,"mat-header-cell",30)(78,Nt,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,Ft,2,1,"mat-header-cell",30)(81,Vt,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,Bt,3,3,"mat-header-cell",45)(84,Ot,6,1,"mat-cell",46),e.bVm(),e.DNE(85,$t,1,0,"mat-header-row",47)(86,Xt,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,lt)))},dependencies:[_.YU,_.bT,_.B3,b.BC,b.vS,O.iY,$.An,U.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,_.Jj,S.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return i})();var ie=g(7001);const Ht=["vform"];function qt(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",8),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pt(i,a){if(1&i&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"prettyjson"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function Yt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Kt=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.xu$,h,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenMicroServiceService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.xu$,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(c.FYP.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.JD_),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ht,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:15,vars:20,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,qt,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,Pt,3,3,"div",6)(14,Yt,5,3,"div",7),e.k0s()()),2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,16,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,18,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,G.p,J.m,N.X,A._,S.D9,ie.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const Wt=["vform"];function Jt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let zt=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenMicroServiceService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.xu$,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.JD_),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(Wt,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Jt,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9]})}return i})();const Zt=()=>[5,10,20,100],Qt=i=>({display:i});function eo(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function to(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function oo(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function io(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function no(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function so(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function ro(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ao(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function lo(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function co(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function mo(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function po(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function uo(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function fo(i,a){if(1&i&&e.nrm(0,"select",62),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,Qt,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function ho(i,a){if(1&i&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,fo,1,5,"select",61),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function _o(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function go(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function So(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function bo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function To(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Co(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function ko(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Io(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function Ro(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Mo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Ao(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Eo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function vo(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function wo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Do(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Lo(i,a){if(1&i&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function yo(i,a){1&i&&e.nrm(0,"mat-header-row")}function Uo(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let jo=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.xu$,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.xu$);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(zt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Kt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.JD_),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-microservice-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,eo,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,to,7,3,"div",19)(24,oo,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,io,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,no,2,1,"mat-header-cell",30)(48,so,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,ro,2,1,"mat-header-cell",30)(51,ao,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,lo,2,1,"mat-header-cell",30)(54,co,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,mo,2,1,"mat-header-cell",30)(57,po,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,uo,2,1,"mat-header-cell",30)(60,ho,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,_o,2,1,"mat-header-cell",30)(63,go,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,So,2,1,"mat-header-cell",30)(66,bo,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,To,2,1,"mat-header-cell",30)(69,Co,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,ko,2,1,"mat-header-cell",30)(72,Io,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,Ro,2,1,"mat-header-cell",30)(75,Mo,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,Ao,2,1,"mat-header-cell",30)(78,Eo,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,vo,2,1,"mat-header-cell",30)(81,wo,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,Do,3,3,"mat-header-cell",45)(84,Lo,6,1,"mat-cell",46),e.bVm(),e.DNE(85,yo,1,0,"mat-header-row",47)(86,Uo,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Zt)))},dependencies:[_.YU,_.bT,_.B3,b.BC,b.vS,O.iY,$.An,U.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,_.Jj,S.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return i})();const Go=["vform"];function No(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fo(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Vo=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.l1T,s,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenNotificationLogService=r,this.cmsToastrService=l,this.publicHelper=s,this.cdr=m,this.tokenHelper=h,this.translate=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.l1T,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(c.FYP.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.pCN),e.rXU(I.k),e.rXU(M.A),e.rXU(e.gRc),e.rXU(R._),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(Go,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,No,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,Fo,5,3,"div",6),e.k0s()()),2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,15,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,17,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,G.p,J.m,N.X,A._,S.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const Bo=["vform"];function Oo(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let $o=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenNotificationLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.l1T,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.pCN),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(Bo,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Oo,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9],encapsulation:2})}return i})();const Xo=()=>[5,10,20,100],xo=i=>({display:i});function Ho(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function qo(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Po(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Yo(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Ko(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Wo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Jo(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function zo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Zo(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Qo(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function ei(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ti(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function oi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function ii(i,a){if(1&i&&e.nrm(0,"select",62),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,xo,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function ni(i,a){if(1&i&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,ii,1,5,"select",61),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function si(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ri(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ai(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function li(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ci(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function di(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function mi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function pi(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function ui(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function fi(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function hi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function _i(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function gi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Si(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.expireDate)," ")}}function bi(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Ti(i,a){if(1&i&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Ci(i,a){1&i&&e.nrm(0,"mat-header-row")}function ki(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Ii=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.l1T,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.l1T);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open($o,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Vo,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.pCN),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-notificationlog-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Ho,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,qo,7,3,"div",19)(24,Po,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,Yo,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,Ko,2,1,"mat-header-cell",30)(48,Wo,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,Jo,2,1,"mat-header-cell",30)(51,zo,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,Zo,2,1,"mat-header-cell",30)(54,Qo,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,ei,2,1,"mat-header-cell",30)(57,ti,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,oi,2,1,"mat-header-cell",30)(60,ni,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,si,2,1,"mat-header-cell",30)(63,ri,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,ai,2,1,"mat-header-cell",30)(66,li,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,ci,2,1,"mat-header-cell",30)(69,di,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,mi,2,1,"mat-header-cell",30)(72,pi,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,ui,2,1,"mat-header-cell",30)(75,fi,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,hi,2,1,"mat-header-cell",30)(78,_i,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,gi,2,1,"mat-header-cell",30)(81,Si,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,bi,3,3,"mat-header-cell",45)(84,Ti,6,1,"mat-cell",46),e.bVm(),e.DNE(85,Ci,1,0,"mat-header-row",47)(86,ki,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Xo)))},dependencies:[_.YU,_.bT,_.B3,b.BC,b.vS,O.iY,$.An,U.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,_.Jj,S.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return i})();const Ri=["vform"];function Mi(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",8),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ai(i,a){if(1&i&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"prettyjson"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function Ei(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let vi=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.nr_,h,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenNotificationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.nr_,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(c.FYP.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.rM),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ri,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:15,vars:20,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Mi,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,Ai,3,3,"div",6)(14,Ei,5,3,"div",7),e.k0s()()),2&n&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,16,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,18,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,G.p,J.m,N.X,A._,S.D9,ie.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const wi=["vform"];function Di(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Li=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenNotificationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.nr_,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.rM),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-notification-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(wi,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Di,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9]})}return i})();const yi=()=>[5,10,20,100],Ui=i=>({display:i});function ji(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function Gi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Ni(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Fi(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Vi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Bi(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Oi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function $i(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Xi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function xi(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Hi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function qi(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function Pi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Yi(i,a){if(1&i&&e.nrm(0,"select",62),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,Ui,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function Ki(i,a){if(1&i&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Yi,1,5,"select",61),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function Wi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ji(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Zi(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Qi(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function en(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function tn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function on(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function nn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function sn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function rn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function an(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ln(i,a){if(1&i&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function cn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.expireDate)," ")}}function dn(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function mn(i,a){if(1&i&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function pn(i,a){1&i&&e.nrm(0,"mat-header-row")}function un(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let fn=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.nr_,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.nr_);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Li,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(vi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.rM),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-notification-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,ji,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Gi,7,3,"div",19)(24,Ni,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,Fi,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,Vi,2,1,"mat-header-cell",30)(48,Bi,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,Oi,2,1,"mat-header-cell",30)(51,$i,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,Xi,2,1,"mat-header-cell",30)(54,xi,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,Hi,2,1,"mat-header-cell",30)(57,qi,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,Pi,2,1,"mat-header-cell",30)(60,Ki,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,Wi,2,1,"mat-header-cell",30)(63,Ji,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,zi,2,1,"mat-header-cell",30)(66,Zi,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,Qi,2,1,"mat-header-cell",30)(69,en,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,tn,2,1,"mat-header-cell",30)(72,on,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,nn,2,1,"mat-header-cell",30)(75,sn,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,rn,2,1,"mat-header-cell",30)(78,an,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,ln,2,1,"mat-header-cell",30)(81,cn,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,dn,3,3,"mat-header-cell",45)(84,mn,6,1,"mat-cell",46),e.bVm(),e.DNE(85,pn,1,0,"mat-header-row",47)(86,un,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,yi)))},dependencies:[_.YU,_.bT,_.B3,b.BC,b.vS,O.iY,$.An,U.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,_.Jj,S.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return i})();var te=g(2839),ne=g(9344),ce=g(3726);const hn=["vform"];function _n(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",38),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gn(i,a){if(1&i&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Sn(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," LinkMemberId is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function bn(i,a){if(1&i&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Tn(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Cn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",42),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",45),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToAllData,o)||(r.dataModel.userAccessAdminAllowToAllData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",46),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function kn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",47),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",48),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToProfessionalData,o)||(r.dataModel.userAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",49),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function In(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",50),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",51),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.rememberOnDevice,o)||(r.dataModel.rememberOnDevice=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",52),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.rememberOnDevice)}}function Rn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"label",53),e.EFF(2),e.k0s(),e.j41(3,"input",54),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.tokenExpireDate,o)||(r.dataModel.tokenExpireDate=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),e.k0s()}if(2&i){const t=e.sdS(6),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.tokenExpireDate?null:n.fieldsInfo.tokenExpireDate.fieldTitle),e.R7$(),e.Y8G("matDatepicker",t),e.R50("ngModel",n.dataModel.tokenExpireDate),e.R7$(),e.Y8G("for",t)}}function Mn(i,a){if(1&i&&(e.j41(0,"div"),e.nrm(1,"div",57),e.nI1(2,"prettyjson"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function An(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",58)(1,"button",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",60),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",61),e.nrm(6,"i",62),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&i){e.XpG();const t=e.sdS(9);e.R7$(3),e.SpI(" ",e.bMT(4,3,"ACTION.CANCEL")," "),e.R7$(2),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.SpI(" ",e.bMT(8,5,"ACTION.SAVE")," ")}}let En=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.zz9,m,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenUserService=r,this.cmsToastrService=l,this.tokenHelper=s,this.publicHelper=m,this.cdr=h,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.zz9,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(c.FYP.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorEdit(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.FRq),e.rXU(I.k),e.rXU(R._),e.rXU(M.A),e.rXU(e.gRc),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(hn,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:69,vars:48,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionLoadingChange","optionDisabled","optionLoading","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"div",10),e.nrm(1,"app-progress-spinner",11),e.j41(2,"div",12)(3,"p",13),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",14,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.DNE(10,_n,1,5,"app-cms-enum-record-status-selector",15),e.j41(11,"div",16)(12,"select",17,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkMemberId,s)||(o.dataModel.linkMemberId=s),e.Njj(s)}),e.DNE(14,gn,2,2,"option",18),e.k0s(),e.j41(15,"em"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,Sn,5,3,"mat-error",19),e.k0s(),e.j41(19,"div",16)(20,"select",20,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(22,bn,2,2,"option",18),e.k0s(),e.j41(23,"em"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.DNE(26,Tn,5,3,"mat-error",19),e.k0s(),e.j41(27,"app-cms-site-selector",21),e.nI1(28,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionSiteSelect(s))}),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-user-selector",21),e.nI1(30,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionUserSelect(s))}),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(31,"app-cms-member-selector",21),e.nI1(32,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionMemberSelect(s))}),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.DNE(33,Cn,8,2,"div",22)(34,kn,8,2,"div",22)(35,In,8,2,"div",22),e.j41(36,"div",23)(37,"label",24),e.EFF(38,"BrowserLanguage"),e.k0s(),e.j41(39,"input",25,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.browserLanguage,s)||(o.dataModel.browserLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(41,"div",23)(42,"label",26),e.EFF(43,"UserLanguage"),e.k0s(),e.j41(44,"input",27,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userLanguage,s)||(o.dataModel.userLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(46,"div",23)(47,"label",28),e.EFF(48,"DeviceClientMAC"),e.k0s(),e.j41(49,"input",29,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.j41(51,"div",23)(52,"label",30),e.EFF(53,"Token"),e.k0s(),e.j41(54,"input",31,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.token,s)||(o.dataModel.token=s),e.Njj(s)}),e.k0s()(),e.j41(56,"div",23)(57,"label",32),e.EFF(58,"LinkDeviceId"),e.k0s(),e.j41(59,"input",33,7),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(61,"div",23)(62,"label",34),e.EFF(63,"LinkApplicationId"),e.k0s(),e.j41(64,"input",35,8),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.DNE(66,Rn,7,4,"div",36)(67,Mn,3,3,"div",19)(68,An,9,7,"div",37),e.k0s()()()}if(2&n){const r=e.sdS(13),l=e.sdS(21);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.linkMemberId),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(17,38,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(2),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(25,40,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(28,42,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(30,44,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(32,46,"TITLE.Member")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.R7$(4),e.R50("ngModel",o.dataModel.browserLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.userLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(5),e.R50("ngModel",o.dataModel.token),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.R7$(),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.Sq,_.bT,b.qT,b.xH,b.y7,b.me,b.Zm,b.wz,b.BC,b.cb,b.vS,b.cV,te.Vh,te.bZ,te.bU,ne.TL,ne.yw,U.fg,G.p,J.m,N.X,ce.W,A._,S.D9,ie.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const vn=["vform"];function wn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Dn=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenUserService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.zz9,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.FRq),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(vn,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,wn,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9]})}return i})();const Ln=()=>[5,10,20,100],yn=i=>({display:i});function Un(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",54),e.k0s()}}function jn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Gn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Nn(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",60)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Fn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Vn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Bn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function On(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function $n(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Xn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function xn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Hn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function qn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Pn(i,a){if(1&i&&e.nrm(0,"select",64),2&i){const t=e.XpG().$implicit,n=e.XpG();e.Y8G("contentService",n.contentService)("row",t)("ngStyle",e.eq3(3,yn,t.id===(null==n.tableRowSelected?null:n.tableRowSelected.id)?"":"none"))}}function Yn(i,a){if(1&i&&(e.j41(0,"mat-cell",62),e.nI1(1,"statusCellClass"),e.nrm(2,"i",62),e.nI1(3,"statusIconClass"),e.DNE(4,Pn,1,5,"select",63),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)}}function Kn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Wn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Jn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function zn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Zn(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Qn(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function es(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ts(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function os(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function is(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function ns(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ss(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function rs(i,a){if(1&i&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function as(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.tokenExpireDate)," ")}}function ls(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function cs(i,a){if(1&i&&(e.j41(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function ds(i,a){1&i&&e.nrm(0,"mat-header-row")}function ms(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let re=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.zz9,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zz9);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Dn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(En,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.FRq),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:104,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Un,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,jn,7,3,"div",19)(24,Gn,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",20)(40,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(41,"i",25)(42,"br"),e.k0s(),e.j41(43,"p",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"div",20)(47,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(48,"i",26)(49,"br"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.nI1(52,"translate"),e.k0s()(),e.DNE(53,Nn,7,3,"div",19),e.bVm(),e.qex(54,27),e.j41(55,"app-cms-search-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(56,"app-cms-statist-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(57,29),e.j41(58,"mat-table",30,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(59);return e.Njj(o.onTableSortData(s))}),e.qex(60,31),e.DNE(61,Fn,2,1,"mat-header-cell",32)(62,Vn,2,1,"mat-cell",33),e.bVm(),e.qex(63,34),e.DNE(64,Bn,2,1,"mat-header-cell",32)(65,On,4,5,"mat-cell",33),e.bVm(),e.qex(66,35),e.DNE(67,$n,2,1,"mat-header-cell",32)(68,Xn,4,5,"mat-cell",33),e.bVm(),e.qex(69,36),e.DNE(70,xn,2,1,"mat-header-cell",32)(71,Hn,2,1,"mat-cell",33),e.bVm(),e.qex(72,37),e.DNE(73,qn,2,1,"mat-header-cell",32)(74,Yn,5,7,"mat-cell",38),e.bVm(),e.qex(75,39),e.DNE(76,Kn,2,1,"mat-header-cell",32)(77,Wn,3,4,"mat-cell",33),e.bVm(),e.qex(78,40),e.DNE(79,Jn,2,1,"mat-header-cell",32)(80,zn,3,4,"mat-cell",33),e.bVm(),e.qex(81,41),e.DNE(82,Zn,2,1,"mat-header-cell",32)(83,Qn,3,3,"mat-cell",33),e.bVm(),e.qex(84,42),e.DNE(85,es,2,1,"mat-header-cell",32)(86,ts,3,3,"mat-cell",33),e.bVm(),e.qex(87,43),e.DNE(88,os,2,1,"mat-header-cell",32)(89,is,3,3,"mat-cell",33),e.bVm(),e.qex(90,44),e.DNE(91,ns,2,1,"mat-header-cell",32)(92,ss,2,1,"mat-cell",33),e.bVm(),e.qex(93,45),e.DNE(94,rs,2,1,"mat-header-cell",32)(95,as,2,1,"mat-cell",33),e.bVm(),e.qex(96,46),e.DNE(97,ls,3,3,"mat-header-cell",47)(98,cs,6,1,"mat-cell",48),e.bVm(),e.DNE(99,ds,1,0,"mat-header-row",49)(100,ms,1,6,"mat-row",50),e.k0s(),e.bVm(),e.qex(101,51),e.j41(102,"mat-paginator",52,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey","report.user.list"),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,27,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,29,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,31,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,33,"ACTION.USER")),e.R7$(7),e.JRh(e.bMT(45,35,"ACTION.MEMBER")),e.R7$(7),e.JRh(e.bMT(52,37,"ACTION.DEVICE")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(39,Ln)))},dependencies:[_.YU,_.bT,_.B3,b.BC,b.vS,O.iY,$.An,U.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,_.Jj,S.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return i})();const ps=["vform"];function us(i,a){if(1&i&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function fs(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function hs(i,a){if(1&i&&(e.j41(0,"div"),e.nrm(1,"div",28),e.nI1(2,"prettyjson"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function _s(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",29)(1,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let gs=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.zPB,h,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenUserBadLoginService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.zPB,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(c.FYP.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(ps,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:49,vars:36,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",10)(9,"label",11),e.EFF(10,"UsedUsername"),e.k0s(),e.j41(11,"input",12,0),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.usedUsername,s)||(o.dataModel.usedUsername=s),e.Njj(s)}),e.k0s()(),e.j41(13,"div",10)(14,"label",13),e.EFF(15,"UsedPwd"),e.k0s(),e.j41(16,"input",14,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.usedPwd,s)||(o.dataModel.usedPwd=s),e.Njj(s)}),e.k0s()(),e.j41(18,"div",15)(19,"select",16,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(21,us,2,2,"option",17),e.k0s(),e.j41(22,"em"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.DNE(25,fs,5,3,"mat-error",18),e.k0s(),e.j41(26,"app-cms-site-selector",19),e.nI1(27,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-user-selector",19),e.nI1(29,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-member-selector",19),e.nI1(31,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(32,"div",10)(33,"label",20),e.EFF(34,"LinkDeviceId"),e.k0s(),e.j41(35,"input",21,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(37,"div",10)(38,"label",22),e.EFF(39,"LinkApplicationId"),e.k0s(),e.j41(40,"input",23,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",10)(43,"label",24),e.EFF(44,"DeviceClientMAC"),e.k0s(),e.j41(45,"input",25,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.DNE(47,hs,3,3,"div",18)(48,_s,5,3,"div",26),e.k0s()()}if(2&n){const r=e.sdS(20);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(5),e.R50("ngModel",o.dataModel.usedUsername),e.R7$(5),e.R50("ngModel",o.dataModel.usedPwd),e.R7$(3),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(24,28,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(27,30,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(29,32,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(31,34,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.Sq,_.bT,b.xH,b.y7,b.me,b.wz,b.BC,b.vS,ne.TL,U.fg,G.p,N.X,ce.W,A._,S.D9,ie.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const Ss=["vform"];function bs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Ts=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenUserBadLoginService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.zPB,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ss,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,bs,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9]})}return i})();const Cs=()=>[5,10,20,100];function ks(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",48),e.k0s()}}function Is(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Rs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ms(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function As(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Es(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function vs(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ws(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Ds(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ls(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function ys(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Us(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function js(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Gs(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ns(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.usedUsername?null:t.fieldsInfo.usedUsername.fieldTitle," ")}}function Fs(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.usedUsername," ")}}function Vs(i,a){if(1&i&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Bs(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Os(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function $s(i,a){if(1&i&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Xs(i,a){1&i&&e.nrm(0,"mat-header-row")}function xs(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let ae=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w,d){if(super(n,new c.zPB,w,s,h),this.coreEnumService=t,this.contentService=n,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=m,this.translate=h,this.router=u,this.pageInfo=f,this.publicHelper=w,this.dialog=d,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(D=>{this.loading.message=D}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const D=new c.ycK;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){const D=new c.ycK;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){const D=new c.ycK;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zPB);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ts,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(gs,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,ks,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Is,7,3,"div",19)(24,Rs,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",20)(40,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(41,"i",25)(42,"br"),e.k0s(),e.j41(43,"p",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"div",20)(47,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(48,"i",26)(49,"br"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.nI1(52,"translate"),e.k0s()(),e.DNE(53,Ms,7,3,"div",19),e.bVm(),e.qex(54,27),e.j41(55,"app-cms-search-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(56,"app-cms-statist-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(57,29),e.j41(58,"mat-table",30,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(59);return e.Njj(o.onTableSortData(s))}),e.qex(60,31),e.DNE(61,As,2,1,"mat-header-cell",32)(62,Es,2,1,"mat-cell",33),e.bVm(),e.qex(63,34),e.DNE(64,vs,2,1,"mat-header-cell",32)(65,ws,4,5,"mat-cell",33),e.bVm(),e.qex(66,35),e.DNE(67,Ds,2,1,"mat-header-cell",32)(68,Ls,4,5,"mat-cell",33),e.bVm(),e.qex(69,36),e.DNE(70,ys,2,1,"mat-header-cell",32)(71,Us,2,1,"mat-cell",33),e.bVm(),e.qex(72,37),e.DNE(73,js,2,1,"mat-header-cell",32)(74,Gs,3,4,"mat-cell",33),e.bVm(),e.qex(75,38),e.DNE(76,Ns,2,1,"mat-header-cell",32)(77,Fs,2,1,"mat-cell",33),e.bVm(),e.qex(78,39),e.DNE(79,Vs,2,1,"mat-header-cell",32)(80,Bs,2,1,"mat-cell",33),e.bVm(),e.qex(81,40),e.DNE(82,Os,3,3,"mat-header-cell",41)(83,$s,6,1,"mat-cell",42),e.bVm(),e.DNE(84,Xs,1,0,"mat-header-row",43)(85,xs,1,6,"mat-row",44),e.k0s(),e.bVm(),e.qex(86,45),e.j41(87,"mat-paginator",46,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,27,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,29,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,31,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,33,"ACTION.USER")),e.R7$(7),e.JRh(e.bMT(45,35,"ACTION.MEMBER")),e.R7$(7),e.JRh(e.bMT(52,37,"ACTION.DEVICE")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(26),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(39,Cs)))},dependencies:[_.bT,b.BC,b.vS,O.iY,$.An,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,_.Jj,S.D9,Y.p,K.p,W.Z],encapsulation:2})}return i})();const Hs=["vform"];function qs(i,a){if(1&i){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",36),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&i){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ps(i,a){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Ys(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," LinkMemberId is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ks(i,a){if(1&i&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Ws(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Js(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",40),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",43),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToAllData,o)||(r.dataModel.userAccessAdminAllowToAllData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",44),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function zs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",45),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToProfessionalData,o)||(r.dataModel.userAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",47),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function Zs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",48),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",49),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.rememberOnDevice,o)||(r.dataModel.rememberOnDevice=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",50),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.rememberOnDevice)}}function Qs(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"label",51),e.EFF(2),e.k0s(),e.j41(3,"input",52),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.tokenExpireDate,o)||(r.dataModel.tokenExpireDate=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),e.k0s()}if(2&i){const t=e.sdS(6),n=e.XpG();e.R7$(2),e.JRh(null==n.fieldsInfo.tokenExpireDate?null:n.fieldsInfo.tokenExpireDate.fieldTitle),e.R7$(),e.Y8G("matDatepicker",t),e.R50("ngModel",n.dataModel.tokenExpireDate),e.R7$(),e.Y8G("for",t)}}function er(i,a){if(1&i&&(e.j41(0,"div"),e.nrm(1,"div",55),e.nI1(2,"prettyjson"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function tr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",56)(1,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",58),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let or=(()=>{class i extends j.n{constructor(t,n,o,r,l,s,m,h,u){super(r,new c.TuM,h,u),this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenUserLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.TuM,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(c.FYP.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.ZiN),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,o){if(1&n&&e.GBs(Hs,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:67,vars:48,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"div",9),e.nrm(1,"app-progress-spinner",10),e.j41(2,"div",11)(3,"p",12),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,qs,1,5,"app-cms-enum-record-status-selector",13),e.j41(9,"div",14)(10,"select",15,0),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkMemberId,s)||(o.dataModel.linkMemberId=s),e.Njj(s)}),e.DNE(12,Ps,2,2,"option",16),e.k0s(),e.j41(13,"em"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,Ys,5,3,"mat-error",17),e.k0s(),e.j41(17,"div",14)(18,"select",18,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(20,Ks,2,2,"option",16),e.k0s(),e.j41(21,"em"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Ws,5,3,"mat-error",17),e.k0s(),e.j41(25,"app-cms-site-selector",19),e.nI1(26,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(27,"app-cms-user-selector",19),e.nI1(28,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-member-selector",19),e.nI1(30,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.DNE(31,Js,8,2,"div",20)(32,zs,8,2,"div",20)(33,Zs,8,2,"div",20),e.j41(34,"div",21)(35,"label",22),e.EFF(36,"BrowserLanguage"),e.k0s(),e.j41(37,"input",23,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.browserLanguage,s)||(o.dataModel.browserLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(39,"div",21)(40,"label",24),e.EFF(41,"UserLanguage"),e.k0s(),e.j41(42,"input",25,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userLanguage,s)||(o.dataModel.userLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(44,"div",21)(45,"label",26),e.EFF(46,"LinkDeviceId"),e.k0s(),e.j41(47,"input",27,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(49,"div",21)(50,"label",28),e.EFF(51,"LinkApplicationId"),e.k0s(),e.j41(52,"input",29,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.j41(54,"div",21)(55,"label",30),e.EFF(56,"DeviceClientMAC"),e.k0s(),e.j41(57,"input",31,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.j41(59,"div",21)(60,"label",32),e.EFF(61,"Token"),e.k0s(),e.j41(62,"input",33,7),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.token,s)||(o.dataModel.token=s),e.Njj(s)}),e.k0s()(),e.DNE(64,Qs,7,4,"div",34)(65,er,3,3,"div",17)(66,tr,5,3,"div",35),e.k0s()()}if(2&n){const r=e.sdS(11),l=e.sdS(19);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.linkMemberId),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(15,38,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(2),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(23,40,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(26,42,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(28,44,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(30,46,"TITLE.Member")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.R7$(4),e.R50("ngModel",o.dataModel.browserLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.userLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(5),e.R50("ngModel",o.dataModel.token),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.R7$(),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.Sq,_.bT,b.xH,b.y7,b.me,b.Zm,b.wz,b.BC,b.vS,te.Vh,te.bZ,te.bU,ne.TL,ne.yw,U.fg,G.p,J.m,N.X,ce.W,A._,S.D9,ie.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const ir=["vform"];function nr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let sr=(()=>{class i{constructor(t,n,o,r,l,s,m,h,u){this.data=t,this.dialogRef=n,this.coreEnumService=o,this.coreTokenUserLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=h,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.loading=new F.o,this.dataModelResult=new c.N$V,this.dataModel=new c.TuM,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.ZiN),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,o){if(1&n&&e.GBs(ir,5),2&n){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,nr,5,3,"div",9),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.bT,A._,V.l,S.D9]})}return i})();const rr=()=>[5,10,20,100];function ar(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",45),e.k0s()}}function lr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function cr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function dr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.SITE")))}function mr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function pr(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(2,"i",55)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DEVICE")))}function ur(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"a",56),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",57)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&i&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function fr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function hr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function _r(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," ")}}function gr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Sr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function br(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Tr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Cr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function kr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ir(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function Rr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Mr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,n.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ar(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Er(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,n.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function wr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Dr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Lr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function yr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ur(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function jr(i,a){if(1&i&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Gr(i,a){if(1&i&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.SpI(" ",n.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Nr(i,a){1&i&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Fr(i,a){if(1&i&&(e.j41(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&i){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Vr(i,a){1&i&&e.nrm(0,"mat-header-row")}function Br(i,a){if(1&i){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&i){const t=a.$implicit,n=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let le=(()=>{class i extends L.j{constructor(t,n,o,r,l,s,m,h,u,f,w){if(super(t,new c.TuM,f,l,m),this.contentService=t,this.cmsToastrService=n,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=h,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.TuM);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(sr,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(or,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var n="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{n=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,o).then(r=>{if(r){const l=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const n=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{n.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{n.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{n.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(c.ZiN),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:76,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(n,o){if(1&n){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,ar,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,lr,7,3,"div",19)(24,cr,7,3,"div",19)(25,dr,7,3,"div",19)(26,mr,7,3,"div",19)(27,pr,7,3,"div",19)(28,ur,7,3,"div",19),e.bVm(),e.qex(29,20),e.j41(30,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(31,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(32,22),e.j41(33,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(34);return e.Njj(o.onTableSortData(s))}),e.qex(35,24),e.DNE(36,fr,2,1,"mat-header-cell",25)(37,hr,2,1,"mat-cell",26),e.bVm(),e.qex(38,27),e.DNE(39,_r,2,1,"mat-header-cell",25)(40,gr,2,1,"mat-cell",26),e.bVm(),e.qex(41,28),e.DNE(42,Sr,2,1,"mat-header-cell",25)(43,br,4,5,"mat-cell",26),e.bVm(),e.qex(44,29),e.DNE(45,Tr,2,1,"mat-header-cell",25)(46,Cr,4,5,"mat-cell",26),e.bVm(),e.qex(47,30),e.DNE(48,kr,2,1,"mat-header-cell",25)(49,Ir,2,1,"mat-cell",26),e.bVm(),e.qex(50,31),e.DNE(51,Rr,2,1,"mat-header-cell",25)(52,Mr,3,4,"mat-cell",26),e.bVm(),e.qex(53,32),e.DNE(54,Ar,2,1,"mat-header-cell",25)(55,Er,3,4,"mat-cell",26),e.bVm(),e.qex(56,33),e.DNE(57,vr,2,1,"mat-header-cell",25)(58,wr,3,3,"mat-cell",26),e.bVm(),e.qex(59,34),e.DNE(60,Dr,2,1,"mat-header-cell",25)(61,Lr,3,3,"mat-cell",26),e.bVm(),e.qex(62,35),e.DNE(63,yr,2,1,"mat-header-cell",25)(64,Ur,3,3,"mat-cell",26),e.bVm(),e.qex(65,36),e.DNE(66,jr,2,1,"mat-header-cell",25)(67,Gr,2,1,"mat-cell",26),e.bVm(),e.qex(68,37),e.DNE(69,Nr,3,3,"mat-header-cell",38)(70,Fr,6,1,"mat-cell",39),e.bVm(),e.DNE(71,Vr,1,0,"mat-header-row",40)(72,Br,1,6,"mat-row",41),e.k0s(),e.bVm(),e.qex(73,42),e.j41(74,"mat-paginator",43,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&n&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,26,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,28,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.deviceClientMAC?null:o.tableRowSelected.deviceClientMAC.length)>0),e.R7$(),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(38),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(30,rr)))},dependencies:[_.YU,_.bT,b.BC,b.vS,O.iY,$.An,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,_.Jj,S.D9,Y.p,K.p,W.Z,z.j],encapsulation:2})}return i})();const Or=[{path:"",component:et,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Qe,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:jo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:xt,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:fn,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:Ii,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let $r=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({imports:[k.iI.forChild(Or),k.iI]})}return i})(),Xr=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({providers:[c.XBe,c.i9D,c.FRq,c.ZiN,c.VJn,c.iF$,c.JD_,c.Nci,c.rM,c.pCN,c.ayK,y.o],imports:[$r,_.MD,b.YN,b.X1.withConfig({warnOnNgModelWithFormControl:"never"}),oe.G]})}return i})()},9041:(de,se,g)=>{g.d(se,{p:()=>b});var _=g(7788);let b=(()=>{class c{transform(oe,k){if(!k||0===k.length)return"";const L=k.find(C=>C.key===oe||C.value===oe);return L?L.description:""}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275pipe=_.EJ8({name:"enums",type:c,pure:!0})}return c})()}}]);