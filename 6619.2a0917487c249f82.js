"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6619],{1064:(me,se,p)=>{p.r(se),p.d(se,{CoreTokenModule:()=>lr});var _=p(8692),A=p(92),r=p(4511),N=p(3914),ne=p(6087),S=p(6114),u=p(418),R=p(8918),q=p(7147),b=p(656),O=p(5814),J=p(7154),C=p(4536),e=p(4537),k=p(2607),w=p(727),f=p(6707),M=p(4032),Y=p(6599),W=p(2260),G=p(3181),Z=p(5738);const pe=["vform"];function _e(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",14),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",16),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ge=(()=>{class n{data;dialogRef;coreEnumService;coreTokenActivationService;cmsToastrService;tokenHelper;cdr;translate;publicHelper;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenActivationService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.translate=h,this.publicHelper=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.$4t;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(r.dR.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.x6v),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(M.i))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(pe,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:25,vars:14,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,_e,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"app-cms-site-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-cms-user-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA()(),e.TgZ(17,"div",8)(18,"div",9)(19,"small",10),e._uU(20),e.qZA(),e.TgZ(21,"small",11),e._uU(22),e.qZA()()(),e.TgZ(23,"div",12),e.YNc(24,fe,5,3,"div",13),e.qZA()),2&i&&(e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Y.P,W.t,G.g,Z.O,f.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var Q=p(9835);const he=["vform"];function Te(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ce=(()=>{class n{data;dialogRef;coreEnumService;coreTokenActivationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenActivationService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.$4t;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.x6v),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(he,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Te,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$]})}return n})();var m=p(2340),F=p(9638),U=p(3331),D=p(9665),I=p(3319),H=p(3538),y=p(4639),E=p(6558),B=p(3014),P=p(626),j=p(7980),X=p(3673),V=p(9654),K=p(3817),$=p(9084),ee=p(6639),te=p(5897),z=p(1101);function Ae(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Se(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function be(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function ke(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function we(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function Me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function Ze(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ie(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ee(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ve(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function xe(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Le(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Re(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Ue(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ye(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Ne(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const De=function(n){return{display:n}};function qe(n,s){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,De,t.id===i.tableRowSelected.id?"":"none"))}}function Oe(n,s){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,qe,1,5,"select",52),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Je(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ye(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ge(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Qe(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Fe(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function He(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Be(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Pe(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function je(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ve(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Ke(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function $e(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function We(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function ze(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Xe(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function et(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function tt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ot(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,56),e.YNc(6,et,6,3,"button",14),e.YNc(7,tt,6,3,"button",15),e.TgZ(8,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function nt(n,s){1&n&&e._UZ(0,"mat-header-row")}const it=function(n){return{background:n}};function st(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,it,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const at=function(){return[5,10,20,100]};let lt=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.dialog=c,this.tokenHelper=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.$4t;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.$4t);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ce,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ge,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.x6v),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:93,vars:40,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Ae,3,3,"button",4),e.YNc(6,Se,3,3,"button",5),e.YNc(7,be,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,ke,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,we,6,3,"button",14),e.YNc(29,Me,6,3,"button",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(37,"span"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-icon"),e._uU(41,"supervisor_account"),e.qZA()(),e.YNc(42,Ze,4,3,"button",12),e.BQk(),e.ynx(43,17),e.TgZ(44,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(45,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(46,19),e.TgZ(47,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(48);return e.KtG(o.onTableSortData(c))}),e.ynx(49,22),e.YNc(50,Ie,2,1,"mat-header-cell",23),e.YNc(51,Ee,2,1,"mat-cell",24),e.BQk(),e.ynx(52,25),e.YNc(53,ve,2,1,"mat-header-cell",23),e.YNc(54,xe,4,5,"mat-cell",24),e.BQk(),e.ynx(55,26),e.YNc(56,Le,2,1,"mat-header-cell",23),e.YNc(57,Re,4,5,"mat-cell",24),e.BQk(),e.ynx(58,27),e.YNc(59,Ue,2,1,"mat-header-cell",23),e.YNc(60,ye,2,1,"mat-cell",24),e.BQk(),e.ynx(61,28),e.YNc(62,Ne,2,1,"mat-header-cell",23),e.YNc(63,Oe,5,7,"mat-cell",29),e.BQk(),e.ynx(64,30),e.YNc(65,Je,2,1,"mat-header-cell",23),e.YNc(66,Ye,3,4,"mat-cell",24),e.BQk(),e.ynx(67,31),e.YNc(68,Ge,2,1,"mat-header-cell",23),e.YNc(69,Qe,3,4,"mat-cell",24),e.BQk(),e.ynx(70,32),e.YNc(71,Fe,2,1,"mat-header-cell",23),e.YNc(72,He,3,3,"mat-cell",24),e.BQk(),e.ynx(73,33),e.YNc(74,Be,2,1,"mat-header-cell",23),e.YNc(75,Pe,3,3,"mat-cell",24),e.BQk(),e.ynx(76,34),e.YNc(77,je,2,1,"mat-header-cell",23),e.YNc(78,Ve,3,3,"mat-cell",24),e.BQk(),e.ynx(79,35),e.YNc(80,Ke,2,1,"mat-header-cell",23),e.YNc(81,$e,2,1,"mat-cell",24),e.BQk(),e.ynx(82,36),e.YNc(83,We,2,1,"mat-header-cell",23),e.YNc(84,ze,2,1,"mat-cell",24),e.BQk(),e.ynx(85,37),e.YNc(86,Xe,3,3,"mat-header-cell",38),e.YNc(87,ot,20,9,"mat-cell",39),e.BQk(),e.YNc(88,nt,1,0,"mat-header-row",40),e.YNc(89,st,1,3,"mat-row",41),e.qZA(),e.BQk(),e.ynx(90,42),e.TgZ(91,"mat-paginator",43,44),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,27,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(15,29,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,31,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,33,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(33,35,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(39,37,"ACTION.USER")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(39,at)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,D.Nt,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,X.G,_.Ov,f.X$,V.B,K.J,$.Y,ee.G,te.Y,z.r],encapsulation:2})}return n})(),rt=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-token"]],decls:1,vars:0,template:function(i,o){1&i&&e._UZ(0,"router-outlet")},dependencies:[S.lC],encapsulation:2})}return n})();const ct=["vform"];function dt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",14),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ut(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",16),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let mt=(()=>{class n{data;dialogRef;coreEnumService;coreTokenMicroServiceLogService;cmsToastrService;publicHelper;cdr;tokenHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceLogService=a,this.cmsToastrService=l,this.publicHelper=c,this.cdr=g,this.tokenHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.BKj;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(r.dR.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.qOP),e.Y36(k.e),e.Y36(M.i),e.Y36(e.sBO),e.Y36(w.v),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(ct,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:25,vars:14,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,dt,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"app-cms-site-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-cms-user-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA()(),e.TgZ(17,"div",8)(18,"div",9)(19,"small",10),e._uU(20),e.qZA(),e.TgZ(21,"small",11),e._uU(22),e.qZA()()(),e.TgZ(23,"div",12),e.YNc(24,ut,5,3,"div",13),e.qZA()),2&i&&(e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Y.P,W.t,G.g,Z.O,f.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const pt=["vform"];function _t(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ft=(()=>{class n{data;dialogRef;coreEnumService;coreTokenMicroServiceLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceLogService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.BKj;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.qOP),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(pt,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,_t,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$],encapsulation:2})}return n})();function gt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function ht(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Tt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Ct(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function At(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function St(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function bt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function kt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function wt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Mt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Zt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function It(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Et(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function vt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function xt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Lt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Rt=function(n){return{display:n}};function Ut(n,s){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Rt,t.id===i.tableRowSelected.id?"":"none"))}}function yt(n,s){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,Ut,1,5,"select",52),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Nt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Dt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ot(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Yt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Gt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Qt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Ft(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ht(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Bt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Pt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function jt(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Vt(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Kt(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function $t(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Wt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function zt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,56),e.YNc(6,$t,6,3,"button",14),e.YNc(7,Wt,6,3,"button",15),e.TgZ(8,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function Xt(n,s){1&n&&e._UZ(0,"mat-header-row")}const eo=function(n){return{background:n}};function to(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,eo,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const oo=function(){return[5,10,20,100]};let no=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.dialog=c,this.tokenHelper=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.BKj;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.BKj);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ft,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(mt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.qOP),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-microservicelog-list"]],decls:93,vars:40,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,gt,3,3,"button",4),e.YNc(6,ht,3,3,"button",5),e.YNc(7,Tt,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,Ct,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,At,6,3,"button",14),e.YNc(29,St,6,3,"button",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(37,"span"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-icon"),e._uU(41,"supervisor_account"),e.qZA()(),e.YNc(42,bt,4,3,"button",12),e.BQk(),e.ynx(43,17),e.TgZ(44,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(45,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(46,19),e.TgZ(47,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(48);return e.KtG(o.onTableSortData(c))}),e.ynx(49,22),e.YNc(50,kt,2,1,"mat-header-cell",23),e.YNc(51,wt,2,1,"mat-cell",24),e.BQk(),e.ynx(52,25),e.YNc(53,Mt,2,1,"mat-header-cell",23),e.YNc(54,Zt,4,5,"mat-cell",24),e.BQk(),e.ynx(55,26),e.YNc(56,It,2,1,"mat-header-cell",23),e.YNc(57,Et,4,5,"mat-cell",24),e.BQk(),e.ynx(58,27),e.YNc(59,vt,2,1,"mat-header-cell",23),e.YNc(60,xt,2,1,"mat-cell",24),e.BQk(),e.ynx(61,28),e.YNc(62,Lt,2,1,"mat-header-cell",23),e.YNc(63,yt,5,7,"mat-cell",29),e.BQk(),e.ynx(64,30),e.YNc(65,Nt,2,1,"mat-header-cell",23),e.YNc(66,Dt,3,4,"mat-cell",24),e.BQk(),e.ynx(67,31),e.YNc(68,qt,2,1,"mat-header-cell",23),e.YNc(69,Ot,3,4,"mat-cell",24),e.BQk(),e.ynx(70,32),e.YNc(71,Jt,2,1,"mat-header-cell",23),e.YNc(72,Yt,3,3,"mat-cell",24),e.BQk(),e.ynx(73,33),e.YNc(74,Gt,2,1,"mat-header-cell",23),e.YNc(75,Qt,3,3,"mat-cell",24),e.BQk(),e.ynx(76,34),e.YNc(77,Ft,2,1,"mat-header-cell",23),e.YNc(78,Ht,3,3,"mat-cell",24),e.BQk(),e.ynx(79,35),e.YNc(80,Bt,2,1,"mat-header-cell",23),e.YNc(81,Pt,2,1,"mat-cell",24),e.BQk(),e.ynx(82,36),e.YNc(83,jt,2,1,"mat-header-cell",23),e.YNc(84,Vt,2,1,"mat-cell",24),e.BQk(),e.ynx(85,37),e.YNc(86,Kt,3,3,"mat-header-cell",38),e.YNc(87,zt,20,9,"mat-cell",39),e.BQk(),e.YNc(88,Xt,1,0,"mat-header-row",40),e.YNc(89,to,1,3,"mat-row",41),e.qZA(),e.BQk(),e.ynx(90,42),e.TgZ(91,"mat-paginator",43,44),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,27,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(15,29,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,31,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,33,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(33,35,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(39,37,"ACTION.USER")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(39,oo)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,D.Nt,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,X.G,_.Ov,f.X$,V.B,K.J,$.Y,ee.G,te.Y,z.r],encapsulation:2})}return n})();var ie=p(8838);const io=["vform"];function so(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",15),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ao(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",16),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function lo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ro=(()=>{class n{data;dialogRef;coreEnumService;coreTokenMicroServiceService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.xyf;formGroup;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(r.dR.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.mPJ),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(io,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:26,vars:15,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,so,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"app-cms-site-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-cms-user-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.YNc(17,ao,3,3,"div",8),e.qZA(),e.TgZ(18,"div",9)(19,"div",10)(20,"small",11),e._uU(21),e.qZA(),e.TgZ(22,"small",12),e._uU(23),e.qZA()()(),e.TgZ(24,"div",13),e.YNc(25,lo,5,3,"div",14),e.qZA()),2&i&&(e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Y.P,W.t,G.g,Z.O,f.X$,ie.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const co=["vform"];function uo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let mo=(()=>{class n{data;dialogRef;coreEnumService;coreTokenMicroServiceService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.xyf;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.mPJ),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(co,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,uo,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$]})}return n})();function po(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function _o(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function fo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function go(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function ho(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function To(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function Co(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ao(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function So(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function bo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ko(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function wo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Mo(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Zo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Io(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Eo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const vo=function(n){return{display:n}};function xo(n,s){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,vo,t.id===i.tableRowSelected.id?"":"none"))}}function Lo(n,s){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,xo,1,5,"select",52),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Ro(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Uo(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function yo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function No(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Do(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function qo(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Oo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Jo(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Yo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Go(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Qo(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Fo(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ho(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Bo(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Po(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function jo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Vo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Ko(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,56),e.YNc(6,jo,6,3,"button",14),e.YNc(7,Vo,6,3,"button",15),e.TgZ(8,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function $o(n,s){1&n&&e._UZ(0,"mat-header-row")}const Wo=function(n){return{background:n}};function zo(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Wo,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const Xo=function(){return[5,10,20,100]};let en=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.dialog=c,this.tokenHelper=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.xyf;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.xyf);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(mo,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ro,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.mPJ),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-microservice-list"]],decls:93,vars:40,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,po,3,3,"button",4),e.YNc(6,_o,3,3,"button",5),e.YNc(7,fo,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,go,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,ho,6,3,"button",14),e.YNc(29,To,6,3,"button",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(37,"span"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-icon"),e._uU(41,"supervisor_account"),e.qZA()(),e.YNc(42,Co,4,3,"button",12),e.BQk(),e.ynx(43,17),e.TgZ(44,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(45,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(46,19),e.TgZ(47,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(48);return e.KtG(o.onTableSortData(c))}),e.ynx(49,22),e.YNc(50,Ao,2,1,"mat-header-cell",23),e.YNc(51,So,2,1,"mat-cell",24),e.BQk(),e.ynx(52,25),e.YNc(53,bo,2,1,"mat-header-cell",23),e.YNc(54,ko,4,5,"mat-cell",24),e.BQk(),e.ynx(55,26),e.YNc(56,wo,2,1,"mat-header-cell",23),e.YNc(57,Mo,4,5,"mat-cell",24),e.BQk(),e.ynx(58,27),e.YNc(59,Zo,2,1,"mat-header-cell",23),e.YNc(60,Io,2,1,"mat-cell",24),e.BQk(),e.ynx(61,28),e.YNc(62,Eo,2,1,"mat-header-cell",23),e.YNc(63,Lo,5,7,"mat-cell",29),e.BQk(),e.ynx(64,30),e.YNc(65,Ro,2,1,"mat-header-cell",23),e.YNc(66,Uo,3,4,"mat-cell",24),e.BQk(),e.ynx(67,31),e.YNc(68,yo,2,1,"mat-header-cell",23),e.YNc(69,No,3,4,"mat-cell",24),e.BQk(),e.ynx(70,32),e.YNc(71,Do,2,1,"mat-header-cell",23),e.YNc(72,qo,3,3,"mat-cell",24),e.BQk(),e.ynx(73,33),e.YNc(74,Oo,2,1,"mat-header-cell",23),e.YNc(75,Jo,3,3,"mat-cell",24),e.BQk(),e.ynx(76,34),e.YNc(77,Yo,2,1,"mat-header-cell",23),e.YNc(78,Go,3,3,"mat-cell",24),e.BQk(),e.ynx(79,35),e.YNc(80,Qo,2,1,"mat-header-cell",23),e.YNc(81,Fo,2,1,"mat-cell",24),e.BQk(),e.ynx(82,36),e.YNc(83,Ho,2,1,"mat-header-cell",23),e.YNc(84,Bo,2,1,"mat-cell",24),e.BQk(),e.ynx(85,37),e.YNc(86,Po,3,3,"mat-header-cell",38),e.YNc(87,Ko,20,9,"mat-cell",39),e.BQk(),e.YNc(88,$o,1,0,"mat-header-row",40),e.YNc(89,zo,1,3,"mat-row",41),e.qZA(),e.BQk(),e.ynx(90,42),e.TgZ(91,"mat-paginator",43,44),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,27,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(15,29,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,31,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,33,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(33,35,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(39,37,"ACTION.USER")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(39,Xo)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,D.Nt,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,X.G,_.Ov,f.X$,V.B,K.J,$.Y,ee.G,te.Y,z.r],encapsulation:2})}return n})();var ce=p(1379),oe=p(3704),v=p(8659),de=p(8033),ue=p(1797);const tn=["vform"];function on(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",42),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nn(n,s){if(1&n&&(e.TgZ(0,"mat-option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function sn(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function an(n,s){if(1&n&&(e.TgZ(0,"mat-option",43),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ln(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function rn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.userAccessAdminAllowToAllData=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToAllData&&t.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function cn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.userAccessAdminAllowToProfessionalData=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToProfessionalData&&t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function dn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.rememberOnDevice=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.rememberOnDevice)("disabled",!(null!=t.fieldsInfo.rememberOnDevice&&t.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function un(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function mn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function pn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function _n(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function fn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function gn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function hn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.tokenExpireDate=null)}),e._uU(1,"close"),e.qZA()}}function Tn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.tokenExpireDate=o)}),e.qZA(),e.YNc(4,hn,2,0,"mat-icon",23),e._UZ(5,"mat-datepicker-toggle",49)(6,"mat-datepicker",50,51),e.qZA()}if(2&n){const t=e.MAs(7),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",i.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("ngIf",i.dataModel.tokenExpireDate&&(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.accessEditField)),e.xp6(1),e.Q6J("for",t)}}function Cn(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",52),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function An(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",54),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormSubmit())}),e._UZ(6,"i",56),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(12);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Sn=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserService;cmsToastrService;tokenHelper;publicHelper;cdr;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserService=a,this.cmsToastrService=l,this.tokenHelper=c,this.publicHelper=g,this.cdr=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.amQ;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(r.dR.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorEdit(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.O0p),e.Y36(k.e),e.Y36(w.v),e.Y36(M.i),e.Y36(e.sBO),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(tn,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:102,vars:55,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.tokenExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(13,"div",6),e._uU(14),e.qZA(),e.TgZ(15,"div",7),e.YNc(16,on,1,5,"app-cms-enum-record-status-selector",8),e.TgZ(17,"mat-form-field",9)(18,"mat-select",10,11),e.NdJ("ngModelChange",function(l){return o.dataModel.linkMemberId=l}),e.ALo(20,"translate"),e.YNc(21,nn,2,2,"mat-option",12),e.qZA(),e.TgZ(22,"mat-hint",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,sn,5,3,"mat-error",14),e.qZA(),e.TgZ(26,"mat-form-field",9)(27,"mat-select",15,16),e.NdJ("ngModelChange",function(l){return o.dataModel.userAccessAreaType=l}),e.ALo(29,"translate"),e.YNc(30,an,2,2,"mat-option",12),e.qZA(),e.TgZ(31,"mat-hint",13),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.YNc(34,ln,5,3,"mat-error",14),e.qZA(),e.TgZ(35,"app-cms-site-selector",17),e.NdJ("optionChange",function(l){return o.onActionSiteSelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(36,"app-cms-user-selector",17),e.NdJ("optionChange",function(l){return o.onActionUserSelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(37,"app-cms-member-selector",17),e.NdJ("optionChange",function(l){return o.onActionMemberSelect(l)})("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(38,"div",9),e.YNc(39,rn,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(40,"div",9),e.YNc(41,cn,2,3,"mat-slide-toggle",19),e.qZA(),e.TgZ(42,"div",9),e.YNc(43,dn,2,3,"mat-slide-toggle",20),e.qZA(),e.TgZ(44,"mat-form-field",9)(45,"mat-label"),e._uU(46,"BrowserLanguage"),e.qZA(),e.TgZ(47,"input",21,22),e.NdJ("ngModelChange",function(l){return o.dataModel.browserLanguage=l}),e.qZA(),e.YNc(49,un,2,0,"mat-icon",23),e.TgZ(50,"mat-icon",24),e._uU(51,"mode_edit"),e.qZA()(),e.TgZ(52,"mat-form-field",9)(53,"mat-label"),e._uU(54,"UserLanguage"),e.qZA(),e.TgZ(55,"input",25,26),e.NdJ("ngModelChange",function(l){return o.dataModel.userLanguage=l}),e.qZA(),e.YNc(57,mn,2,0,"mat-icon",23),e.TgZ(58,"mat-icon",24),e._uU(59,"mode_edit"),e.qZA()(),e.TgZ(60,"mat-form-field",9)(61,"mat-label"),e._uU(62,"DeviceClientMAC"),e.qZA(),e.TgZ(63,"input",27,28),e.NdJ("ngModelChange",function(l){return o.dataModel.deviceClientMAC=l}),e.qZA(),e.YNc(65,pn,2,0,"mat-icon",23),e.TgZ(66,"mat-icon",24),e._uU(67,"mode_edit"),e.qZA()(),e.TgZ(68,"mat-form-field",9)(69,"mat-label"),e._uU(70,"Token"),e.qZA(),e.TgZ(71,"input",29,30),e.NdJ("ngModelChange",function(l){return o.dataModel.token=l}),e.qZA(),e.YNc(73,_n,2,0,"mat-icon",23),e.TgZ(74,"mat-icon",24),e._uU(75,"mode_edit"),e.qZA()(),e.TgZ(76,"mat-form-field",9)(77,"mat-label"),e._uU(78,"LinkDeviceId"),e.qZA(),e.TgZ(79,"input",31,32),e.NdJ("ngModelChange",function(l){return o.dataModel.linkDeviceId=l}),e.qZA(),e.YNc(81,fn,2,0,"mat-icon",23),e.TgZ(82,"mat-icon",24),e._uU(83,"mode_edit"),e.qZA()(),e.TgZ(84,"mat-form-field",9)(85,"mat-label"),e._uU(86,"LinkApplicationId"),e.qZA(),e.TgZ(87,"input",33,34),e.NdJ("ngModelChange",function(l){return o.dataModel.linkApplicationId=l}),e.qZA(),e.YNc(89,gn,2,0,"mat-icon",23),e.TgZ(90,"mat-icon",24),e._uU(91,"mode_edit"),e.qZA()(),e.YNc(92,Tn,8,5,"mat-form-field",35),e.YNc(93,Cn,3,3,"div",14),e.qZA(),e.TgZ(94,"div",36)(95,"div",37)(96,"small",38),e._uU(97),e.qZA(),e.TgZ(98,"small",39),e._uU(99),e.qZA()()(),e.TgZ(100,"div",40),e.YNc(101,An,9,7,"div",41),e.qZA()()),2&i){const a=e.MAs(19),l=e.MAs(28);e.Q6J("options",o.loading),e.xp6(14),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(2),e.s9C("placeholder",e.lcZ(20,47,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(24,49,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(29,51,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(33,53,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",o.loading)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.sg,_.O5,A._Y,A.Fj,A.JJ,A.JL,A.Q7,A.On,A.F,ce.ey,oe.Mq,oe.hl,oe.nW,v.KE,v.hX,v.bx,v.TO,v.R9,U.Hw,D.Nt,de.gD,y.Rr,Y.P,W.t,G.g,ue.a,Z.O,f.X$,ie.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const bn=["vform"];function kn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let wn=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.amQ;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.O0p),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(bn,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,kn,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$]})}return n})();var Mn=p(5952);function Zn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function In(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function En(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function vn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function xn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function Ln(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function Rn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",12),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Un(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function yn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Nn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Dn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function qn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function On(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Jn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Yn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Gn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Qn=function(n){return{display:n}};function Fn(n,s){if(1&n&&e._UZ(0,"select",54),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Qn,t.id===i.tableRowSelected.id?"":"none"))}}function Hn(n,s){if(1&n&&(e.TgZ(0,"mat-cell",52),e.ALo(1,"statusCellClass"),e._UZ(2,"i",52),e.ALo(3,"statusIconClass"),e.YNc(4,Fn,1,5,"select",53),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Bn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Pn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function jn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Vn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Kn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $n(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",52),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Wn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function zn(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",52),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Xn(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ei(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",52),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function ti(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function oi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ni(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function ii(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.tokenExpireDate)," ")}}function si(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function ai(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function li(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function ri(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,57),e.YNc(6,ai,6,3,"button",15),e.YNc(7,li,6,3,"button",16),e.TgZ(8,"button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewMemberRow(a))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewDeviceRow(a))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function ci(n,s){1&n&&e._UZ(0,"mat-header-row")}const di=function(n){return{background:n}};function ui(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,di,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const mi=function(){return[5,10,20,100]};let ae=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;dialog;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.tokenHelper=c,this.dialog=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.amQ;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.amQ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(wn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Sn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.O0p),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(w.v),e.Y36(C.uw),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:106,vars:48,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e._uU(3," -------------------------------------- "),e.BQk(),e.GkF(4,3),e.ynx(5,4),e.YNc(6,Zn,3,3,"button",5),e.YNc(7,In,3,3,"button",6),e.YNc(8,En,3,3,"button",7),e.TgZ(9,"a",8)(10,"mat-slide-toggle",9),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"a",8)(14,"mat-slide-toggle",10),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(18,"mat-icon",12),e.ALo(19,"translate"),e._uU(20,"cloud_download"),e.qZA()(),e.TgZ(21,"button",11),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(22,"mat-icon",12),e.ALo(23,"translate"),e._uU(24,"refresh"),e.qZA()(),e.YNc(25,vn,3,3,"button",13),e.BQk(),e.ynx(26,14),e.TgZ(27,"h1"),e._uU(28),e.qZA(),e.YNc(29,xn,6,3,"button",15),e.YNc(30,Ln,6,3,"button",16),e.TgZ(31,"button",17),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"mat-icon"),e._uU(36,"web"),e.qZA()(),e.TgZ(37,"button",17),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(38,"span"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"button",17),e.NdJ("click",function(){return o.onActionbuttonViewMemberRow(o.tableRowSelected)}),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"mat-icon"),e._uU(48,"assignment_ind"),e.qZA()(),e.TgZ(49,"button",17),e.NdJ("click",function(){return o.onActionbuttonViewDeviceRow(o.tableRowSelected)}),e.TgZ(50,"span"),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"mat-icon"),e._uU(54,"device_unknown"),e.qZA()(),e.YNc(55,Rn,4,3,"button",13),e.BQk(),e.ynx(56,18),e.TgZ(57,"app-cms-search-list",19),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(58,"app-cms-statist-list",19),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(59,20),e.TgZ(60,"mat-table",21,22),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(61);return e.KtG(o.onTableSortData(c))}),e.ynx(62,23),e.YNc(63,Un,2,1,"mat-header-cell",24),e.YNc(64,yn,2,1,"mat-cell",25),e.BQk(),e.ynx(65,26),e.YNc(66,Nn,2,1,"mat-header-cell",24),e.YNc(67,Dn,4,5,"mat-cell",25),e.BQk(),e.ynx(68,27),e.YNc(69,qn,2,1,"mat-header-cell",24),e.YNc(70,On,4,5,"mat-cell",25),e.BQk(),e.ynx(71,28),e.YNc(72,Jn,2,1,"mat-header-cell",24),e.YNc(73,Yn,2,1,"mat-cell",25),e.BQk(),e.ynx(74,29),e.YNc(75,Gn,2,1,"mat-header-cell",24),e.YNc(76,Hn,5,7,"mat-cell",30),e.BQk(),e.ynx(77,31),e.YNc(78,Bn,2,1,"mat-header-cell",24),e.YNc(79,Pn,3,4,"mat-cell",25),e.BQk(),e.ynx(80,32),e.YNc(81,jn,2,1,"mat-header-cell",24),e.YNc(82,Vn,3,4,"mat-cell",25),e.BQk(),e.ynx(83,33),e.YNc(84,Kn,2,1,"mat-header-cell",24),e.YNc(85,$n,3,3,"mat-cell",25),e.BQk(),e.ynx(86,34),e.YNc(87,Wn,2,1,"mat-header-cell",24),e.YNc(88,zn,3,3,"mat-cell",25),e.BQk(),e.ynx(89,35),e.YNc(90,Xn,2,1,"mat-header-cell",24),e.YNc(91,ei,3,3,"mat-cell",25),e.BQk(),e.ynx(92,36),e.YNc(93,ti,2,1,"mat-header-cell",24),e.YNc(94,oi,2,1,"mat-cell",25),e.BQk(),e.ynx(95,37),e.YNc(96,ni,2,1,"mat-header-cell",24),e.YNc(97,ii,2,1,"mat-cell",25),e.BQk(),e.ynx(98,38),e.YNc(99,si,3,3,"mat-header-cell",39),e.YNc(100,ri,32,15,"mat-cell",40),e.BQk(),e.YNc(101,ci,1,0,"mat-header-row",41),e.YNc(102,ui,1,3,"mat-row",42),e.qZA(),e.BQk(),e.ynx(103,43),e.TgZ(104,"mat-paginator",44,45),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("Key","report.user.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(12,31,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(16,33,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(19,35,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(23,37,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(34,39,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(40,41,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(46,43,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(52,45,"ACTION.DEVICE")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(47,mi)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,D.Nt,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,Mn.v,j.Z,X.G,_.Ov,f.X$,V.B,K.J,$.Y,ee.G,te.Y,z.r],encapsulation:2})}return n})();const pi=["vform"];function _i(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.usedUsername=null)}),e._uU(1,"close"),e.qZA()}}function fi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.usedPwd=null)}),e._uU(1,"close"),e.qZA()}}function gi(n,s){if(1&n&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function hi(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Ti(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function Ci(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function Ai(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function Si(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",33),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function bi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",35),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ki=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserBadLoginService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserBadLoginService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.u1Z;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(r.dR.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Q0Y),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(pi,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:75,vars:38,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[1,"ntk-full-width"],["matInput","","name","dataModel.usedUsername","type","text","placeholder","UsedUsername",3,"ngModel","ngModelChange"],["UsedUsername",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.usedPwd","type","text","placeholder","UsedPwd",3,"ngModel","ngModelChange"],["UsedPwd",""],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),e._uU(16,"UsedUsername"),e.qZA(),e.TgZ(17,"input",7,8),e.NdJ("ngModelChange",function(l){return o.dataModel.usedUsername=l}),e.qZA(),e.YNc(19,_i,2,0,"mat-icon",9),e.TgZ(20,"mat-icon",10),e._uU(21,"mode_edit"),e.qZA()(),e.TgZ(22,"mat-form-field",6)(23,"mat-label"),e._uU(24,"UsedPwd"),e.qZA(),e.TgZ(25,"input",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.usedPwd=l}),e.qZA(),e.YNc(27,fi,2,0,"mat-icon",9),e.TgZ(28,"mat-icon",10),e._uU(29,"mode_edit"),e.qZA()(),e.TgZ(30,"mat-form-field",6)(31,"mat-select",13,14),e.NdJ("ngModelChange",function(l){return o.dataModel.userAccessAreaType=l}),e.ALo(33,"translate"),e.YNc(34,gi,2,2,"mat-option",15),e.qZA(),e.TgZ(35,"mat-hint",16),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.YNc(38,hi,5,3,"mat-error",17),e.qZA(),e.TgZ(39,"app-cms-site-selector",18),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(40,"app-cms-user-selector",18),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(41,"app-cms-member-selector",18),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(42,"mat-form-field",6)(43,"mat-label"),e._uU(44,"LinkDeviceId"),e.qZA(),e.TgZ(45,"input",19,20),e.NdJ("ngModelChange",function(l){return o.dataModel.linkDeviceId=l}),e.qZA(),e.YNc(47,Ti,2,0,"mat-icon",9),e.TgZ(48,"mat-icon",10),e._uU(49,"mode_edit"),e.qZA()(),e.TgZ(50,"mat-form-field",6)(51,"mat-label"),e._uU(52,"LinkApplicationId"),e.qZA(),e.TgZ(53,"input",21,22),e.NdJ("ngModelChange",function(l){return o.dataModel.linkApplicationId=l}),e.qZA(),e.YNc(55,Ci,2,0,"mat-icon",9),e.TgZ(56,"mat-icon",10),e._uU(57,"mode_edit"),e.qZA()(),e.TgZ(58,"mat-form-field",6)(59,"mat-label"),e._uU(60,"DeviceClientMAC"),e.qZA(),e.TgZ(61,"input",23,24),e.NdJ("ngModelChange",function(l){return o.dataModel.deviceClientMAC=l}),e.qZA(),e.YNc(63,Ai,2,0,"mat-icon",9),e.TgZ(64,"mat-icon",10),e._uU(65,"mode_edit"),e.qZA()(),e.YNc(66,Si,3,3,"div",17),e.qZA(),e.TgZ(67,"div",25)(68,"div",26)(69,"small",27),e._uU(70),e.qZA(),e.TgZ(71,"small",28),e._uU(72),e.qZA()()(),e.TgZ(73,"div",29),e.YNc(74,bi,5,3,"div",30),e.qZA()),2&i){const a=e.MAs(32);e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(5),e.Q6J("ngModel",o.dataModel.usedUsername),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedUsername),e.xp6(6),e.Q6J("ngModel",o.dataModel.usedPwd),e.xp6(2),e.Q6J("ngIf",o.dataModel.usedPwd),e.xp6(4),e.s9C("placeholder",e.lcZ(33,34,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(37,36,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(4),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(3),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.sg,_.O5,A.Fj,A.JJ,A.Q7,A.On,ce.ey,v.KE,v.hX,v.bx,v.TO,v.R9,U.Hw,D.Nt,de.gD,Y.P,G.g,ue.a,Z.O,f.X$,ie.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const wi=["vform"];function Mi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Zi=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserBadLoginService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserBadLoginService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.u1Z;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Q0Y),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(wi,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Mi,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$]})}return n})();function Ii(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Ei(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function vi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function xi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Li(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function Ri(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function Ui(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function yi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ni(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Di(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function qi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Oi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ji(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Yi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Gi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Qi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Fi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Hi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.usedUsername?null:t.fieldsInfo.usedUsername.fieldTitle," ")}}function Bi(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.usedUsername," ")}}function Pi(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",42),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ji(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Vi(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ki(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function $i(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function Wi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",43)(1,"button",44)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,45),e.YNc(6,Ki,6,3,"button",14),e.YNc(7,$i,6,3,"button",15),e.TgZ(8,"button",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewMemberRow(a))}),e.TgZ(21,"mat-icon"),e._uU(22,"assignment_ind"),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"button",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewDeviceRow(a))}),e.TgZ(27,"mat-icon"),e._uU(28,"device_unknown"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,7,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,9,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(25,11,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(31,13,"ACTION.DEVICE"))}}function zi(n,s){1&n&&e._UZ(0,"mat-header-row")}const Xi=function(n){return{background:n}};function es(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Xi,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const ts=function(){return[5,10,20,100]};let le=(()=>{class n{coreEnumService;contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x,d){if(this.coreEnumService=t,this.contentService=i,this.publicHelper=o,this.cmsToastrService=a,this.cmsConfirmationDialogService=l,this.activatedRoute=c,this.dialog=g,this.tokenHelper=h,this.cdr=T,this.translate=x,this.router=d,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const L=new r.AO3;L.propertyName="LinkCmsSiteId",L.value=this.requestLinkSiteId,this.filteModelContent.filters.push(L)}if(this.requestLinkUserId>0){const L=new r.AO3;L.propertyName="LinkUserId",L.value=this.requestLinkUserId,this.filteModelContent.filters.push(L)}if(this.requestLinkDeviceId>0){const L=new r.AO3;L.propertyName="LinkDeviceId",L.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(L)}this.optionsSearch.parentMethods={onSubmit:L=>this.onSubmitOptionsSearch(L)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.u1Z;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.u1Z);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Zi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ki,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.FLW),e.Y36(r.Q0Y),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:90,vars:46,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],[3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Ii,3,3,"button",4),e.YNc(6,Ei,3,3,"button",5),e.YNc(7,vi,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,xi,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,Li,6,3,"button",14),e.YNc(29,Ri,6,3,"button",15),e.TgZ(30,"button",9),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"button",9),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(37,"span"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-icon"),e._uU(41,"supervisor_account"),e.qZA()(),e.TgZ(42,"button",9),e.NdJ("click",function(){return o.onActionbuttonViewMemberRow(o.tableRowSelected)}),e.TgZ(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"mat-icon"),e._uU(47,"assignment_ind"),e.qZA()(),e.TgZ(48,"button",9),e.NdJ("click",function(){return o.onActionbuttonViewDeviceRow(o.tableRowSelected)}),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"mat-icon"),e._uU(53,"device_unknown"),e.qZA()(),e.YNc(54,Ui,4,3,"button",12),e.BQk(),e.ynx(55,16),e.TgZ(56,"app-cms-search-list",17),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(57,"app-cms-statist-list",17),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(58,18),e.TgZ(59,"mat-table",19,20),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(60);return e.KtG(o.onTableSortData(c))}),e.ynx(61,21),e.YNc(62,yi,2,1,"mat-header-cell",22),e.YNc(63,Ni,2,1,"mat-cell",23),e.BQk(),e.ynx(64,24),e.YNc(65,Di,2,1,"mat-header-cell",22),e.YNc(66,qi,4,5,"mat-cell",23),e.BQk(),e.ynx(67,25),e.YNc(68,Oi,2,1,"mat-header-cell",22),e.YNc(69,Ji,4,5,"mat-cell",23),e.BQk(),e.ynx(70,26),e.YNc(71,Yi,2,1,"mat-header-cell",22),e.YNc(72,Gi,2,1,"mat-cell",23),e.BQk(),e.ynx(73,27),e.YNc(74,Qi,2,1,"mat-header-cell",22),e.YNc(75,Fi,3,4,"mat-cell",23),e.BQk(),e.ynx(76,28),e.YNc(77,Hi,2,1,"mat-header-cell",22),e.YNc(78,Bi,2,1,"mat-cell",23),e.BQk(),e.ynx(79,29),e.YNc(80,Pi,2,1,"mat-header-cell",22),e.YNc(81,ji,2,1,"mat-cell",23),e.BQk(),e.ynx(82,30),e.YNc(83,Vi,3,3,"mat-header-cell",31),e.YNc(84,Wi,32,15,"mat-cell",32),e.BQk(),e.YNc(85,zi,1,0,"mat-header-row",33),e.YNc(86,es,1,3,"mat-row",34),e.qZA(),e.BQk(),e.ynx(87,35),e.TgZ(88,"mat-paginator",36,37),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,29,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(15,31,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,33,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,35,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(33,37,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(39,39,"ACTION.USER")),e.xp6(6),e.Oqu(e.lcZ(45,41,"ACTION.MEMBER")),e.xp6(6),e.Oqu(e.lcZ(51,43,"ACTION.DEVICE")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(26),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(45,ts)))},dependencies:[_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,_.Ov,f.X$,V.B,K.J,$.Y],encapsulation:2})}return n})();const os=["vform"];function ns(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",40),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function is(n,s){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ss(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function as(n,s){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.description)}}function ls(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function rs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",42),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.userAccessAdminAllowToAllData=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToAllData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToAllData&&t.fieldsInfo.userAccessAdminAllowToAllData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function cs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",43),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.userAccessAdminAllowToProfessionalData=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)("disabled",!(null!=t.fieldsInfo.userAccessAdminAllowToProfessionalData&&t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function ds(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.rememberOnDevice=o)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.dataModel.rememberOnDevice)("disabled",!(null!=t.fieldsInfo.rememberOnDevice&&t.fieldsInfo.rememberOnDevice.accessEditField)),e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function us(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.browserLanguage="")}),e._uU(1,"close"),e.qZA()}}function ms(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.userLanguage=null)}),e._uU(1,"close"),e.qZA()}}function ps(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkDeviceId=null)}),e._uU(1,"close"),e.qZA()}}function _s(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.linkApplicationId=null)}),e._uU(1,"close"),e.qZA()}}function fs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.deviceClientMAC=null)}),e._uU(1,"close"),e.qZA()}}function gs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.dataModel.token=null)}),e._uU(1,"close"),e.qZA()}}function hs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.dataModel.tokenExpireDate=null)}),e._uU(1,"close"),e.qZA()}}function Ts(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",7)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.tokenExpireDate=o)}),e.qZA(),e.YNc(4,hs,2,0,"mat-icon",21),e._UZ(5,"mat-datepicker-toggle",47)(6,"mat-datepicker",48,49),e.qZA()}if(2&n){const t=e.MAs(7),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",i.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("ngIf",i.dataModel.tokenExpireDate&&(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.accessEditField)),e.xp6(1),e.Q6J("for",t)}}function Cs(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",50),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function As(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",52),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ss=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserLogService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.nZM;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(r.dR.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.AMA),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(os,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:100,vars:55,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.linkMemberId","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["LinkMemberId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],[4,"ngIf"],["name","dataModel.userAccessAreaType","required","",3,"placeholder","ngModel","panelClass","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["matInput","","name","dataModel.browserLanguage","type","text","placeholder","BrowserLanguage",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix",""],["matInput","","name","dataModel.userLanguage","type","text","placeholder","UserLanguage",3,"ngModel","ngModelChange"],["UserLanguage",""],["matInput","","name","dataModel.linkDeviceId","type","text","placeholder","LinkDeviceId",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["matInput","","name","dataModel.linkApplicationId","type","text","placeholder","LinkApplicationId",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["matInput","","name","dataModel.deviceClientMAC","type","text","placeholder","DeviceClientMAC",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["matInput","","name","dataModel.token","type","text","placeholder","Token",3,"ngModel","ngModelChange"],["Token",""],["class","ntk-full-width",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"value"],["name","dataModel.userAccessAdminAllowToAllData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.userAccessAdminAllowToProfessionalData",3,"ngModel","disabled","ngModelChange"],["name","dataModel.rememberOnDevice",3,"ngModel","disabled","ngModelChange"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","name","dataModel.tokenExpireDate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,ns,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"mat-form-field",7)(16,"mat-select",8,9),e.NdJ("ngModelChange",function(l){return o.dataModel.linkMemberId=l}),e.ALo(18,"translate"),e.YNc(19,is,2,2,"mat-option",10),e.qZA(),e.TgZ(20,"mat-hint",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.YNc(23,ss,5,3,"mat-error",12),e.qZA(),e.TgZ(24,"mat-form-field",7)(25,"mat-select",13,14),e.NdJ("ngModelChange",function(l){return o.dataModel.userAccessAreaType=l}),e.ALo(27,"translate"),e.YNc(28,as,2,2,"mat-option",10),e.qZA(),e.TgZ(29,"mat-hint",11),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,ls,5,3,"mat-error",12),e.qZA(),e.TgZ(33,"app-cms-site-selector",15),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(34,"app-cms-user-selector",15),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(35,"app-cms-member-selector",15),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(36,"div",7),e.YNc(37,rs,2,3,"mat-slide-toggle",16),e.qZA(),e.TgZ(38,"div",7),e.YNc(39,cs,2,3,"mat-slide-toggle",17),e.qZA(),e.TgZ(40,"div",7),e.YNc(41,ds,2,3,"mat-slide-toggle",18),e.qZA(),e.TgZ(42,"mat-form-field",7)(43,"mat-label"),e._uU(44,"BrowserLanguage"),e.qZA(),e.TgZ(45,"input",19,20),e.NdJ("ngModelChange",function(l){return o.dataModel.browserLanguage=l}),e.qZA(),e.YNc(47,us,2,0,"mat-icon",21),e.TgZ(48,"mat-icon",22),e._uU(49,"mode_edit"),e.qZA()(),e.TgZ(50,"mat-form-field",7)(51,"mat-label"),e._uU(52,"UserLanguage"),e.qZA(),e.TgZ(53,"input",23,24),e.NdJ("ngModelChange",function(l){return o.dataModel.userLanguage=l}),e.qZA(),e.YNc(55,ms,2,0,"mat-icon",21),e.TgZ(56,"mat-icon",22),e._uU(57,"mode_edit"),e.qZA()(),e.TgZ(58,"mat-form-field",7)(59,"mat-label"),e._uU(60,"LinkDeviceId"),e.qZA(),e.TgZ(61,"input",25,26),e.NdJ("ngModelChange",function(l){return o.dataModel.linkDeviceId=l}),e.qZA(),e.YNc(63,ps,2,0,"mat-icon",21),e.TgZ(64,"mat-icon",22),e._uU(65,"mode_edit"),e.qZA()(),e.TgZ(66,"mat-form-field",7)(67,"mat-label"),e._uU(68,"LinkApplicationId"),e.qZA(),e.TgZ(69,"input",27,28),e.NdJ("ngModelChange",function(l){return o.dataModel.linkApplicationId=l}),e.qZA(),e.YNc(71,_s,2,0,"mat-icon",21),e.TgZ(72,"mat-icon",22),e._uU(73,"mode_edit"),e.qZA()(),e.TgZ(74,"mat-form-field",7)(75,"mat-label"),e._uU(76,"DeviceClientMAC"),e.qZA(),e.TgZ(77,"input",29,30),e.NdJ("ngModelChange",function(l){return o.dataModel.deviceClientMAC=l}),e.qZA(),e.YNc(79,fs,2,0,"mat-icon",21),e.TgZ(80,"mat-icon",22),e._uU(81,"mode_edit"),e.qZA()(),e.TgZ(82,"mat-form-field",7)(83,"mat-label"),e._uU(84,"Token"),e.qZA(),e.TgZ(85,"input",31,32),e.NdJ("ngModelChange",function(l){return o.dataModel.token=l}),e.qZA(),e.YNc(87,gs,2,0,"mat-icon",21),e.TgZ(88,"mat-icon",22),e._uU(89,"mode_edit"),e.qZA()(),e.YNc(90,Ts,8,5,"mat-form-field",33),e.YNc(91,Cs,3,3,"div",12),e.qZA(),e.TgZ(92,"div",34)(93,"div",35)(94,"small",36),e._uU(95),e.qZA(),e.TgZ(96,"small",37),e._uU(97),e.qZA()()(),e.TgZ(98,"div",38),e.YNc(99,As,5,3,"div",39),e.qZA()),2&i){const a=e.MAs(17),l=e.MAs(26);e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(2),e.s9C("placeholder",e.lcZ(18,47,"TITLE.Status")),e.MGl("panelClass","LinkMemberId-",o.dataModel.linkMemberId,""),e.Q6J("ngModel",o.dataModel.linkMemberId),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(22,49,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(27,51,"TITLE.Status")),e.MGl("panelClass","UserAccessAreaType-",o.dataModel.userAccessAreaType,""),e.Q6J("ngModel",o.dataModel.userAccessAreaType),e.xp6(3),e.Q6J("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(31,53,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.Member")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",o.dataModel.browserLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.browserLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.userLanguage),e.xp6(2),e.Q6J("ngIf",o.dataModel.userLanguage),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkDeviceId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkDeviceId),e.xp6(6),e.Q6J("ngModel",o.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",o.dataModel.linkApplicationId),e.xp6(6),e.Q6J("ngModel",o.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",o.dataModel.deviceClientMAC),e.xp6(6),e.Q6J("ngModel",o.dataModel.token),e.xp6(2),e.Q6J("ngIf",o.dataModel.token),e.xp6(3),e.Q6J("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[_.sg,_.O5,A.Fj,A.JJ,A.Q7,A.On,ce.ey,oe.Mq,oe.hl,oe.nW,v.KE,v.hX,v.bx,v.TO,v.R9,U.Hw,D.Nt,de.gD,y.Rr,Y.P,W.t,G.g,ue.a,Z.O,f.X$,ie.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const bs=["vform"];function ks(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ws=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserLogService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.nZM;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.AMA),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(bs,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ks,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$]})}return n})();function Ms(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Zs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Is(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Es(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function vs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function xs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function Ls(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewSiteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"web"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.SITE")))}function Rs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewUserRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"supervisor_account"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.USER")))}function Us(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewDeviceRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"device_unknown"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DEVICE")))}function ys(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ns(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ds(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function qs(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," ")}}function Os(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Js(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ys(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Gs(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Qs(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Fs(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Hs(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Bs(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ps(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function js(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Vs(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ks(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $s(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Ws(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function zs(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Xs(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ea(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",47),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function ta(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function oa(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function na(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function ia(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function sa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function aa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonViewSiteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"web"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.SITE")))}function la(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonViewUserRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"supervisor_account"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.USER")))}function ra(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonViewMemberRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"assignment_ind"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.MEMBER")))}function ca(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonViewDeviceRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"device_unknown"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DEVICE")))}function da(n,s){if(1&n&&(e.TgZ(0,"mat-cell",48)(1,"button",49)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,50),e.YNc(6,ia,6,3,"button",14),e.YNc(7,sa,6,3,"button",15),e.YNc(8,aa,6,3,"button",14),e.YNc(9,la,6,3,"button",14),e.YNc(10,ra,6,3,"button",14),e.YNc(11,ca,6,3,"button",14),e.qZA()()),2&n){const t=s.$implicit,i=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",t.linkSiteId>0),e.xp6(1),e.Q6J("ngIf",t.linkUserId>0),e.xp6(1),e.Q6J("ngIf",t.linkMemberUserId>0),e.xp6(1),e.Q6J("ngIf",(null==t.deviceClientMAC?null:t.deviceClientMAC.length)>0)}}function ua(n,s){1&n&&e._UZ(0,"mat-header-row")}const ma=function(n){return{background:n}};function pa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,ma,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const _a=function(){return[5,10,20,100]};let re=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.dialog=c,this.tokenHelper=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.nZM;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.nZM);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ws,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ss,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"ServiceDelete";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.AMA),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-user-list"]],decls:84,vars:40,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],[3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Ms,3,3,"button",4),e.YNc(6,Zs,3,3,"button",5),e.YNc(7,Is,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,Es,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,vs,6,3,"button",14),e.YNc(29,xs,6,3,"button",15),e.YNc(30,Ls,6,3,"button",14),e.YNc(31,Rs,6,3,"button",14),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.YNc(35,Us,6,3,"button",14),e.YNc(36,ys,4,3,"button",12),e.BQk(),e.ynx(37,16),e.TgZ(38,"app-cms-search-list",17),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(39,"app-cms-statist-list",17),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(40,18),e.TgZ(41,"mat-table",19,20),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(42);return e.KtG(o.onTableSortData(c))}),e.ynx(43,21),e.YNc(44,Ns,2,1,"mat-header-cell",22),e.YNc(45,Ds,2,1,"mat-cell",23),e.BQk(),e.ynx(46,24),e.YNc(47,qs,2,1,"mat-header-cell",22),e.YNc(48,Os,2,1,"mat-cell",23),e.BQk(),e.ynx(49,25),e.YNc(50,Js,2,1,"mat-header-cell",22),e.YNc(51,Ys,4,5,"mat-cell",23),e.BQk(),e.ynx(52,26),e.YNc(53,Gs,2,1,"mat-header-cell",22),e.YNc(54,Qs,4,5,"mat-cell",23),e.BQk(),e.ynx(55,27),e.YNc(56,Fs,2,1,"mat-header-cell",22),e.YNc(57,Hs,2,1,"mat-cell",23),e.BQk(),e.ynx(58,28),e.YNc(59,Bs,2,1,"mat-header-cell",22),e.YNc(60,Ps,3,4,"mat-cell",23),e.BQk(),e.ynx(61,29),e.YNc(62,js,2,1,"mat-header-cell",22),e.YNc(63,Vs,3,4,"mat-cell",23),e.BQk(),e.ynx(64,30),e.YNc(65,Ks,2,1,"mat-header-cell",22),e.YNc(66,$s,3,3,"mat-cell",23),e.BQk(),e.ynx(67,31),e.YNc(68,Ws,2,1,"mat-header-cell",22),e.YNc(69,zs,3,3,"mat-cell",23),e.BQk(),e.ynx(70,32),e.YNc(71,Xs,2,1,"mat-header-cell",22),e.YNc(72,ea,3,3,"mat-cell",23),e.BQk(),e.ynx(73,33),e.YNc(74,ta,2,1,"mat-header-cell",22),e.YNc(75,oa,2,1,"mat-cell",23),e.BQk(),e.ynx(76,34),e.YNc(77,na,3,3,"mat-header-cell",35),e.YNc(78,da,12,7,"mat-cell",36),e.BQk(),e.YNc(79,ua,1,0,"mat-header-row",37),e.YNc(80,pa,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(81,39),e.TgZ(82,"mat-paginator",40,41),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,29,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(15,31,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,33,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,35,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",o.tableRowSelected.linkSiteId>0),e.xp6(1),e.Q6J("ngIf",o.tableRowSelected.linkUserId>0),e.xp6(2),e.Oqu(e.lcZ(34,37,"ACTION.MEMBER")),e.xp6(2),e.Q6J("ngIf",(null==o.tableRowSelected.deviceClientMAC?null:o.tableRowSelected.deviceClientMAC.length)>0),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(39,_a)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,_.Ov,f.X$,V.B,K.J,$.Y,z.r],encapsulation:2})}return n})();const fa=["vform"];function ga(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",15),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ha(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",16),e.ALo(2,"prettyjson"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function Ta(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",18),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ca=(()=>{class n{data;dialogRef;coreEnumService;coreTokenNotificationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.zjJ;formGroup;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(r.dR.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Ozq),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(fa,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:26,vars:15,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"innerHTML"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,ga,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"app-cms-site-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-cms-user-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.YNc(17,ha,3,3,"div",8),e.qZA(),e.TgZ(18,"div",9)(19,"div",10)(20,"small",11),e._uU(21),e.qZA(),e.TgZ(22,"small",12),e._uU(23),e.qZA()()(),e.TgZ(24,"div",13),e.YNc(25,Ta,5,3,"div",14),e.qZA()),2&i&&(e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Y.P,W.t,G.g,Z.O,f.X$,ie.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Aa=["vform"];function Sa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ba=(()=>{class n{data;dialogRef;coreEnumService;coreTokenNotificationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.zjJ;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Ozq),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-notification-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(Aa,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Sa,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$]})}return n})();function ka(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function wa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Ma(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Za(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function Ia(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function Ea(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function va(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function xa(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function La(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ra(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ua(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function ya(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Na(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Da(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function qa(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Oa(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Ja=function(n){return{display:n}};function Ya(n,s){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Ja,t.id===i.tableRowSelected.id?"":"none"))}}function Ga(n,s){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,Ya,1,5,"select",52),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Qa(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Fa(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ha(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ba(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Pa(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ja(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Va(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ka(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function $a(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Wa(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function za(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Xa(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function el(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function tl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function ol(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function nl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function il(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function sl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,56),e.YNc(6,nl,6,3,"button",14),e.YNc(7,il,6,3,"button",15),e.TgZ(8,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function al(n,s){1&n&&e._UZ(0,"mat-header-row")}const ll=function(n){return{background:n}};function rl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,ll,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const cl=function(){return[5,10,20,100]};let dl=(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.dialog=c,this.tokenHelper=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.zjJ;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.zjJ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ba,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ca,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.Ozq),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-notification-list"]],decls:93,vars:40,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,ka,3,3,"button",4),e.YNc(6,wa,3,3,"button",5),e.YNc(7,Ma,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,Za,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,Ia,6,3,"button",14),e.YNc(29,Ea,6,3,"button",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(37,"span"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-icon"),e._uU(41,"supervisor_account"),e.qZA()(),e.YNc(42,va,4,3,"button",12),e.BQk(),e.ynx(43,17),e.TgZ(44,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(45,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(46,19),e.TgZ(47,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(48);return e.KtG(o.onTableSortData(c))}),e.ynx(49,22),e.YNc(50,xa,2,1,"mat-header-cell",23),e.YNc(51,La,2,1,"mat-cell",24),e.BQk(),e.ynx(52,25),e.YNc(53,Ra,2,1,"mat-header-cell",23),e.YNc(54,Ua,4,5,"mat-cell",24),e.BQk(),e.ynx(55,26),e.YNc(56,ya,2,1,"mat-header-cell",23),e.YNc(57,Na,4,5,"mat-cell",24),e.BQk(),e.ynx(58,27),e.YNc(59,Da,2,1,"mat-header-cell",23),e.YNc(60,qa,2,1,"mat-cell",24),e.BQk(),e.ynx(61,28),e.YNc(62,Oa,2,1,"mat-header-cell",23),e.YNc(63,Ga,5,7,"mat-cell",29),e.BQk(),e.ynx(64,30),e.YNc(65,Qa,2,1,"mat-header-cell",23),e.YNc(66,Fa,3,4,"mat-cell",24),e.BQk(),e.ynx(67,31),e.YNc(68,Ha,2,1,"mat-header-cell",23),e.YNc(69,Ba,3,4,"mat-cell",24),e.BQk(),e.ynx(70,32),e.YNc(71,Pa,2,1,"mat-header-cell",23),e.YNc(72,ja,3,3,"mat-cell",24),e.BQk(),e.ynx(73,33),e.YNc(74,Va,2,1,"mat-header-cell",23),e.YNc(75,Ka,3,3,"mat-cell",24),e.BQk(),e.ynx(76,34),e.YNc(77,$a,2,1,"mat-header-cell",23),e.YNc(78,Wa,3,3,"mat-cell",24),e.BQk(),e.ynx(79,35),e.YNc(80,za,2,1,"mat-header-cell",23),e.YNc(81,Xa,2,1,"mat-cell",24),e.BQk(),e.ynx(82,36),e.YNc(83,el,2,1,"mat-header-cell",23),e.YNc(84,tl,2,1,"mat-cell",24),e.BQk(),e.ynx(85,37),e.YNc(86,ol,3,3,"mat-header-cell",38),e.YNc(87,sl,20,9,"mat-cell",39),e.BQk(),e.YNc(88,al,1,0,"mat-header-row",40),e.YNc(89,rl,1,3,"mat-row",41),e.qZA(),e.BQk(),e.ynx(90,42),e.TgZ(91,"mat-paginator",43,44),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,27,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(15,29,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,31,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,33,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(33,35,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(39,37,"ACTION.USER")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(39,cl)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,D.Nt,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,X.G,_.Ov,f.X$,V.B,K.J,$.Y,ee.G,te.Y,z.r],encapsulation:2})}return n})();const ul=["vform"];function ml(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",14),e.NdJ("modelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",16),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let _l=(()=>{class n{data;dialogRef;coreEnumService;coreTokenNotificationLogService;cmsToastrService;publicHelper;cdr;tokenHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationLogService=a,this.cmsToastrService=l,this.publicHelper=c,this.cdr=g,this.tokenHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.VMP;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(r.dR.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.b9F),e.Y36(k.e),e.Y36(M.i),e.Y36(e.sBO),e.Y36(w.v),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(ul,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:25,vars:14,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA()()(),e.TgZ(11,"div",4),e._uU(12),e.qZA(),e.TgZ(13,"div",5),e.YNc(14,ml,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"app-cms-site-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA(),e.TgZ(16,"app-cms-user-selector",7),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.qZA()(),e.TgZ(17,"div",8)(18,"div",9)(19,"small",10),e._uU(20),e.qZA(),e.TgZ(21,"small",11),e._uU(22),e.qZA()()(),e.TgZ(23,"div",12),e.YNc(24,pl,5,3,"div",13),e.qZA()),2&i&&(e.Q6J("options",o.loading),e.xp6(12),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",o.translate.instant("TITLE.USER")),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Y.P,W.t,G.g,Z.O,f.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const fl=["vform"];function gl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let hl=(()=>{class n{data;dialogRef;coreEnumService;coreTokenNotificationLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,a,l,c,g,h,T){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationLogService=a,this.cmsToastrService=l,this.tokenHelper=c,this.cdr=g,this.publicHelper=h,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.VMP;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.b9F),e.Y36(k.e),e.Y36(w.v),e.Y36(e.sBO),e.Y36(M.i),e.Y36(f.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(fl,5),2&i){let a;e.iGM(a=e.CRH())&&(o.formGroup=a.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,gl,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[_.O5,Z.O,Q.v,f.X$],encapsulation:2})}return n})();function Tl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonViewRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.VIEW")))}function Cl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Al(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.DELETE")))}function Sl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.BACK")))}function bl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonEditRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"mode_edit"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.EDIT")))}function kl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionbuttonDeleteRow(o.tableRowSelected))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon"),e._uU(5,"delete_forever"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ACTION.DELETE")))}function wl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonPrintEntity(o.tableRowSelected))}),e.TgZ(1,"mat-icon",11),e.ALo(2,"translate"),e._uU(3,"print"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.PRINT")))}function Ml(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Zl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Il(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function El(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function vl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function xl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Ll(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Rl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Ul(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const yl=function(n){return{display:n}};function Nl(n,s){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,yl,t.id===i.tableRowSelected.id?"":"none"))}}function Dl(n,s){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,Nl,1,5,"select",52),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function ql(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ol(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Jl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Yl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Gl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ql(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Fl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Hl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Bl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Pl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",51),e.ALo(2,"boolclass"),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function jl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Vl(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Kl(n,s){if(1&n&&(e.TgZ(0,"mat-header-cell",50),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function $l(n,s){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Wl(n,s){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function zl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonEditRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"mode_edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.EDIT")))}function Xl(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onActionbuttonDeleteRow(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ACTION.DELETE")))}function er(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,56),e.YNc(6,zl,6,3,"button",14),e.YNc(7,Xl,6,3,"button",15),e.TgZ(8,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewSiteRow(a))}),e.TgZ(9,"mat-icon"),e._uU(10,"web"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionbuttonViewUserRow(a))}),e.TgZ(15,"mat-icon"),e._uU(16,"supervisor_account"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",i.dataModelResult.access.accessDeleteRow),e.xp6(5),e.Oqu(e.lcZ(13,5,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(19,7,"ACTION.USER"))}}function tr(n,s){1&n&&e._UZ(0,"mat-header-row")}const or=function(n){return{background:n}};function nr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(a))}),e.qZA()}if(2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,or,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const ir=function(){return[5,10,20,100]},sr=[{path:"",component:rt,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:lt,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:en,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:no,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:dl,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:(()=>{class n{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,a,l,c,g,h,T,x){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=a,this.activatedRoute=l,this.dialog=c,this.tokenHelper=g,this.cdr=h,this.translate=T,this.router=x,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new R.dj;optionsStatist=new q.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.VMP;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate","Action"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.VMP);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.loading.Stop(t)},error:o=>{this.cmsToastrService.typeError(o),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(hl,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(_l,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const a=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(a)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),o=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,o).then(a=>{if(a){const l=this.constructor.name+"main";this.loading.Start(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(l)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(l)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}});const o=JSON.parse(JSON.stringify(this.filteModelContent)),a=new r.AO3;a.propertyName="RecordStatus",a.value=r.Anr.Available,o.filters.push(a),this.contentService.ServiceGetCount(o).subscribe({next:l=>{l.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),l.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(i)},error:l=>{this.cmsToastrService.typeError(l),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(J.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(o=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(O.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(a=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(r.b9F),e.Y36(M.i),e.Y36(k.e),e.Y36(N.s),e.Y36(S.gz),e.Y36(C.uw),e.Y36(w.v),e.Y36(e.sBO),e.Y36(f.sK),e.Y36(S.F0))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coretoken-notificationlog-list"]],decls:93,vars:40,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay"],["cms-tree",""],["cms-header",""],["cms-action",""],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-11px",3,"title"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-action-row",""],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.YNc(5,Tl,3,3,"button",4),e.YNc(6,Cl,3,3,"button",5),e.YNc(7,Al,3,3,"button",6),e.TgZ(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return o.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return o.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){return o.onActionbuttonExport()}),e.TgZ(17,"mat-icon",11),e.ALo(18,"translate"),e._uU(19,"cloud_download"),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return o.onActionbuttonReload()}),e.TgZ(21,"mat-icon",11),e.ALo(22,"translate"),e._uU(23,"refresh"),e.qZA()(),e.YNc(24,Sl,3,3,"button",12),e.BQk(),e.ynx(25,13),e.TgZ(26,"h1"),e._uU(27),e.qZA(),e.YNc(28,bl,6,3,"button",14),e.YNc(29,kl,6,3,"button",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewSiteRow(o.tableRowSelected)}),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"button",16),e.NdJ("click",function(){return o.onActionbuttonViewUserRow(o.tableRowSelected)}),e.TgZ(37,"span"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"mat-icon"),e._uU(41,"supervisor_account"),e.qZA()(),e.YNc(42,wl,4,3,"button",12),e.BQk(),e.ynx(43,17),e.TgZ(44,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return o.optionsSearch=c}),e.qZA(),e.TgZ(45,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return o.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(46,19),e.TgZ(47,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(a);const c=e.MAs(48);return e.KtG(o.onTableSortData(c))}),e.ynx(49,22),e.YNc(50,Ml,2,1,"mat-header-cell",23),e.YNc(51,Zl,2,1,"mat-cell",24),e.BQk(),e.ynx(52,25),e.YNc(53,Il,2,1,"mat-header-cell",23),e.YNc(54,El,4,5,"mat-cell",24),e.BQk(),e.ynx(55,26),e.YNc(56,vl,2,1,"mat-header-cell",23),e.YNc(57,xl,4,5,"mat-cell",24),e.BQk(),e.ynx(58,27),e.YNc(59,Ll,2,1,"mat-header-cell",23),e.YNc(60,Rl,2,1,"mat-cell",24),e.BQk(),e.ynx(61,28),e.YNc(62,Ul,2,1,"mat-header-cell",23),e.YNc(63,Dl,5,7,"mat-cell",29),e.BQk(),e.ynx(64,30),e.YNc(65,ql,2,1,"mat-header-cell",23),e.YNc(66,Ol,3,4,"mat-cell",24),e.BQk(),e.ynx(67,31),e.YNc(68,Jl,2,1,"mat-header-cell",23),e.YNc(69,Yl,3,4,"mat-cell",24),e.BQk(),e.ynx(70,32),e.YNc(71,Gl,2,1,"mat-header-cell",23),e.YNc(72,Ql,3,3,"mat-cell",24),e.BQk(),e.ynx(73,33),e.YNc(74,Fl,2,1,"mat-header-cell",23),e.YNc(75,Hl,3,3,"mat-cell",24),e.BQk(),e.ynx(76,34),e.YNc(77,Bl,2,1,"mat-header-cell",23),e.YNc(78,Pl,3,3,"mat-cell",24),e.BQk(),e.ynx(79,35),e.YNc(80,jl,2,1,"mat-header-cell",23),e.YNc(81,Vl,2,1,"mat-cell",24),e.BQk(),e.ynx(82,36),e.YNc(83,Kl,2,1,"mat-header-cell",23),e.YNc(84,$l,2,1,"mat-cell",24),e.BQk(),e.ynx(85,37),e.YNc(86,Wl,3,3,"mat-header-cell",38),e.YNc(87,er,20,9,"mat-cell",39),e.BQk(),e.YNc(88,tr,1,0,"mat-header-row",40),e.YNc(89,nr,1,3,"mat-row",41),e.qZA(),e.BQk(),e.ynx(90,42),e.TgZ(91,"mat-paginator",43,44),e.NdJ("page",function(c){return o.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==o.tableRowSelected?null:o.tableRowSelected.id)>0),e.xp6(5),e.Q6J("ngIf",o.dataModelResult.access.accessWatchRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,27,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(15,29,"ACTION.STATIST")," "),e.xp6(3),e.s9C("title",e.lcZ(18,31,"ACTION.EXPORTFILE")),e.xp6(4),e.s9C("title",e.lcZ(22,33,"ACTION.RELOAD")),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(3),e.Oqu(null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",o.dataModelResult.access.accessDeleteRow),e.xp6(3),e.Oqu(e.lcZ(33,35,"ACTION.SITE")),e.xp6(6),e.Oqu(e.lcZ(39,37,"ACTION.USER")),e.xp6(4),e.Q6J("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(39,ir)))},dependencies:[_.mk,_.O5,_.PC,A.JJ,A.On,F.RK,U.Hw,D.Nt,I.VK,I.p6,H.NW,y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,B.y,P.q,j.Z,X.G,_.Ov,f.X$,V.B,K.J,$.Y,ee.G,te.Y,z.r],encapsulation:2})}return n})(),data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let ar=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[S.Bz.forChild(sr),S.Bz]})}return n})(),lr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({providers:[r.EAm,r.FLW,r.O0p,r.AMA,r.Q0Y,r.x6v,r.mPJ,r.qOP,r.Ozq,r.b9F,r.k$Z,N.s],imports:[ar,_.ez,A.u5,A.UX.withConfig({warnOnNgModelWithFormControl:"never"}),ne.m.forRoot()]})}return n})()},9654:(me,se,p)=>{p.d(se,{B:()=>A});var _=p(4537);let A=(()=>{class r{transform(ne,S){if(!S||0===S.length)return"";const u=S.find(R=>R.key===ne||R.value===ne);return u?u.description:""}static \u0275fac=function(S){return new(S||r)};static \u0275pipe=_.Yjl({name:"enums",type:r,pure:!0})}return r})()}}]);